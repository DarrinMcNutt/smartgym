var f4=Object.defineProperty;var h4=(e,t,n)=>t in e?f4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var uv=(e,t,n)=>h4(e,typeof t!="symbol"?t+"":t,n);function m4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function li(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cv={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function p4(){if(UT)return yu;UT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return yu.Fragment=t,yu.jsx=n,yu.jsxs=n,yu}var BT;function g4(){return BT||(BT=1,cv.exports=p4()),cv.exports}var y=g4(),dv={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function v4(){if(qT)return Ue;qT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function C(z,Y,le){this.props=z,this.context=Y,this.refs=T,this.updater=le||E}C.prototype.isReactComponent={},C.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=C.prototype;function k(z,Y,le){this.props=z,this.context=Y,this.refs=T,this.updater=le||E}var P=k.prototype=new R;P.constructor=k,S(P,C.prototype),P.isPureReactComponent=!0;var D=Array.isArray;function O(){}var M={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function L(z,Y,le){var fe=le.ref;return{$$typeof:e,type:z,key:Y,ref:fe!==void 0?fe:null,props:le}}function K(z,Y){return L(z.type,Y,z.props)}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function H(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return Y[le]})}var he=/\/+/g;function ce(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):Y.toString(36)}function ge(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(O,O):(z.status="pending",z.then(function(Y){z.status==="pending"&&(z.status="fulfilled",z.value=Y)},function(Y){z.status==="pending"&&(z.status="rejected",z.reason=Y)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,Y,le,fe,Ee){var je=typeof z;(je==="undefined"||je==="boolean")&&(z=null);var _e=!1;if(z===null)_e=!0;else switch(je){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(z.$$typeof){case e:case t:_e=!0;break;case h:return _e=z._init,$(_e(z._payload),Y,le,fe,Ee)}}if(_e)return Ee=Ee(z),_e=fe===""?"."+ce(z,0):fe,D(Ee)?(le="",_e!=null&&(le=_e.replace(he,"$&/")+"/"),$(Ee,Y,le,"",function(Ie){return Ie})):Ee!=null&&(X(Ee)&&(Ee=K(Ee,le+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace(he,"$&/")+"/")+_e)),Y.push(Ee)),1;_e=0;var lt=fe===""?".":fe+":";if(D(z))for(var Z=0;Z<z.length;Z++)fe=z[Z],je=lt+ce(fe,Z),_e+=$(fe,Y,le,je,Ee);else if(Z=w(z),typeof Z=="function")for(z=Z.call(z),Z=0;!(fe=z.next()).done;)fe=fe.value,je=lt+ce(fe,Z++),_e+=$(fe,Y,le,je,Ee);else if(je==="object"){if(typeof z.then=="function")return $(ge(z),Y,le,fe,Ee);throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _e}function te(z,Y,le){if(z==null)return z;var fe=[],Ee=0;return $(z,fe,"","",function(je){return Y.call(le,je,Ee++)}),fe}function ie(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var ue=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ve={map:te,forEach:function(z,Y,le){te(z,function(){Y.apply(this,arguments)},le)},count:function(z){var Y=0;return te(z,function(){Y++}),Y},toArray:function(z){return te(z,function(Y){return Y})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ue.Activity=p,Ue.Children=ve,Ue.Component=C,Ue.Fragment=n,Ue.Profiler=i,Ue.PureComponent=k,Ue.StrictMode=r,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(z){return M.H.useMemoCache(z)}},Ue.cache=function(z){return function(){return z.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(z,Y,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=S({},z.props),Ee=z.key;if(Y!=null)for(je in Y.key!==void 0&&(Ee=""+Y.key),Y)!B.call(Y,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Y.ref===void 0||(fe[je]=Y[je]);var je=arguments.length-2;if(je===1)fe.children=le;else if(1<je){for(var _e=Array(je),lt=0;lt<je;lt++)_e[lt]=arguments[lt+2];fe.children=_e}return L(z.type,Ee,fe)},Ue.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Ue.createElement=function(z,Y,le){var fe,Ee={},je=null;if(Y!=null)for(fe in Y.key!==void 0&&(je=""+Y.key),Y)B.call(Y,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=Y[fe]);var _e=arguments.length-2;if(_e===1)Ee.children=le;else if(1<_e){for(var lt=Array(_e),Z=0;Z<_e;Z++)lt[Z]=arguments[Z+2];Ee.children=lt}if(z&&z.defaultProps)for(fe in _e=z.defaultProps,_e)Ee[fe]===void 0&&(Ee[fe]=_e[fe]);return L(z,je,Ee)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(z){return{$$typeof:u,render:z}},Ue.isValidElement=X,Ue.lazy=function(z){return{$$typeof:h,_payload:{_status:-1,_result:z},_init:ie}},Ue.memo=function(z,Y){return{$$typeof:f,type:z,compare:Y===void 0?null:Y}},Ue.startTransition=function(z){var Y=M.T,le={};M.T=le;try{var fe=z(),Ee=M.S;Ee!==null&&Ee(le,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(O,ue)}catch(je){ue(je)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),M.T=Y}},Ue.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ue.use=function(z){return M.H.use(z)},Ue.useActionState=function(z,Y,le){return M.H.useActionState(z,Y,le)},Ue.useCallback=function(z,Y){return M.H.useCallback(z,Y)},Ue.useContext=function(z){return M.H.useContext(z)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(z,Y){return M.H.useDeferredValue(z,Y)},Ue.useEffect=function(z,Y){return M.H.useEffect(z,Y)},Ue.useEffectEvent=function(z){return M.H.useEffectEvent(z)},Ue.useId=function(){return M.H.useId()},Ue.useImperativeHandle=function(z,Y,le){return M.H.useImperativeHandle(z,Y,le)},Ue.useInsertionEffect=function(z,Y){return M.H.useInsertionEffect(z,Y)},Ue.useLayoutEffect=function(z,Y){return M.H.useLayoutEffect(z,Y)},Ue.useMemo=function(z,Y){return M.H.useMemo(z,Y)},Ue.useOptimistic=function(z,Y){return M.H.useOptimistic(z,Y)},Ue.useReducer=function(z,Y,le){return M.H.useReducer(z,Y,le)},Ue.useRef=function(z){return M.H.useRef(z)},Ue.useState=function(z){return M.H.useState(z)},Ue.useSyncExternalStore=function(z,Y,le){return M.H.useSyncExternalStore(z,Y,le)},Ue.useTransition=function(){return M.H.useTransition()},Ue.version="19.2.4",Ue}var $T;function cl(){return $T||($T=1,dv.exports=v4()),dv.exports}var A=cl();const $b=li(A),y4=m4({__proto__:null,default:$b},[A]);var fv={exports:{}},bu={},hv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function b4(){return HT||(HT=1,(function(e){function t($,te){var ie=$.length;$.push(te);e:for(;0<ie;){var ue=ie-1>>>1,ve=$[ue];if(0<i(ve,te))$[ue]=te,$[ie]=ve,ie=ue;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],ie=$.pop();if(ie!==te){$[0]=ie;e:for(var ue=0,ve=$.length,z=ve>>>1;ue<z;){var Y=2*(ue+1)-1,le=$[Y],fe=Y+1,Ee=$[fe];if(0>i(le,ie))fe<ve&&0>i(Ee,le)?($[ue]=Ee,$[fe]=ie,ue=fe):($[ue]=le,$[Y]=ie,ue=Y);else if(fe<ve&&0>i(Ee,ie))$[ue]=Ee,$[fe]=ie,ue=fe;else break e}}return te}function i($,te){var ie=$.sortIndex-te.sortIndex;return ie!==0?ie:$.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,p=null,v=3,w=!1,E=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function P($){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=$)r(f),te.sortIndex=te.expirationTime,t(d,te);else break;te=n(f)}}function D($){if(S=!1,P($),!E)if(n(d)!==null)E=!0,O||(O=!0,H());else{var te=n(f);te!==null&&ge(D,te.startTime-$)}}var O=!1,M=-1,B=5,L=-1;function K(){return T?!0:!(e.unstable_now()-L<B)}function X(){if(T=!1,O){var $=e.unstable_now();L=$;var te=!0;try{e:{E=!1,S&&(S=!1,R(M),M=-1),w=!0;var ie=v;try{t:{for(P($),p=n(d);p!==null&&!(p.expirationTime>$&&K());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,v=p.priorityLevel;var ve=ue(p.expirationTime<=$);if($=e.unstable_now(),typeof ve=="function"){p.callback=ve,P($),te=!0;break t}p===n(d)&&r(d),P($)}else r(d);p=n(d)}if(p!==null)te=!0;else{var z=n(f);z!==null&&ge(D,z.startTime-$),te=!1}}break e}finally{p=null,v=ie,w=!1}te=void 0}}finally{te?H():O=!1}}}var H;if(typeof k=="function")H=function(){k(X)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ce=he.port2;he.port1.onmessage=X,H=function(){ce.postMessage(null)}}else H=function(){C(X,0)};function ge($,te){M=C(function(){$(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var ie=v;v=te;try{return $()}finally{v=ie}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ie=v;v=$;try{return te()}finally{v=ie}},e.unstable_scheduleCallback=function($,te,ie){var ue=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ue+ie:ue):ie=ue,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ie+ve,$={id:h++,callback:te,priorityLevel:$,startTime:ie,expirationTime:ve,sortIndex:-1},ie>ue?($.sortIndex=ie,t(f,$),n(d)===null&&$===n(f)&&(S?(R(M),M=-1):S=!0,ge(D,ie-ue))):($.sortIndex=ve,t(d,$),E||w||(E=!0,O||(O=!0,H()))),$},e.unstable_shouldYield=K,e.unstable_wrapCallback=function($){var te=v;return function(){var ie=v;v=te;try{return $.apply(this,arguments)}finally{v=ie}}}})(mv)),mv}var GT;function x4(){return GT||(GT=1,hv.exports=b4()),hv.exports}var pv={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function w4(){if(FT)return bn;FT=1;var e=cl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,h)},bn.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},bn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},bn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},bn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:w}):h==="script"&&r.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},bn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},bn.requestFormReset=function(d){r.d.r(d)},bn.unstable_batchedUpdates=function(d,f){return d(f)},bn.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.2.4",bn}var VT;function cP(){if(VT)return pv.exports;VT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pv.exports=w4(),pv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function _4(){if(KT)return bu;KT=1;var e=x4(),t=cl(),n=cP();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(r(188))}function f(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,m=s;;){var x=c.return;if(x===null)break;var _=x.alternate;if(_===null){if(m=x.return,m!==null){c=m;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===c)return d(x),o;if(_===m)return d(x),s;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=x,m=_;else{for(var N=!1,I=x.child;I;){if(I===c){N=!0,c=x,m=_;break}if(I===m){N=!0,m=x,c=_;break}I=I.sibling}if(!N){for(I=_.child;I;){if(I===c){N=!0,c=_,m=x;break}if(I===m){N=!0,m=_,c=x;break}I=I.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var he=Symbol.for("react.client.reference");function ce(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===he?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case E:return"Portal";case k:return o.displayName||"Context";case R:return(o._context.displayName||"Context")+".Consumer";case P:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return s=o.displayName||null,s!==null?s:ce(o.type)||"Memo";case B:s=o._payload,o=o._init;try{return ce(o(s))}catch{}}return null}var ge=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function z(o){return{current:o}}function Y(o){0>ve||(o.current=ue[ve],ue[ve]=null,ve--)}function le(o,s){ve++,ue[ve]=o.current,o.current=s}var fe=z(null),Ee=z(null),je=z(null),_e=z(null);function lt(o,s){switch(le(je,s),le(Ee,o),le(fe,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?lT(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=lT(s),o=uT(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Y(fe),le(fe,o)}function Z(){Y(fe),Y(Ee),Y(je)}function Ie(o){o.memoizedState!==null&&le(_e,o);var s=fe.current,c=uT(s,o.type);s!==c&&(le(Ee,o),le(fe,c))}function Le(o){Ee.current===o&&(Y(fe),Y(Ee)),_e.current===o&&(Y(_e),mu._currentValue=ie)}var se,_t;function Be(o){if(se===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);se=s&&s[1]||"",_t=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+o+_t}var St=!1;function oe(o,s){if(!o||St)return"";St=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var V=J}Reflect.construct(o,[],re)}else{try{re.call()}catch(J){V=J}o.call(re.prototype)}}else{try{throw Error()}catch(J){V=J}(re=o())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&V&&typeof J.stack=="string")return[J.stack,V.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),N=_[0],I=_[1];if(N&&I){var j=N.split(`
`),F=I.split(`
`);for(x=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;x<F.length&&!F[x].includes("DetermineComponentFrameRoot");)x++;if(m===j.length||x===F.length)for(m=j.length-1,x=F.length-1;1<=m&&0<=x&&j[m]!==F[x];)x--;for(;1<=m&&0<=x;m--,x--)if(j[m]!==F[x]){if(m!==1||x!==1)do if(m--,x--,0>x||j[m]!==F[x]){var ee=`
`+j[m].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=m&&0<=x);break}}}finally{St=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?Be(c):""}function Q(o,s){switch(o.tag){case 26:case 27:case 5:return Be(o.type);case 16:return Be("Lazy");case 13:return o.child!==s&&s!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return oe(o.type,!1);case 11:return oe(o.type.render,!1);case 1:return oe(o.type,!0);case 31:return Be("Activity");default:return""}}function Me(o){try{var s="",c=null;do s+=Q(o,c),c=o,o=o.return;while(o);return s}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ae=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,ye=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,Ke=e.unstable_requestPaint,ut=e.unstable_now,Xe=e.unstable_getCurrentPriorityLevel,Fr=e.unstable_ImmediatePriority,yn=e.unstable_UserBlockingPriority,Ho=e.unstable_NormalPriority,Kz=e.unstable_LowPriority,$w=e.unstable_IdlePriority,Wz=e.log,Yz=e.unstable_setDisableYieldValue,Al=null,Fn=null;function ta(o){if(typeof Wz=="function"&&Yz(o),Fn&&typeof Fn.setStrictMode=="function")try{Fn.setStrictMode(Al,o)}catch{}}var Vn=Math.clz32?Math.clz32:Qz,Jz=Math.log,Xz=Math.LN2;function Qz(o){return o>>>=0,o===0?32:31-(Jz(o)/Xz|0)|0}var jc=256,zc=262144,Lc=4194304;function $a(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Uc(o,s,c){var m=o.pendingLanes;if(m===0)return 0;var x=0,_=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var I=m&134217727;return I!==0?(m=I&~_,m!==0?x=$a(m):(N&=I,N!==0?x=$a(N):c||(c=I&~o,c!==0&&(x=$a(c))))):(I=m&~_,I!==0?x=$a(I):N!==0?x=$a(N):c||(c=m&~o,c!==0&&(x=$a(c)))),x===0?0:s!==0&&s!==x&&(s&_)===0&&(_=x&-x,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:x}function Cl(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function Zz(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hw(){var o=Lc;return Lc<<=1,(Lc&62914560)===0&&(Lc=4194304),o}function Xm(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Nl(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function eL(o,s,c,m,x,_){var N=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var I=o.entanglements,j=o.expirationTimes,F=o.hiddenUpdates;for(c=N&~c;0<c;){var ee=31-Vn(c),re=1<<ee;I[ee]=0,j[ee]=-1;var V=F[ee];if(V!==null)for(F[ee]=null,ee=0;ee<V.length;ee++){var J=V[ee];J!==null&&(J.lane&=-536870913)}c&=~re}m!==0&&Gw(o,m,0),_!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=_&~(N&~s))}function Gw(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var m=31-Vn(s);o.entangledLanes|=s,o.entanglements[m]=o.entanglements[m]|1073741824|c&261930}function Fw(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var m=31-Vn(c),x=1<<m;x&s|o[m]&s&&(o[m]|=s),c&=~x}}function Vw(o,s){var c=s&-s;return c=(c&42)!==0?1:Qm(c),(c&(o.suspendedLanes|s))!==0?0:c}function Qm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Zm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Kw(){var o=te.p;return o!==0?o:(o=window.event,o===void 0?32:PT(o.type))}function Ww(o,s){var c=te.p;try{return te.p=o,s()}finally{te.p=c}}var na=Math.random().toString(36).slice(2),ln="__reactFiber$"+na,Mn="__reactProps$"+na,Go="__reactContainer$"+na,ep="__reactEvents$"+na,tL="__reactListeners$"+na,nL="__reactHandles$"+na,Yw="__reactResources$"+na,Ol="__reactMarker$"+na;function tp(o){delete o[ln],delete o[Mn],delete o[ep],delete o[tL],delete o[nL]}function Fo(o){var s=o[ln];if(s)return s;for(var c=o.parentNode;c;){if(s=c[Go]||c[ln]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=gT(o);o!==null;){if(c=o[ln])return c;o=gT(o)}return s}o=c,c=o.parentNode}return null}function Vo(o){if(o=o[ln]||o[Go]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function Rl(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Ko(o){var s=o[Yw];return s||(s=o[Yw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(o){o[Ol]=!0}var Jw=new Set,Xw={};function Ha(o,s){Wo(o,s),Wo(o+"Capture",s)}function Wo(o,s){for(Xw[o]=s,o=0;o<s.length;o++)Jw.add(s[o])}var rL=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qw={},Zw={};function iL(o){return ae.call(Zw,o)?!0:ae.call(Qw,o)?!1:rL.test(o)?Zw[o]=!0:(Qw[o]=!0,!1)}function Bc(o,s,c){if(iL(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var m=s.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function qc(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function ui(o,s,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+m)}}function or(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function e_(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function aL(o,s,c){var m=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,_=m.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return x.call(this)},set:function(N){c=""+N,_.call(this,N)}}),Object.defineProperty(o,s,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function np(o){if(!o._valueTracker){var s=e_(o)?"checked":"value";o._valueTracker=aL(o,s,""+o[s])}}function t_(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return o&&(m=e_(o)?o.checked?"true":"false":o.value),o=m,o!==c?(s.setValue(o),!0):!1}function $c(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var oL=/[\n"\\]/g;function sr(o){return o.replace(oL,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rp(o,s,c,m,x,_,N,I){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),s!=null?N==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+or(s)):o.value!==""+or(s)&&(o.value=""+or(s)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),s!=null?ip(o,N,or(s)):c!=null?ip(o,N,or(c)):m!=null&&o.removeAttribute("value"),x==null&&_!=null&&(o.defaultChecked=!!_),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.name=""+or(I):o.removeAttribute("name")}function n_(o,s,c,m,x,_,N,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){np(o);return}c=c!=null?""+or(c):"",s=s!=null?""+or(s):c,I||s===o.value||(o.value=s),o.defaultValue=s}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=I?o.checked:!!m,o.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),np(o)}function ip(o,s,c){s==="number"&&$c(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function Yo(o,s,c,m){if(o=o.options,s){s={};for(var x=0;x<c.length;x++)s["$"+c[x]]=!0;for(c=0;c<o.length;c++)x=s.hasOwnProperty("$"+o[c].value),o[c].selected!==x&&(o[c].selected=x),x&&m&&(o[c].defaultSelected=!0)}else{for(c=""+or(c),s=null,x=0;x<o.length;x++){if(o[x].value===c){o[x].selected=!0,m&&(o[x].defaultSelected=!0);return}s!==null||o[x].disabled||(s=o[x])}s!==null&&(s.selected=!0)}}function r_(o,s,c){if(s!=null&&(s=""+or(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+or(c):""}function i_(o,s,c,m){if(s==null){if(m!=null){if(c!=null)throw Error(r(92));if(ge(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),s=c}c=or(s),o.defaultValue=c,m=o.textContent,m===c&&m!==""&&m!==null&&(o.value=m),np(o)}function Jo(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var sL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a_(o,s,c){var m=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":m?o.setProperty(s,c):typeof c!="number"||c===0||sL.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function o_(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||s!=null&&s.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var x in s)m=s[x],s.hasOwnProperty(x)&&c[x]!==m&&a_(o,x,m)}else for(var _ in s)s.hasOwnProperty(_)&&a_(o,_,s[_])}function ap(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(o){return uL.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function ci(){}var op=null;function sp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Xo=null,Qo=null;function s_(o){var s=Vo(o);if(s&&(o=s.stateNode)){var c=o[Mn]||null;e:switch(o=s.stateNode,s.type){case"input":if(rp(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+sr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==o&&m.form===o.form){var x=m[Mn]||null;if(!x)throw Error(r(90));rp(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<c.length;s++)m=c[s],m.form===o.form&&t_(m)}break e;case"textarea":r_(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Yo(o,!!c.multiple,s,!1)}}}var lp=!1;function l_(o,s,c){if(lp)return o(s,c);lp=!0;try{var m=o(s);return m}finally{if(lp=!1,(Xo!==null||Qo!==null)&&(Rd(),Xo&&(s=Xo,o=Qo,Qo=Xo=null,s_(s),o)))for(s=0;s<o.length;s++)s_(o[s])}}function kl(o,s){var c=o.stateNode;if(c===null)return null;var m=c[Mn]||null;if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),up=!1;if(di)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){up=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{up=!1}var ra=null,cp=null,Gc=null;function u_(){if(Gc)return Gc;var o,s=cp,c=s.length,m,x="value"in ra?ra.value:ra.textContent,_=x.length;for(o=0;o<c&&s[o]===x[o];o++);var N=c-o;for(m=1;m<=N&&s[c-m]===x[_-m];m++);return Gc=x.slice(o,1<m?1-m:void 0)}function Fc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Vc(){return!0}function c_(){return!1}function Dn(o){function s(c,m,x,_,N){this._reactName=c,this._targetInst=x,this.type=m,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var I in o)o.hasOwnProperty(I)&&(c=o[I],this[I]=c?c(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Vc:c_,this.isPropagationStopped=c_,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),s}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=Dn(Ga),Il=p({},Ga,{view:0,detail:0}),cL=Dn(Il),dp,fp,Ml,Wc=p({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ml&&(Ml&&o.type==="mousemove"?(dp=o.screenX-Ml.screenX,fp=o.screenY-Ml.screenY):fp=dp=0,Ml=o),dp)},movementY:function(o){return"movementY"in o?o.movementY:fp}}),d_=Dn(Wc),dL=p({},Wc,{dataTransfer:0}),fL=Dn(dL),hL=p({},Il,{relatedTarget:0}),hp=Dn(hL),mL=p({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),pL=Dn(mL),gL=p({},Ga,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),vL=Dn(gL),yL=p({},Ga,{data:0}),f_=Dn(yL),bL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _L(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=wL[o])?!!s[o]:!1}function mp(){return _L}var SL=p({},Il,{key:function(o){if(o.key){var s=bL[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Fc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?xL[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mp,charCode:function(o){return o.type==="keypress"?Fc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Fc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),EL=Dn(SL),TL=p({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h_=Dn(TL),AL=p({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mp}),CL=Dn(AL),NL=p({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),OL=Dn(NL),RL=p({},Wc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),kL=Dn(RL),PL=p({},Ga,{newState:0,oldState:0}),IL=Dn(PL),ML=[9,13,27,32],pp=di&&"CompositionEvent"in window,Dl=null;di&&"documentMode"in document&&(Dl=document.documentMode);var DL=di&&"TextEvent"in window&&!Dl,m_=di&&(!pp||Dl&&8<Dl&&11>=Dl),p_=" ",g_=!1;function v_(o,s){switch(o){case"keyup":return ML.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Zo=!1;function jL(o,s){switch(o){case"compositionend":return y_(s);case"keypress":return s.which!==32?null:(g_=!0,p_);case"textInput":return o=s.data,o===p_&&g_?null:o;default:return null}}function zL(o,s){if(Zo)return o==="compositionend"||!pp&&v_(o,s)?(o=u_(),Gc=cp=ra=null,Zo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return m_&&s.locale!=="ko"?null:s.data;default:return null}}var LL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!LL[o.type]:s==="textarea"}function x_(o,s,c,m){Xo?Qo?Qo.push(m):Qo=[m]:Xo=m,s=zd(s,"onChange"),0<s.length&&(c=new Kc("onChange","change",null,c,m),o.push({event:c,listeners:s}))}var jl=null,zl=null;function UL(o){nT(o,0)}function Yc(o){var s=Rl(o);if(t_(s))return o}function w_(o,s){if(o==="change")return s}var __=!1;if(di){var gp;if(di){var vp="oninput"in document;if(!vp){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),vp=typeof S_.oninput=="function"}gp=vp}else gp=!1;__=gp&&(!document.documentMode||9<document.documentMode)}function E_(){jl&&(jl.detachEvent("onpropertychange",T_),zl=jl=null)}function T_(o){if(o.propertyName==="value"&&Yc(zl)){var s=[];x_(s,zl,o,sp(o)),l_(UL,s)}}function BL(o,s,c){o==="focusin"?(E_(),jl=s,zl=c,jl.attachEvent("onpropertychange",T_)):o==="focusout"&&E_()}function qL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Yc(zl)}function $L(o,s){if(o==="click")return Yc(s)}function HL(o,s){if(o==="input"||o==="change")return Yc(s)}function GL(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Kn=typeof Object.is=="function"?Object.is:GL;function Ll(o,s){if(Kn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var x=c[m];if(!ae.call(s,x)||!Kn(o[x],s[x]))return!1}return!0}function A_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function C_(o,s){var c=A_(o);o=0;for(var m;c;){if(c.nodeType===3){if(m=o+c.textContent.length,o<=s&&m>=s)return{node:c,offset:s-o};o=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=A_(c)}}function N_(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?N_(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function O_(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=$c(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=$c(o.document)}return s}function yp(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var FL=di&&"documentMode"in document&&11>=document.documentMode,es=null,bp=null,Ul=null,xp=!1;function R_(o,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xp||es==null||es!==$c(m)||(m=es,"selectionStart"in m&&yp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ul&&Ll(Ul,m)||(Ul=m,m=zd(bp,"onSelect"),0<m.length&&(s=new Kc("onSelect","select",null,s,c),o.push({event:s,listeners:m}),s.target=es)))}function Fa(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var ts={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},wp={},k_={};di&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Va(o){if(wp[o])return wp[o];if(!ts[o])return o;var s=ts[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in k_)return wp[o]=s[c];return o}var P_=Va("animationend"),I_=Va("animationiteration"),M_=Va("animationstart"),VL=Va("transitionrun"),KL=Va("transitionstart"),WL=Va("transitioncancel"),D_=Va("transitionend"),j_=new Map,_p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_p.push("scrollEnd");function Cr(o,s){j_.set(o,s),Ha(s,[o])}var Jc=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},lr=[],ns=0,Sp=0;function Xc(){for(var o=ns,s=Sp=ns=0;s<o;){var c=lr[s];lr[s++]=null;var m=lr[s];lr[s++]=null;var x=lr[s];lr[s++]=null;var _=lr[s];if(lr[s++]=null,m!==null&&x!==null){var N=m.pending;N===null?x.next=x:(x.next=N.next,N.next=x),m.pending=x}_!==0&&z_(c,x,_)}}function Qc(o,s,c,m){lr[ns++]=o,lr[ns++]=s,lr[ns++]=c,lr[ns++]=m,Sp|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Ep(o,s,c,m){return Qc(o,s,c,m),Zc(o)}function Ka(o,s){return Qc(o,null,null,s),Zc(o)}function z_(o,s,c){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c);for(var x=!1,_=o.return;_!==null;)_.childLanes|=c,m=_.alternate,m!==null&&(m.childLanes|=c),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(x=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,x&&s!==null&&(x=31-Vn(c),o=_.hiddenUpdates,m=o[x],m===null?o[x]=[s]:m.push(s),s.lane=c|536870912),_):null}function Zc(o){if(50<su)throw su=0,Ig=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var rs={};function YL(o,s,c,m){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(o,s,c,m){return new YL(o,s,c,m)}function Tp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fi(o,s){var c=o.alternate;return c===null?(c=Wn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function L_(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function ed(o,s,c,m,x,_){var N=0;if(m=o,typeof o=="function")Tp(o)&&(N=1);else if(typeof o=="string")N=e4(o,c,fe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Wn(31,c,s,x),o.elementType=L,o.lanes=_,o;case S:return Wa(c.children,x,_,s);case T:N=8,x|=24;break;case C:return o=Wn(12,c,s,x|2),o.elementType=C,o.lanes=_,o;case D:return o=Wn(13,c,s,x),o.elementType=D,o.lanes=_,o;case O:return o=Wn(19,c,s,x),o.elementType=O,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:N=10;break e;case R:N=9;break e;case P:N=11;break e;case M:N=14;break e;case B:N=16,m=null;break e}N=29,c=Error(r(130,o===null?"null":typeof o,"")),m=null}return s=Wn(N,c,s,x),s.elementType=o,s.type=m,s.lanes=_,s}function Wa(o,s,c,m){return o=Wn(7,o,m,s),o.lanes=c,o}function Ap(o,s,c){return o=Wn(6,o,null,s),o.lanes=c,o}function U_(o){var s=Wn(18,null,null,0);return s.stateNode=o,s}function Cp(o,s,c){return s=Wn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var B_=new WeakMap;function ur(o,s){if(typeof o=="object"&&o!==null){var c=B_.get(o);return c!==void 0?c:(s={value:o,source:s,stack:Me(s)},B_.set(o,s),s)}return{value:o,source:s,stack:Me(s)}}var is=[],as=0,td=null,Bl=0,cr=[],dr=0,ia=null,Vr=1,Kr="";function hi(o,s){is[as++]=Bl,is[as++]=td,td=o,Bl=s}function q_(o,s,c){cr[dr++]=Vr,cr[dr++]=Kr,cr[dr++]=ia,ia=o;var m=Vr;o=Kr;var x=32-Vn(m)-1;m&=~(1<<x),c+=1;var _=32-Vn(s)+x;if(30<_){var N=x-x%5;_=(m&(1<<N)-1).toString(32),m>>=N,x-=N,Vr=1<<32-Vn(s)+x|c<<x|m,Kr=_+o}else Vr=1<<_|c<<x|m,Kr=o}function Np(o){o.return!==null&&(hi(o,1),q_(o,1,0))}function Op(o){for(;o===td;)td=is[--as],is[as]=null,Bl=is[--as],is[as]=null;for(;o===ia;)ia=cr[--dr],cr[dr]=null,Kr=cr[--dr],cr[dr]=null,Vr=cr[--dr],cr[dr]=null}function $_(o,s){cr[dr++]=Vr,cr[dr++]=Kr,cr[dr++]=ia,Vr=s.id,Kr=s.overflow,ia=o}var un=null,bt=null,We=!1,aa=null,fr=!1,Rp=Error(r(519));function oa(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql(ur(s,o)),Rp}function H_(o){var s=o.stateNode,c=o.type,m=o.memoizedProps;switch(s[ln]=o,s[Mn]=m,c){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(c=0;c<uu.length;c++)Ge(uu[c],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),n_(s,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),i_(s,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||m.suppressHydrationWarning===!0||oT(s.textContent,c)?(m.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),m.onScroll!=null&&Ge("scroll",s),m.onScrollEnd!=null&&Ge("scrollend",s),m.onClick!=null&&(s.onclick=ci),s=!0):s=!1,s||oa(o,!0)}function G_(o){for(un=o.return;un;)switch(un.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:un=un.return}}function os(o){if(o!==un)return!1;if(!We)return G_(o),We=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||Wg(o.type,o.memoizedProps)),c=!c),c&&bt&&oa(o),G_(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));bt=pT(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));bt=pT(o)}else s===27?(s=bt,xa(o.type)?(o=Zg,Zg=null,bt=o):bt=s):bt=un?mr(o.stateNode.nextSibling):null;return!0}function Ya(){bt=un=null,We=!1}function kp(){var o=aa;return o!==null&&(Un===null?Un=o:Un.push.apply(Un,o),aa=null),o}function ql(o){aa===null?aa=[o]:aa.push(o)}var Pp=z(null),Ja=null,mi=null;function sa(o,s,c){le(Pp,s._currentValue),s._currentValue=c}function pi(o){o._currentValue=Pp.current,Y(Pp)}function Ip(o,s,c){for(;o!==null;){var m=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),o===c)break;o=o.return}}function Mp(o,s,c,m){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var _=x.dependencies;if(_!==null){var N=x.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=x;for(var j=0;j<s.length;j++)if(I.context===s[j]){_.lanes|=c,I=_.alternate,I!==null&&(I.lanes|=c),Ip(_.return,c,o),m||(N=null);break e}_=I.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=c,_=N.alternate,_!==null&&(_.lanes|=c),Ip(N,c,o),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===o){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function ss(o,s,c,m){o=null;for(var x=s,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=x.type;Kn(x.pendingProps.value,N.value)||(o!==null?o.push(I):o=[I])}}else if(x===_e.current){if(N=x.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(mu):o=[mu])}x=x.return}o!==null&&Mp(s,o,c,m),s.flags|=262144}function nd(o){for(o=o.firstContext;o!==null;){if(!Kn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Xa(o){Ja=o,mi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function cn(o){return F_(Ja,o)}function rd(o,s){return Ja===null&&Xa(o),F_(o,s)}function F_(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},mi===null){if(o===null)throw Error(r(308));mi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else mi=mi.next=s;return c}var JL=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,m){o.push(m)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},XL=e.unstable_scheduleCallback,QL=e.unstable_NormalPriority,zt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new JL,data:new Map,refCount:0}}function $l(o){o.refCount--,o.refCount===0&&XL(QL,function(){o.controller.abort()})}var Hl=null,jp=0,ls=0,us=null;function ZL(o,s){if(Hl===null){var c=Hl=[];jp=0,ls=Ug(),us={status:"pending",value:void 0,then:function(m){c.push(m)}}}return jp++,s.then(V_,V_),s}function V_(){if(--jp===0&&Hl!==null){us!==null&&(us.status="fulfilled");var o=Hl;Hl=null,ls=0,us=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function eU(o,s){var c=[],m={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return o.then(function(){m.status="fulfilled",m.value=s;for(var x=0;x<c.length;x++)(0,c[x])(s)},function(x){for(m.status="rejected",m.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),m}var K_=$.S;$.S=function(o,s){RE=ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZL(o,s),K_!==null&&K_(o,s)};var Qa=z(null);function zp(){var o=Qa.current;return o!==null?o:pt.pooledCache}function id(o,s){s===null?le(Qa,Qa.current):le(Qa,s.pool)}function W_(){var o=zp();return o===null?null:{parent:zt._currentValue,pool:o}}var cs=Error(r(460)),Lp=Error(r(474)),ad=Error(r(542)),od={then:function(){}};function Y_(o){return o=o.status,o==="fulfilled"||o==="rejected"}function J_(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(ci,ci),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Q_(o),o;default:if(typeof s.status=="string")s.then(ci,ci);else{if(o=pt,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(m){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=m}},function(m){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=m}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,Q_(o),o}throw eo=s,cs}}function Za(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(eo=c,cs):c}}var eo=null;function X_(){if(eo===null)throw Error(r(459));var o=eo;return eo=null,o}function Q_(o){if(o===cs||o===ad)throw Error(r(483))}var ds=null,Gl=0;function sd(o){var s=Gl;return Gl+=1,ds===null&&(ds=[]),J_(ds,o,s)}function Fl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function ld(o,s){throw s.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function Z_(o){function s(q,U){if(o){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function c(q,U){if(!o)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function m(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function x(q,U){return q=fi(q,U),q.index=0,q.sibling=null,q}function _(q,U,G){return q.index=G,o?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=67108866,U):G):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function N(q){return o&&q.alternate===null&&(q.flags|=67108866),q}function I(q,U,G,ne){return U===null||U.tag!==6?(U=Ap(G,q.mode,ne),U.return=q,U):(U=x(U,G),U.return=q,U)}function j(q,U,G,ne){var Ne=G.type;return Ne===S?ee(q,U,G.props.children,ne,G.key):U!==null&&(U.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===B&&Za(Ne)===U.type)?(U=x(U,G.props),Fl(U,G),U.return=q,U):(U=ed(G.type,G.key,G.props,null,q.mode,ne),Fl(U,G),U.return=q,U)}function F(q,U,G,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Cp(G,q.mode,ne),U.return=q,U):(U=x(U,G.children||[]),U.return=q,U)}function ee(q,U,G,ne,Ne){return U===null||U.tag!==7?(U=Wa(G,q.mode,ne,Ne),U.return=q,U):(U=x(U,G),U.return=q,U)}function re(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Ap(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return G=ed(U.type,U.key,U.props,null,q.mode,G),Fl(G,U),G.return=q,G;case E:return U=Cp(U,q.mode,G),U.return=q,U;case B:return U=Za(U),re(q,U,G)}if(ge(U)||H(U))return U=Wa(U,q.mode,G,null),U.return=q,U;if(typeof U.then=="function")return re(q,sd(U),G);if(U.$$typeof===k)return re(q,rd(q,U),G);ld(q,U)}return null}function V(q,U,G,ne){var Ne=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ne!==null?null:I(q,U,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===Ne?j(q,U,G,ne):null;case E:return G.key===Ne?F(q,U,G,ne):null;case B:return G=Za(G),V(q,U,G,ne)}if(ge(G)||H(G))return Ne!==null?null:ee(q,U,G,ne,null);if(typeof G.then=="function")return V(q,U,sd(G),ne);if(G.$$typeof===k)return V(q,U,rd(q,G),ne);ld(q,G)}return null}function J(q,U,G,ne,Ne){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(G)||null,I(U,q,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return q=q.get(ne.key===null?G:ne.key)||null,j(U,q,ne,Ne);case E:return q=q.get(ne.key===null?G:ne.key)||null,F(U,q,ne,Ne);case B:return ne=Za(ne),J(q,U,G,ne,Ne)}if(ge(ne)||H(ne))return q=q.get(G)||null,ee(U,q,ne,Ne,null);if(typeof ne.then=="function")return J(q,U,G,sd(ne),Ne);if(ne.$$typeof===k)return J(q,U,G,rd(U,ne),Ne);ld(U,ne)}return null}function xe(q,U,G,ne){for(var Ne=null,Qe=null,Se=U,$e=U=0,Ve=null;Se!==null&&$e<G.length;$e++){Se.index>$e?(Ve=Se,Se=null):Ve=Se.sibling;var Ze=V(q,Se,G[$e],ne);if(Ze===null){Se===null&&(Se=Ve);break}o&&Se&&Ze.alternate===null&&s(q,Se),U=_(Ze,U,$e),Qe===null?Ne=Ze:Qe.sibling=Ze,Qe=Ze,Se=Ve}if($e===G.length)return c(q,Se),We&&hi(q,$e),Ne;if(Se===null){for(;$e<G.length;$e++)Se=re(q,G[$e],ne),Se!==null&&(U=_(Se,U,$e),Qe===null?Ne=Se:Qe.sibling=Se,Qe=Se);return We&&hi(q,$e),Ne}for(Se=m(Se);$e<G.length;$e++)Ve=J(Se,q,$e,G[$e],ne),Ve!==null&&(o&&Ve.alternate!==null&&Se.delete(Ve.key===null?$e:Ve.key),U=_(Ve,U,$e),Qe===null?Ne=Ve:Qe.sibling=Ve,Qe=Ve);return o&&Se.forEach(function(Ta){return s(q,Ta)}),We&&hi(q,$e),Ne}function ke(q,U,G,ne){if(G==null)throw Error(r(151));for(var Ne=null,Qe=null,Se=U,$e=U=0,Ve=null,Ze=G.next();Se!==null&&!Ze.done;$e++,Ze=G.next()){Se.index>$e?(Ve=Se,Se=null):Ve=Se.sibling;var Ta=V(q,Se,Ze.value,ne);if(Ta===null){Se===null&&(Se=Ve);break}o&&Se&&Ta.alternate===null&&s(q,Se),U=_(Ta,U,$e),Qe===null?Ne=Ta:Qe.sibling=Ta,Qe=Ta,Se=Ve}if(Ze.done)return c(q,Se),We&&hi(q,$e),Ne;if(Se===null){for(;!Ze.done;$e++,Ze=G.next())Ze=re(q,Ze.value,ne),Ze!==null&&(U=_(Ze,U,$e),Qe===null?Ne=Ze:Qe.sibling=Ze,Qe=Ze);return We&&hi(q,$e),Ne}for(Se=m(Se);!Ze.done;$e++,Ze=G.next())Ze=J(Se,q,$e,Ze.value,ne),Ze!==null&&(o&&Ze.alternate!==null&&Se.delete(Ze.key===null?$e:Ze.key),U=_(Ze,U,$e),Qe===null?Ne=Ze:Qe.sibling=Ze,Qe=Ze);return o&&Se.forEach(function(d4){return s(q,d4)}),We&&hi(q,$e),Ne}function ft(q,U,G,ne){if(typeof G=="object"&&G!==null&&G.type===S&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var Ne=G.key;U!==null;){if(U.key===Ne){if(Ne=G.type,Ne===S){if(U.tag===7){c(q,U.sibling),ne=x(U,G.props.children),ne.return=q,q=ne;break e}}else if(U.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===B&&Za(Ne)===U.type){c(q,U.sibling),ne=x(U,G.props),Fl(ne,G),ne.return=q,q=ne;break e}c(q,U);break}else s(q,U);U=U.sibling}G.type===S?(ne=Wa(G.props.children,q.mode,ne,G.key),ne.return=q,q=ne):(ne=ed(G.type,G.key,G.props,null,q.mode,ne),Fl(ne,G),ne.return=q,q=ne)}return N(q);case E:e:{for(Ne=G.key;U!==null;){if(U.key===Ne)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){c(q,U.sibling),ne=x(U,G.children||[]),ne.return=q,q=ne;break e}else{c(q,U);break}else s(q,U);U=U.sibling}ne=Cp(G,q.mode,ne),ne.return=q,q=ne}return N(q);case B:return G=Za(G),ft(q,U,G,ne)}if(ge(G))return xe(q,U,G,ne);if(H(G)){if(Ne=H(G),typeof Ne!="function")throw Error(r(150));return G=Ne.call(G),ke(q,U,G,ne)}if(typeof G.then=="function")return ft(q,U,sd(G),ne);if(G.$$typeof===k)return ft(q,U,rd(q,G),ne);ld(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(c(q,U.sibling),ne=x(U,G),ne.return=q,q=ne):(c(q,U),ne=Ap(G,q.mode,ne),ne.return=q,q=ne),N(q)):c(q,U)}return function(q,U,G,ne){try{Gl=0;var Ne=ft(q,U,G,ne);return ds=null,Ne}catch(Se){if(Se===cs||Se===ad)throw Se;var Qe=Wn(29,Se,null,q.mode);return Qe.lanes=ne,Qe.return=q,Qe}finally{}}}var to=Z_(!0),eS=Z_(!1),la=!1;function Up(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bp(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ua(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function ca(o,s,c){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(nt&2)!==0){var x=m.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),m.pending=s,s=Zc(o),z_(o,null,c),s}return Qc(o,m,s,c),Zc(o)}function Vl(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var m=s.lanes;m&=o.pendingLanes,c|=m,s.lanes=c,Fw(o,c)}}function qp(o,s){var c=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var x=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?x=_=N:_=_.next=N,c=c.next}while(c!==null);_===null?x=_=s:_=_.next=s}else x=_=s;c={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var $p=!1;function Kl(){if($p){var o=us;if(o!==null)throw o}}function Wl(o,s,c,m){$p=!1;var x=o.updateQueue;la=!1;var _=x.firstBaseUpdate,N=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var j=I,F=j.next;j.next=null,N===null?_=F:N.next=F,N=j;var ee=o.alternate;ee!==null&&(ee=ee.updateQueue,I=ee.lastBaseUpdate,I!==N&&(I===null?ee.firstBaseUpdate=F:I.next=F,ee.lastBaseUpdate=j))}if(_!==null){var re=x.baseState;N=0,ee=F=j=null,I=_;do{var V=I.lane&-536870913,J=V!==I.lane;if(J?(Fe&V)===V:(m&V)===V){V!==0&&V===ls&&($p=!0),ee!==null&&(ee=ee.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var xe=o,ke=I;V=s;var ft=c;switch(ke.tag){case 1:if(xe=ke.payload,typeof xe=="function"){re=xe.call(ft,re,V);break e}re=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ke.payload,V=typeof xe=="function"?xe.call(ft,re,V):xe,V==null)break e;re=p({},re,V);break e;case 2:la=!0}}V=I.callback,V!==null&&(o.flags|=64,J&&(o.flags|=8192),J=x.callbacks,J===null?x.callbacks=[V]:J.push(V))}else J={lane:V,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ee===null?(F=ee=J,j=re):ee=ee.next=J,N|=V;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;J=I,I=J.next,J.next=null,x.lastBaseUpdate=J,x.shared.pending=null}}while(!0);ee===null&&(j=re),x.baseState=j,x.firstBaseUpdate=F,x.lastBaseUpdate=ee,_===null&&(x.shared.lanes=0),pa|=N,o.lanes=N,o.memoizedState=re}}function tS(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function nS(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)tS(c[o],s)}var fs=z(null),ud=z(0);function rS(o,s){o=Ei,le(ud,o),le(fs,s),Ei=o|s.baseLanes}function Hp(){le(ud,Ei),le(fs,fs.current)}function Gp(){Ei=ud.current,Y(fs),Y(ud)}var Yn=z(null),hr=null;function da(o){var s=o.alternate;le(Mt,Mt.current&1),le(Yn,o),hr===null&&(s===null||fs.current!==null||s.memoizedState!==null)&&(hr=o)}function Fp(o){le(Mt,Mt.current),le(Yn,o),hr===null&&(hr=o)}function iS(o){o.tag===22?(le(Mt,Mt.current),le(Yn,o),hr===null&&(hr=o)):fa()}function fa(){le(Mt,Mt.current),le(Yn,Yn.current)}function Jn(o){Y(Yn),hr===o&&(hr=null),Y(Mt)}var Mt=z(0);function cd(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Xg(c)||Qg(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gi=0,qe=null,ct=null,Lt=null,dd=!1,hs=!1,no=!1,fd=0,Yl=0,ms=null,tU=0;function Nt(){throw Error(r(321))}function Vp(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!Kn(o[c],s[c]))return!1;return!0}function Kp(o,s,c,m,x,_){return gi=_,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=o===null||o.memoizedState===null?qS:lg,no=!1,_=c(m,x),no=!1,hs&&(_=oS(s,c,m,x)),aS(o),_}function aS(o){$.H=Ql;var s=ct!==null&&ct.next!==null;if(gi=0,Lt=ct=qe=null,dd=!1,Yl=0,ms=null,s)throw Error(r(300));o===null||Ut||(o=o.dependencies,o!==null&&nd(o)&&(Ut=!0))}function oS(o,s,c,m){qe=o;var x=0;do{if(hs&&(ms=null),Yl=0,hs=!1,25<=x)throw Error(r(301));if(x+=1,Lt=ct=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=$S,_=s(c,m)}while(hs);return _}function nU(){var o=$.H,s=o.useState()[0];return s=typeof s.then=="function"?Jl(s):s,o=o.useState()[0],(ct!==null?ct.memoizedState:null)!==o&&(qe.flags|=1024),s}function Wp(){var o=fd!==0;return fd=0,o}function Yp(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function Jp(o){if(dd){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}dd=!1}gi=0,Lt=ct=qe=null,hs=!1,Yl=fd=0,ms=null}function En(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?qe.memoizedState=Lt=o:Lt=Lt.next=o,Lt}function Dt(){if(ct===null){var o=qe.alternate;o=o!==null?o.memoizedState:null}else o=ct.next;var s=Lt===null?qe.memoizedState:Lt.next;if(s!==null)Lt=s,ct=o;else{if(o===null)throw qe.alternate===null?Error(r(467)):Error(r(310));ct=o,o={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Lt===null?qe.memoizedState=Lt=o:Lt=Lt.next=o}return Lt}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(o){var s=Yl;return Yl+=1,ms===null&&(ms=[]),o=J_(ms,o,s),s=qe,(Lt===null?s.memoizedState:Lt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?qS:lg),o}function md(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Jl(o);if(o.$$typeof===k)return cn(o)}throw Error(r(438,String(o)))}function Xp(o){var s=null,c=qe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var m=qe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(s={data:m.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=hd(),qe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),m=0;m<o;m++)c[m]=K;return s.index++,c}function vi(o,s){return typeof s=="function"?s(o):s}function pd(o){var s=Dt();return Qp(s,ct,o)}function Qp(o,s,c){var m=o.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var x=o.baseQueue,_=m.pending;if(_!==null){if(x!==null){var N=x.next;x.next=_.next,_.next=N}s.baseQueue=x=_,m.pending=null}if(_=o.baseState,x===null)o.memoizedState=_;else{s=x.next;var I=N=null,j=null,F=s,ee=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(Fe&re)===re:(gi&re)===re){var V=F.revertLane;if(V===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===ls&&(ee=!0);else if((gi&V)===V){F=F.next,V===ls&&(ee=!0);continue}else re={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(I=j=re,N=_):j=j.next=re,qe.lanes|=V,pa|=V;re=F.action,no&&c(_,re),_=F.hasEagerState?F.eagerState:c(_,re)}else V={lane:re,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},j===null?(I=j=V,N=_):j=j.next=V,qe.lanes|=re,pa|=re;F=F.next}while(F!==null&&F!==s);if(j===null?N=_:j.next=I,!Kn(_,o.memoizedState)&&(Ut=!0,ee&&(c=us,c!==null)))throw c;o.memoizedState=_,o.baseState=N,o.baseQueue=j,m.lastRenderedState=_}return x===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Zp(o){var s=Dt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=c.dispatch,x=c.pending,_=s.memoizedState;if(x!==null){c.pending=null;var N=x=x.next;do _=o(_,N.action),N=N.next;while(N!==x);Kn(_,s.memoizedState)||(Ut=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,m]}function sS(o,s,c){var m=qe,x=Dt(),_=We;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!Kn((ct||x).memoizedState,c);if(N&&(x.memoizedState=c,Ut=!0),x=x.queue,ng(cS.bind(null,m,x,o),[o]),x.getSnapshot!==s||N||Lt!==null&&Lt.memoizedState.tag&1){if(m.flags|=2048,ps(9,{destroy:void 0},uS.bind(null,m,x,c,s),null),pt===null)throw Error(r(349));_||(gi&127)!==0||lS(m,s,c)}return c}function lS(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=qe.updateQueue,s===null?(s=hd(),qe.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function uS(o,s,c,m){s.value=c,s.getSnapshot=m,dS(s)&&fS(o)}function cS(o,s,c){return c(function(){dS(s)&&fS(o)})}function dS(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!Kn(o,c)}catch{return!0}}function fS(o){var s=Ka(o,2);s!==null&&Bn(s,o,2)}function eg(o){var s=En();if(typeof o=="function"){var c=o;if(o=c(),no){ta(!0);try{c()}finally{ta(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:o},s}function hS(o,s,c,m){return o.baseState=c,Qp(o,ct,typeof m=="function"?m:vi)}function rU(o,s,c,m,x){if(yd(o))throw Error(r(485));if(o=s.action,o!==null){var _={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};$.T!==null?c(!0):_.isTransition=!1,m(_),c=s.pending,c===null?(_.next=s.pending=_,mS(s,_)):(_.next=c.next,s.pending=c.next=_)}}function mS(o,s){var c=s.action,m=s.payload,x=o.state;if(s.isTransition){var _=$.T,N={};$.T=N;try{var I=c(x,m),j=$.S;j!==null&&j(N,I),pS(o,s,I)}catch(F){tg(o,s,F)}finally{_!==null&&N.types!==null&&(_.types=N.types),$.T=_}}else try{_=c(x,m),pS(o,s,_)}catch(F){tg(o,s,F)}}function pS(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){gS(o,s,m)},function(m){return tg(o,s,m)}):gS(o,s,c)}function gS(o,s,c){s.status="fulfilled",s.value=c,vS(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,mS(o,c)))}function tg(o,s,c){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do s.status="rejected",s.reason=c,vS(s),s=s.next;while(s!==m)}o.action=null}function vS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function yS(o,s){return s}function bS(o,s){if(We){var c=pt.formState;if(c!==null){e:{var m=qe;if(We){if(bt){t:{for(var x=bt,_=fr;x.nodeType!==8;){if(!_){x=null;break t}if(x=mr(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){bt=mr(x.nextSibling),m=x.data==="F!";break e}}oa(m)}m=!1}m&&(s=c[0])}}return c=En(),c.memoizedState=c.baseState=s,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yS,lastRenderedState:s},c.queue=m,c=LS.bind(null,qe,m),m.dispatch=c,m=eg(!1),_=sg.bind(null,qe,!1,m.queue),m=En(),x={state:s,dispatch:null,action:o,pending:null},m.queue=x,c=rU.bind(null,qe,x,_,c),x.dispatch=c,m.memoizedState=o,[s,c,!1]}function xS(o){var s=Dt();return wS(s,ct,o)}function wS(o,s,c){if(s=Qp(o,s,yS)[0],o=pd(vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var m=Jl(s)}catch(N){throw N===cs?ad:N}else m=s;s=Dt();var x=s.queue,_=x.dispatch;return c!==s.memoizedState&&(qe.flags|=2048,ps(9,{destroy:void 0},iU.bind(null,x,c),null)),[m,_,o]}function iU(o,s){o.action=s}function _S(o){var s=Dt(),c=ct;if(c!==null)return wS(s,c,o);Dt(),s=s.memoizedState,c=Dt();var m=c.queue.dispatch;return c.memoizedState=o,[s,m,!1]}function ps(o,s,c,m){return o={tag:o,create:c,deps:m,inst:s,next:null},s=qe.updateQueue,s===null&&(s=hd(),qe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(m=c.next,c.next=o,o.next=m,s.lastEffect=o),o}function SS(){return Dt().memoizedState}function gd(o,s,c,m){var x=En();qe.flags|=o,x.memoizedState=ps(1|s,{destroy:void 0},c,m===void 0?null:m)}function vd(o,s,c,m){var x=Dt();m=m===void 0?null:m;var _=x.memoizedState.inst;ct!==null&&m!==null&&Vp(m,ct.memoizedState.deps)?x.memoizedState=ps(s,_,c,m):(qe.flags|=o,x.memoizedState=ps(1|s,_,c,m))}function ES(o,s){gd(8390656,8,o,s)}function ng(o,s){vd(2048,8,o,s)}function aU(o){qe.flags|=4;var s=qe.updateQueue;if(s===null)s=hd(),qe.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function TS(o){var s=Dt().memoizedState;return aU({ref:s,nextImpl:o}),function(){if((nt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function AS(o,s){return vd(4,2,o,s)}function CS(o,s){return vd(4,4,o,s)}function NS(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function OS(o,s,c){c=c!=null?c.concat([o]):null,vd(4,4,NS.bind(null,s,o),c)}function rg(){}function RS(o,s){var c=Dt();s=s===void 0?null:s;var m=c.memoizedState;return s!==null&&Vp(s,m[1])?m[0]:(c.memoizedState=[o,s],o)}function kS(o,s){var c=Dt();s=s===void 0?null:s;var m=c.memoizedState;if(s!==null&&Vp(s,m[1]))return m[0];if(m=o(),no){ta(!0);try{o()}finally{ta(!1)}}return c.memoizedState=[m,s],m}function ig(o,s,c){return c===void 0||(gi&1073741824)!==0&&(Fe&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=PE(),qe.lanes|=o,pa|=o,c)}function PS(o,s,c,m){return Kn(c,s)?c:fs.current!==null?(o=ig(o,c,m),Kn(o,s)||(Ut=!0),o):(gi&42)===0||(gi&1073741824)!==0&&(Fe&261930)===0?(Ut=!0,o.memoizedState=c):(o=PE(),qe.lanes|=o,pa|=o,s)}function IS(o,s,c,m,x){var _=te.p;te.p=_!==0&&8>_?_:8;var N=$.T,I={};$.T=I,sg(o,!1,s,c);try{var j=x(),F=$.S;if(F!==null&&F(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=eU(j,m);Xl(o,s,ee,Zn(o))}else Xl(o,s,m,Zn(o))}catch(re){Xl(o,s,{then:function(){},status:"rejected",reason:re},Zn())}finally{te.p=_,N!==null&&I.types!==null&&(N.types=I.types),$.T=N}}function oU(){}function ag(o,s,c,m){if(o.tag!==5)throw Error(r(476));var x=MS(o).queue;IS(o,x,s,ie,c===null?oU:function(){return DS(o),c(m)})}function MS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:ie},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function DS(o){var s=MS(o);s.next===null&&(s=o.alternate.memoizedState),Xl(o,s.next.queue,{},Zn())}function og(){return cn(mu)}function jS(){return Dt().memoizedState}function zS(){return Dt().memoizedState}function sU(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=Zn();o=ua(c);var m=ca(s,o,c);m!==null&&(Bn(m,s,c),Vl(m,s,c)),s={cache:Dp()},o.payload=s;return}s=s.return}}function lU(o,s,c){var m=Zn();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},yd(o)?US(s,c):(c=Ep(o,s,c,m),c!==null&&(Bn(c,o,m),BS(c,s,m)))}function LS(o,s,c){var m=Zn();Xl(o,s,c,m)}function Xl(o,s,c,m){var x={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(yd(o))US(s,x);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,I=_(N,c);if(x.hasEagerState=!0,x.eagerState=I,Kn(I,N))return Qc(o,s,x,0),pt===null&&Xc(),!1}catch{}finally{}if(c=Ep(o,s,x,m),c!==null)return Bn(c,o,m),BS(c,s,m),!0}return!1}function sg(o,s,c,m){if(m={lane:2,revertLane:Ug(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},yd(o)){if(s)throw Error(r(479))}else s=Ep(o,c,m,2),s!==null&&Bn(s,o,2)}function yd(o){var s=o.alternate;return o===qe||s!==null&&s===qe}function US(o,s){hs=dd=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function BS(o,s,c){if((c&4194048)!==0){var m=s.lanes;m&=o.pendingLanes,c|=m,s.lanes=c,Fw(o,c)}}var Ql={readContext:cn,use:md,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Ql.useEffectEvent=Nt;var qS={readContext:cn,use:md,useCallback:function(o,s){return En().memoizedState=[o,s===void 0?null:s],o},useContext:cn,useEffect:ES,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,gd(4194308,4,NS.bind(null,s,o),c)},useLayoutEffect:function(o,s){return gd(4194308,4,o,s)},useInsertionEffect:function(o,s){gd(4,2,o,s)},useMemo:function(o,s){var c=En();s=s===void 0?null:s;var m=o();if(no){ta(!0);try{o()}finally{ta(!1)}}return c.memoizedState=[m,s],m},useReducer:function(o,s,c){var m=En();if(c!==void 0){var x=c(s);if(no){ta(!0);try{c(s)}finally{ta(!1)}}}else x=s;return m.memoizedState=m.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},m.queue=o,o=o.dispatch=lU.bind(null,qe,o),[m.memoizedState,o]},useRef:function(o){var s=En();return o={current:o},s.memoizedState=o},useState:function(o){o=eg(o);var s=o.queue,c=LS.bind(null,qe,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:rg,useDeferredValue:function(o,s){var c=En();return ig(c,o,s)},useTransition:function(){var o=eg(!1);return o=IS.bind(null,qe,o.queue,!0,!1),En().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var m=qe,x=En();if(We){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),pt===null)throw Error(r(349));(Fe&127)!==0||lS(m,s,c)}x.memoizedState=c;var _={value:c,getSnapshot:s};return x.queue=_,ES(cS.bind(null,m,_,o),[o]),m.flags|=2048,ps(9,{destroy:void 0},uS.bind(null,m,_,c,s),null),c},useId:function(){var o=En(),s=pt.identifierPrefix;if(We){var c=Kr,m=Vr;c=(m&~(1<<32-Vn(m)-1)).toString(32)+c,s="_"+s+"R_"+c,c=fd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=tU++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:og,useFormState:bS,useActionState:bS,useOptimistic:function(o){var s=En();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=sg.bind(null,qe,!0,c),c.dispatch=s,[o,s]},useMemoCache:Xp,useCacheRefresh:function(){return En().memoizedState=sU.bind(null,qe)},useEffectEvent:function(o){var s=En(),c={impl:o};return s.memoizedState=c,function(){if((nt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},lg={readContext:cn,use:md,useCallback:RS,useContext:cn,useEffect:ng,useImperativeHandle:OS,useInsertionEffect:AS,useLayoutEffect:CS,useMemo:kS,useReducer:pd,useRef:SS,useState:function(){return pd(vi)},useDebugValue:rg,useDeferredValue:function(o,s){var c=Dt();return PS(c,ct.memoizedState,o,s)},useTransition:function(){var o=pd(vi)[0],s=Dt().memoizedState;return[typeof o=="boolean"?o:Jl(o),s]},useSyncExternalStore:sS,useId:jS,useHostTransitionStatus:og,useFormState:xS,useActionState:xS,useOptimistic:function(o,s){var c=Dt();return hS(c,ct,o,s)},useMemoCache:Xp,useCacheRefresh:zS};lg.useEffectEvent=TS;var $S={readContext:cn,use:md,useCallback:RS,useContext:cn,useEffect:ng,useImperativeHandle:OS,useInsertionEffect:AS,useLayoutEffect:CS,useMemo:kS,useReducer:Zp,useRef:SS,useState:function(){return Zp(vi)},useDebugValue:rg,useDeferredValue:function(o,s){var c=Dt();return ct===null?ig(c,o,s):PS(c,ct.memoizedState,o,s)},useTransition:function(){var o=Zp(vi)[0],s=Dt().memoizedState;return[typeof o=="boolean"?o:Jl(o),s]},useSyncExternalStore:sS,useId:jS,useHostTransitionStatus:og,useFormState:_S,useActionState:_S,useOptimistic:function(o,s){var c=Dt();return ct!==null?hS(c,ct,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:Xp,useCacheRefresh:zS};$S.useEffectEvent=TS;function ug(o,s,c,m){s=o.memoizedState,c=c(m,s),c=c==null?s:p({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var cg={enqueueSetState:function(o,s,c){o=o._reactInternals;var m=Zn(),x=ua(m);x.payload=s,c!=null&&(x.callback=c),s=ca(o,x,m),s!==null&&(Bn(s,o,m),Vl(s,o,m))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var m=Zn(),x=ua(m);x.tag=1,x.payload=s,c!=null&&(x.callback=c),s=ca(o,x,m),s!==null&&(Bn(s,o,m),Vl(s,o,m))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=Zn(),m=ua(c);m.tag=2,s!=null&&(m.callback=s),s=ca(o,m,c),s!==null&&(Bn(s,o,c),Vl(s,o,c))}};function HS(o,s,c,m,x,_,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,_,N):s.prototype&&s.prototype.isPureReactComponent?!Ll(c,m)||!Ll(x,_):!0}function GS(o,s,c,m){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==o&&cg.enqueueReplaceState(s,s.state,null)}function ro(o,s){var c=s;if("ref"in s){c={};for(var m in s)m!=="ref"&&(c[m]=s[m])}if(o=o.defaultProps){c===s&&(c=p({},c));for(var x in o)c[x]===void 0&&(c[x]=o[x])}return c}function FS(o){Jc(o)}function VS(o){console.error(o)}function KS(o){Jc(o)}function bd(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(m){setTimeout(function(){throw m})}}function WS(o,s,c){try{var m=o.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function dg(o,s,c){return c=ua(c),c.tag=3,c.payload={element:null},c.callback=function(){bd(o,s)},c}function YS(o){return o=ua(o),o.tag=3,o}function JS(o,s,c,m){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var _=m.value;o.payload=function(){return x(_)},o.callback=function(){WS(s,c,m)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){WS(s,c,m),typeof x!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})})}function uU(o,s,c,m,x){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(s=c.alternate,s!==null&&ss(s,c,x,!0),c=Yn.current,c!==null){switch(c.tag){case 31:case 13:return hr===null?kd():c.alternate===null&&Ot===0&&(Ot=3),c.flags&=-257,c.flags|=65536,c.lanes=x,m===od?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([m]):s.add(m),jg(o,m,x)),!1;case 22:return c.flags|=65536,m===od?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([m]):c.add(m)),jg(o,m,x)),!1}throw Error(r(435,c.tag))}return jg(o,m,x),kd(),!1}if(We)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,m!==Rp&&(o=Error(r(422),{cause:m}),ql(ur(o,c)))):(m!==Rp&&(s=Error(r(423),{cause:m}),ql(ur(s,c))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,m=ur(m,c),x=dg(o.stateNode,m,x),qp(o,x),Ot!==4&&(Ot=2)),!1;var _=Error(r(520),{cause:m});if(_=ur(_,c),ou===null?ou=[_]:ou.push(_),Ot!==4&&(Ot=2),s===null)return!0;m=ur(m,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=x&-x,c.lanes|=o,o=dg(c.stateNode,m,o),qp(c,o),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ga===null||!ga.has(_))))return c.flags|=65536,x&=-x,c.lanes|=x,x=YS(x),JS(x,o,c,m),qp(c,x),!1}c=c.return}while(c!==null);return!1}var fg=Error(r(461)),Ut=!1;function dn(o,s,c,m){s.child=o===null?eS(s,null,c,m):to(s,o.child,c,m)}function XS(o,s,c,m,x){c=c.render;var _=s.ref;if("ref"in m){var N={};for(var I in m)I!=="ref"&&(N[I]=m[I])}else N=m;return Xa(s),m=Kp(o,s,c,N,_,x),I=Wp(),o!==null&&!Ut?(Yp(o,s,x),yi(o,s,x)):(We&&I&&Np(s),s.flags|=1,dn(o,s,m,x),s.child)}function QS(o,s,c,m,x){if(o===null){var _=c.type;return typeof _=="function"&&!Tp(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,ZS(o,s,_,m,x)):(o=ed(c.type,null,m,s,s.mode,x),o.ref=s.ref,o.return=s,s.child=o)}if(_=o.child,!xg(o,x)){var N=_.memoizedProps;if(c=c.compare,c=c!==null?c:Ll,c(N,m)&&o.ref===s.ref)return yi(o,s,x)}return s.flags|=1,o=fi(_,m),o.ref=s.ref,o.return=s,s.child=o}function ZS(o,s,c,m,x){if(o!==null){var _=o.memoizedProps;if(Ll(_,m)&&o.ref===s.ref)if(Ut=!1,s.pendingProps=m=_,xg(o,x))(o.flags&131072)!==0&&(Ut=!0);else return s.lanes=o.lanes,yi(o,s,x)}return hg(o,s,c,m,x)}function eE(o,s,c,m){var x=m.children,_=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,o!==null){for(m=s.child=o.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~_}else m=0,s.child=null;return tE(o,s,_,c,m)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&id(s,_!==null?_.cachePool:null),_!==null?rS(s,_):Hp(),iS(s);else return m=s.lanes=536870912,tE(o,s,_!==null?_.baseLanes|c:c,c,m)}else _!==null?(id(s,_.cachePool),rS(s,_),fa(),s.memoizedState=null):(o!==null&&id(s,null),Hp(),fa());return dn(o,s,x,c),s.child}function Zl(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function tE(o,s,c,m,x){var _=zp();return _=_===null?null:{parent:zt._currentValue,pool:_},s.memoizedState={baseLanes:c,cachePool:_},o!==null&&id(s,null),Hp(),iS(s),o!==null&&ss(o,s,m,!0),s.childLanes=x,null}function xd(o,s){return s=_d({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function nE(o,s,c){return to(s,o.child,null,c),o=xd(s,s.pendingProps),o.flags|=2,Jn(s),s.memoizedState=null,o}function cU(o,s,c){var m=s.pendingProps,x=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(We){if(m.mode==="hidden")return o=xd(s,m),s.lanes=536870912,Zl(null,o);if(Fp(s),(o=bt)?(o=mT(o,fr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:ia!==null?{id:Vr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},c=U_(o),c.return=s,s.child=c,un=s,bt=null)):o=null,o===null)throw oa(s);return s.lanes=536870912,null}return xd(s,m)}var _=o.memoizedState;if(_!==null){var N=_.dehydrated;if(Fp(s),x)if(s.flags&256)s.flags&=-257,s=nE(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ut||ss(o,s,c,!1),x=(c&o.childLanes)!==0,Ut||x){if(m=pt,m!==null&&(N=Vw(m,c),N!==0&&N!==_.retryLane))throw _.retryLane=N,Ka(o,N),Bn(m,o,N),fg;kd(),s=nE(o,s,c)}else o=_.treeContext,bt=mr(N.nextSibling),un=s,We=!0,aa=null,fr=!1,o!==null&&$_(s,o),s=xd(s,m),s.flags|=4096;return s}return o=fi(o.child,{mode:m.mode,children:m.children}),o.ref=s.ref,s.child=o,o.return=s,o}function wd(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function hg(o,s,c,m,x){return Xa(s),c=Kp(o,s,c,m,void 0,x),m=Wp(),o!==null&&!Ut?(Yp(o,s,x),yi(o,s,x)):(We&&m&&Np(s),s.flags|=1,dn(o,s,c,x),s.child)}function rE(o,s,c,m,x,_){return Xa(s),s.updateQueue=null,c=oS(s,m,c,x),aS(o),m=Wp(),o!==null&&!Ut?(Yp(o,s,_),yi(o,s,_)):(We&&m&&Np(s),s.flags|=1,dn(o,s,c,_),s.child)}function iE(o,s,c,m,x){if(Xa(s),s.stateNode===null){var _=rs,N=c.contextType;typeof N=="object"&&N!==null&&(_=cn(N)),_=new c(m,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=cg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=m,_.state=s.memoizedState,_.refs={},Up(s),N=c.contextType,_.context=typeof N=="object"&&N!==null?cn(N):rs,_.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(ug(s,c,N,m),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&cg.enqueueReplaceState(_,_.state,null),Wl(s,m,_,x),Kl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),m=!0}else if(o===null){_=s.stateNode;var I=s.memoizedProps,j=ro(c,I);_.props=j;var F=_.context,ee=c.contextType;N=rs,typeof ee=="object"&&ee!==null&&(N=cn(ee));var re=c.getDerivedStateFromProps;ee=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ee||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||F!==N)&&GS(s,_,m,N),la=!1;var V=s.memoizedState;_.state=V,Wl(s,m,_,x),Kl(),F=s.memoizedState,I||V!==F||la?(typeof re=="function"&&(ug(s,c,re,m),F=s.memoizedState),(j=la||HS(s,c,j,m,V,F,N))?(ee||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=F),_.props=m,_.state=F,_.context=N,m=j):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{_=s.stateNode,Bp(o,s),N=s.memoizedProps,ee=ro(c,N),_.props=ee,re=s.pendingProps,V=_.context,F=c.contextType,j=rs,typeof F=="object"&&F!==null&&(j=cn(F)),I=c.getDerivedStateFromProps,(F=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==re||V!==j)&&GS(s,_,m,j),la=!1,V=s.memoizedState,_.state=V,Wl(s,m,_,x),Kl();var J=s.memoizedState;N!==re||V!==J||la||o!==null&&o.dependencies!==null&&nd(o.dependencies)?(typeof I=="function"&&(ug(s,c,I,m),J=s.memoizedState),(ee=la||HS(s,c,ee,m,V,J,j)||o!==null&&o.dependencies!==null&&nd(o.dependencies))?(F||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,J,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,J,j)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===o.memoizedProps&&V===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&V===o.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=J),_.props=m,_.state=J,_.context=j,m=ee):(typeof _.componentDidUpdate!="function"||N===o.memoizedProps&&V===o.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&V===o.memoizedState||(s.flags|=1024),m=!1)}return _=m,wd(o,s),m=(s.flags&128)!==0,_||m?(_=s.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,o!==null&&m?(s.child=to(s,o.child,null,x),s.child=to(s,null,c,x)):dn(o,s,c,x),s.memoizedState=_.state,o=s.child):o=yi(o,s,x),o}function aE(o,s,c,m){return Ya(),s.flags|=256,dn(o,s,c,m),s.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pg(o){return{baseLanes:o,cachePool:W_()}}function gg(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=Qn),o}function oE(o,s,c){var m=s.pendingProps,x=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=o!==null&&o.memoizedState===null?!1:(Mt.current&2)!==0),N&&(x=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,o===null){if(We){if(x?da(s):fa(),(o=bt)?(o=mT(o,fr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:ia!==null?{id:Vr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},c=U_(o),c.return=s,s.child=c,un=s,bt=null)):o=null,o===null)throw oa(s);return Qg(o)?s.lanes=32:s.lanes=536870912,null}var I=m.children;return m=m.fallback,x?(fa(),x=s.mode,I=_d({mode:"hidden",children:I},x),m=Wa(m,x,c,null),I.return=s,m.return=s,I.sibling=m,s.child=I,m=s.child,m.memoizedState=pg(c),m.childLanes=gg(o,N,c),s.memoizedState=mg,Zl(null,m)):(da(s),vg(s,I))}var j=o.memoizedState;if(j!==null&&(I=j.dehydrated,I!==null)){if(_)s.flags&256?(da(s),s.flags&=-257,s=yg(o,s,c)):s.memoizedState!==null?(fa(),s.child=o.child,s.flags|=128,s=null):(fa(),I=m.fallback,x=s.mode,m=_d({mode:"visible",children:m.children},x),I=Wa(I,x,c,null),I.flags|=2,m.return=s,I.return=s,m.sibling=I,s.child=m,to(s,o.child,null,c),m=s.child,m.memoizedState=pg(c),m.childLanes=gg(o,N,c),s.memoizedState=mg,s=Zl(null,m));else if(da(s),Qg(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var F=N.dgst;N=F,m=Error(r(419)),m.stack="",m.digest=N,ql({value:m,source:null,stack:null}),s=yg(o,s,c)}else if(Ut||ss(o,s,c,!1),N=(c&o.childLanes)!==0,Ut||N){if(N=pt,N!==null&&(m=Vw(N,c),m!==0&&m!==j.retryLane))throw j.retryLane=m,Ka(o,m),Bn(N,o,m),fg;Xg(I)||kd(),s=yg(o,s,c)}else Xg(I)?(s.flags|=192,s.child=o.child,s=null):(o=j.treeContext,bt=mr(I.nextSibling),un=s,We=!0,aa=null,fr=!1,o!==null&&$_(s,o),s=vg(s,m.children),s.flags|=4096);return s}return x?(fa(),I=m.fallback,x=s.mode,j=o.child,F=j.sibling,m=fi(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,F!==null?I=fi(F,I):(I=Wa(I,x,c,null),I.flags|=2),I.return=s,m.return=s,m.sibling=I,s.child=m,Zl(null,m),m=s.child,I=o.child.memoizedState,I===null?I=pg(c):(x=I.cachePool,x!==null?(j=zt._currentValue,x=x.parent!==j?{parent:j,pool:j}:x):x=W_(),I={baseLanes:I.baseLanes|c,cachePool:x}),m.memoizedState=I,m.childLanes=gg(o,N,c),s.memoizedState=mg,Zl(o.child,m)):(da(s),c=o.child,o=c.sibling,c=fi(c,{mode:"visible",children:m.children}),c.return=s,c.sibling=null,o!==null&&(N=s.deletions,N===null?(s.deletions=[o],s.flags|=16):N.push(o)),s.child=c,s.memoizedState=null,c)}function vg(o,s){return s=_d({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function _d(o,s){return o=Wn(22,o,null,s),o.lanes=0,o}function yg(o,s,c){return to(s,o.child,null,c),o=vg(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function sE(o,s,c){o.lanes|=s;var m=o.alternate;m!==null&&(m.lanes|=s),Ip(o.return,s,c)}function bg(o,s,c,m,x,_){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:x,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=c,N.tailMode=x,N.treeForkCount=_)}function lE(o,s,c){var m=s.pendingProps,x=m.revealOrder,_=m.tail;m=m.children;var N=Mt.current,I=(N&2)!==0;if(I?(N=N&1|2,s.flags|=128):N&=1,le(Mt,N),dn(o,s,m,c),m=We?Bl:0,!I&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&sE(o,c,s);else if(o.tag===19)sE(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(c=s.child,x=null;c!==null;)o=c.alternate,o!==null&&cd(o)===null&&(x=c),c=c.sibling;c=x,c===null?(x=s.child,s.child=null):(x=c.sibling,c.sibling=null),bg(s,!1,x,c,_,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=s.child,s.child=null;x!==null;){if(o=x.alternate,o!==null&&cd(o)===null){s.child=x;break}o=x.sibling,x.sibling=c,c=x,x=o}bg(s,!0,c,null,_,m);break;case"together":bg(s,!1,null,null,void 0,m);break;default:s.memoizedState=null}return s.child}function yi(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),pa|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(ss(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=fi(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=fi(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function xg(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&nd(o)))}function dU(o,s,c){switch(s.tag){case 3:lt(s,s.stateNode.containerInfo),sa(s,zt,o.memoizedState.cache),Ya();break;case 27:case 5:Ie(s);break;case 4:lt(s,s.stateNode.containerInfo);break;case 10:sa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Fp(s),null;break;case 13:var m=s.memoizedState;if(m!==null)return m.dehydrated!==null?(da(s),s.flags|=128,null):(c&s.child.childLanes)!==0?oE(o,s,c):(da(s),o=yi(o,s,c),o!==null?o.sibling:null);da(s);break;case 19:var x=(o.flags&128)!==0;if(m=(c&s.childLanes)!==0,m||(ss(o,s,c,!1),m=(c&s.childLanes)!==0),x){if(m)return lE(o,s,c);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),le(Mt,Mt.current),m)break;return null;case 22:return s.lanes=0,eE(o,s,c,s.pendingProps);case 24:sa(s,zt,o.memoizedState.cache)}return yi(o,s,c)}function uE(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)Ut=!0;else{if(!xg(o,c)&&(s.flags&128)===0)return Ut=!1,dU(o,s,c);Ut=(o.flags&131072)!==0}else Ut=!1,We&&(s.flags&1048576)!==0&&q_(s,Bl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var m=s.pendingProps;if(o=Za(s.elementType),s.type=o,typeof o=="function")Tp(o)?(m=ro(o,m),s.tag=1,s=iE(null,s,o,m,c)):(s.tag=0,s=hg(null,s,o,m,c));else{if(o!=null){var x=o.$$typeof;if(x===P){s.tag=11,s=XS(null,s,o,m,c);break e}else if(x===M){s.tag=14,s=QS(null,s,o,m,c);break e}}throw s=ce(o)||o,Error(r(306,s,""))}}return s;case 0:return hg(o,s,s.type,s.pendingProps,c);case 1:return m=s.type,x=ro(m,s.pendingProps),iE(o,s,m,x,c);case 3:e:{if(lt(s,s.stateNode.containerInfo),o===null)throw Error(r(387));m=s.pendingProps;var _=s.memoizedState;x=_.element,Bp(o,s),Wl(s,m,null,c);var N=s.memoizedState;if(m=N.cache,sa(s,zt,m),m!==_.cache&&Mp(s,[zt],c,!0),Kl(),m=N.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=aE(o,s,m,c);break e}else if(m!==x){x=ur(Error(r(424)),s),ql(x),s=aE(o,s,m,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(bt=mr(o.firstChild),un=s,We=!0,aa=null,fr=!0,c=eS(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ya(),m===x){s=yi(o,s,c);break e}dn(o,s,m,c)}s=s.child}return s;case 26:return wd(o,s),o===null?(c=xT(s.type,null,s.pendingProps,null))?s.memoizedState=c:We||(c=s.type,o=s.pendingProps,m=Ld(je.current).createElement(c),m[ln]=s,m[Mn]=o,fn(m,c,o),Jt(m),s.stateNode=m):s.memoizedState=xT(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return Ie(s),o===null&&We&&(m=s.stateNode=vT(s.type,s.pendingProps,je.current),un=s,fr=!0,x=bt,xa(s.type)?(Zg=x,bt=mr(m.firstChild)):bt=x),dn(o,s,s.pendingProps.children,c),wd(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&We&&((x=m=bt)&&(m=qU(m,s.type,s.pendingProps,fr),m!==null?(s.stateNode=m,un=s,bt=mr(m.firstChild),fr=!1,x=!0):x=!1),x||oa(s)),Ie(s),x=s.type,_=s.pendingProps,N=o!==null?o.memoizedProps:null,m=_.children,Wg(x,_)?m=null:N!==null&&Wg(x,N)&&(s.flags|=32),s.memoizedState!==null&&(x=Kp(o,s,nU,null,null,c),mu._currentValue=x),wd(o,s),dn(o,s,m,c),s.child;case 6:return o===null&&We&&((o=c=bt)&&(c=$U(c,s.pendingProps,fr),c!==null?(s.stateNode=c,un=s,bt=null,o=!0):o=!1),o||oa(s)),null;case 13:return oE(o,s,c);case 4:return lt(s,s.stateNode.containerInfo),m=s.pendingProps,o===null?s.child=to(s,null,m,c):dn(o,s,m,c),s.child;case 11:return XS(o,s,s.type,s.pendingProps,c);case 7:return dn(o,s,s.pendingProps,c),s.child;case 8:return dn(o,s,s.pendingProps.children,c),s.child;case 12:return dn(o,s,s.pendingProps.children,c),s.child;case 10:return m=s.pendingProps,sa(s,s.type,m.value),dn(o,s,m.children,c),s.child;case 9:return x=s.type._context,m=s.pendingProps.children,Xa(s),x=cn(x),m=m(x),s.flags|=1,dn(o,s,m,c),s.child;case 14:return QS(o,s,s.type,s.pendingProps,c);case 15:return ZS(o,s,s.type,s.pendingProps,c);case 19:return lE(o,s,c);case 31:return cU(o,s,c);case 22:return eE(o,s,c,s.pendingProps);case 24:return Xa(s),m=cn(zt),o===null?(x=zp(),x===null&&(x=pt,_=Dp(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=c),x=_),s.memoizedState={parent:m,cache:x},Up(s),sa(s,zt,x)):((o.lanes&c)!==0&&(Bp(o,s),Wl(s,null,null,c),Kl()),x=o.memoizedState,_=s.memoizedState,x.parent!==m?(x={parent:m,cache:m},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),sa(s,zt,m)):(m=_.cache,sa(s,zt,m),m!==x.cache&&Mp(s,[zt],c,!0))),dn(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function bi(o){o.flags|=4}function wg(o,s,c,m,x){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(jE())o.flags|=8192;else throw eo=od,Lp}else o.flags&=-16777217}function cE(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!TT(s))if(jE())o.flags|=8192;else throw eo=od,Lp}function Sd(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?Hw():536870912,o.lanes|=s,bs|=s)}function eu(o,s){if(!We)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function xt(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,m=0;if(s)for(var x=o.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)c|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=m,o.childLanes=c,s}function fU(o,s,c){var m=s.pendingProps;switch(Op(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return xt(s),null;case 3:return c=s.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),s.memoizedState.cache!==m&&(s.flags|=2048),pi(zt),Z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(os(s)?bi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kp())),xt(s),null;case 26:var x=s.type,_=s.memoizedState;return o===null?(bi(s),_!==null?(xt(s),cE(s,_)):(xt(s),wg(s,x,null,m,c))):_?_!==o.memoizedState?(bi(s),xt(s),cE(s,_)):(xt(s),s.flags&=-16777217):(o=o.memoizedProps,o!==m&&bi(s),xt(s),wg(s,x,o,m,c)),null;case 27:if(Le(s),c=je.current,x=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==m&&bi(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return xt(s),null}o=fe.current,os(s)?H_(s):(o=vT(x,m,c),s.stateNode=o,bi(s))}return xt(s),null;case 5:if(Le(s),x=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==m&&bi(s);else{if(!m){if(s.stateNode===null)throw Error(r(166));return xt(s),null}if(_=fe.current,os(s))H_(s);else{var N=Ld(je.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?N.createElement("select",{is:m.is}):N.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?N.createElement(x,{is:m.is}):N.createElement(x)}}_[ln]=s,_[Mn]=m;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch(fn(_,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&bi(s)}}return xt(s),wg(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==m&&bi(s);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(o=je.current,os(s)){if(o=s.stateNode,c=s.memoizedProps,m=null,x=un,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}o[ln]=s,o=!!(o.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||oT(o.nodeValue,c)),o||oa(s,!0)}else o=Ld(o).createTextNode(m),o[ln]=s,s.stateNode=o}return xt(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(m=os(s),c!==null){if(o===null){if(!m)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[ln]=s}else Ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),o=!1}else c=kp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(Jn(s),s):(Jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return xt(s),null;case 13:if(m=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=os(s),m!==null&&m.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[ln]=s}else Ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xt(s),x=!1}else x=kp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(Jn(s),s):(Jn(s),null)}return Jn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=m!==null,o=o!==null&&o.memoizedState!==null,c&&(m=s.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==x&&(m.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),Sd(s,s.updateQueue),xt(s),null);case 4:return Z(),o===null&&Hg(s.stateNode.containerInfo),xt(s),null;case 10:return pi(s.type),xt(s),null;case 19:if(Y(Mt),m=s.memoizedState,m===null)return xt(s),null;if(x=(s.flags&128)!==0,_=m.rendering,_===null)if(x)eu(m,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(_=cd(o),_!==null){for(s.flags|=128,eu(m,!1),o=_.updateQueue,s.updateQueue=o,Sd(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)L_(c,o),c=c.sibling;return le(Mt,Mt.current&1|2),We&&hi(s,m.treeForkCount),s.child}o=o.sibling}m.tail!==null&&ut()>Nd&&(s.flags|=128,x=!0,eu(m,!1),s.lanes=4194304)}else{if(!x)if(o=cd(_),o!==null){if(s.flags|=128,x=!0,o=o.updateQueue,s.updateQueue=o,Sd(s,o),eu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!We)return xt(s),null}else 2*ut()-m.renderingStartTime>Nd&&c!==536870912&&(s.flags|=128,x=!0,eu(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(o=m.last,o!==null?o.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=ut(),o.sibling=null,c=Mt.current,le(Mt,x?c&1|2:c&1),We&&hi(s,m.treeForkCount),o):(xt(s),null);case 22:case 23:return Jn(s),Gp(),m=s.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(s.flags|=8192):m&&(s.flags|=8192),m?(c&536870912)!==0&&(s.flags&128)===0&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),c=s.updateQueue,c!==null&&Sd(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==c&&(s.flags|=2048),o!==null&&Y(Qa),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),pi(zt),xt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function hU(o,s){switch(Op(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return pi(zt),Z(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return Le(s),null;case 31:if(s.memoizedState!==null){if(Jn(s),s.alternate===null)throw Error(r(340));Ya()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Jn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ya()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return Y(Mt),null;case 4:return Z(),null;case 10:return pi(s.type),null;case 22:case 23:return Jn(s),Gp(),o!==null&&Y(Qa),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return pi(zt),null;case 25:return null;default:return null}}function dE(o,s){switch(Op(s),s.tag){case 3:pi(zt),Z();break;case 26:case 27:case 5:Le(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&Jn(s);break;case 13:Jn(s);break;case 19:Y(Mt);break;case 10:pi(s.type);break;case 22:case 23:Jn(s),Gp(),o!==null&&Y(Qa);break;case 24:pi(zt)}}function tu(o,s){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var x=m.next;c=x;do{if((c.tag&o)===o){m=void 0;var _=c.create,N=c.inst;m=_(),N.destroy=m}c=c.next}while(c!==x)}}catch(I){it(s,s.return,I)}}function ha(o,s,c){try{var m=s.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var _=x.next;m=_;do{if((m.tag&o)===o){var N=m.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,x=s;var j=c,F=I;try{F()}catch(ee){it(x,j,ee)}}}m=m.next}while(m!==_)}}catch(ee){it(s,s.return,ee)}}function fE(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{nS(s,c)}catch(m){it(o,o.return,m)}}}function hE(o,s,c){c.props=ro(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(m){it(o,s,m)}}function nu(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof c=="function"?o.refCleanup=c(m):c.current=m}}catch(x){it(o,s,x)}}function Wr(o,s){var c=o.ref,m=o.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(x){it(o,s,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){it(o,s,x)}else c.current=null}function mE(o){var s=o.type,c=o.memoizedProps,m=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(x){it(o,o.return,x)}}function _g(o,s,c){try{var m=o.stateNode;DU(m,o.type,c,s),m[Mn]=s}catch(x){it(o,o.return,x)}}function pE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&xa(o.type)||o.tag===4}function Sg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&xa(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Eg(o,s,c){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ci));else if(m!==4&&(m===27&&xa(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(Eg(o,s,c),o=o.sibling;o!==null;)Eg(o,s,c),o=o.sibling}function Ed(o,s,c){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(m!==4&&(m===27&&xa(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(Ed(o,s,c),o=o.sibling;o!==null;)Ed(o,s,c),o=o.sibling}function gE(o){var s=o.stateNode,c=o.memoizedProps;try{for(var m=o.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);fn(s,m,c),s[ln]=o,s[Mn]=c}catch(_){it(o,o.return,_)}}var xi=!1,Bt=!1,Tg=!1,vE=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function mU(o,s){if(o=o.containerInfo,Vg=Fd,o=O_(o),yp(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var x=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var N=0,I=-1,j=-1,F=0,ee=0,re=o,V=null;t:for(;;){for(var J;re!==c||x!==0&&re.nodeType!==3||(I=N+x),re!==_||m!==0&&re.nodeType!==3||(j=N+m),re.nodeType===3&&(N+=re.nodeValue.length),(J=re.firstChild)!==null;)V=re,re=J;for(;;){if(re===o)break t;if(V===c&&++F===x&&(I=N),V===_&&++ee===m&&(j=N),(J=re.nextSibling)!==null)break;re=V,V=re.parentNode}re=J}c=I===-1||j===-1?null:{start:I,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(Kg={focusedElem:o,selectionRange:c},Fd=!1,Xt=s;Xt!==null;)if(s=Xt,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,Xt=o;else for(;Xt!==null;){switch(s=Xt,_=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)x=o[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,c=s,x=_.memoizedProps,_=_.memoizedState,m=c.stateNode;try{var xe=ro(c.type,x);o=m.getSnapshotBeforeUpdate(xe,_),m.__reactInternalSnapshotBeforeUpdate=o}catch(ke){it(c,c.return,ke)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)Jg(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Jg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,Xt=o;break}Xt=s.return}}function yE(o,s,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:_i(o,c),m&4&&tu(5,c);break;case 1:if(_i(o,c),m&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(N){it(c,c.return,N)}else{var x=ro(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(x,s,o.__reactInternalSnapshotBeforeUpdate)}catch(N){it(c,c.return,N)}}m&64&&fE(c),m&512&&nu(c,c.return);break;case 3:if(_i(o,c),m&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{nS(o,s)}catch(N){it(c,c.return,N)}}break;case 27:s===null&&m&4&&gE(c);case 26:case 5:_i(o,c),s===null&&m&4&&mE(c),m&512&&nu(c,c.return);break;case 12:_i(o,c);break;case 31:_i(o,c),m&4&&wE(o,c);break;case 13:_i(o,c),m&4&&_E(o,c),m&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=SU.bind(null,c),HU(o,c))));break;case 22:if(m=c.memoizedState!==null||xi,!m){s=s!==null&&s.memoizedState!==null||Bt,x=xi;var _=Bt;xi=m,(Bt=s)&&!_?Si(o,c,(c.subtreeFlags&8772)!==0):_i(o,c),xi=x,Bt=_}break;case 30:break;default:_i(o,c)}}function bE(o){var s=o.alternate;s!==null&&(o.alternate=null,bE(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&tp(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Et=null,jn=!1;function wi(o,s,c){for(c=c.child;c!==null;)xE(o,s,c),c=c.sibling}function xE(o,s,c){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Al,c)}catch{}switch(c.tag){case 26:Bt||Wr(c,s),wi(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Bt||Wr(c,s);var m=Et,x=jn;xa(c.type)&&(Et=c.stateNode,jn=!1),wi(o,s,c),du(c.stateNode),Et=m,jn=x;break;case 5:Bt||Wr(c,s);case 6:if(m=Et,x=jn,Et=null,wi(o,s,c),Et=m,jn=x,Et!==null)if(jn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(c.stateNode)}catch(_){it(c,s,_)}else try{Et.removeChild(c.stateNode)}catch(_){it(c,s,_)}break;case 18:Et!==null&&(jn?(o=Et,fT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Cs(o)):fT(Et,c.stateNode));break;case 4:m=Et,x=jn,Et=c.stateNode.containerInfo,jn=!0,wi(o,s,c),Et=m,jn=x;break;case 0:case 11:case 14:case 15:ha(2,c,s),Bt||ha(4,c,s),wi(o,s,c);break;case 1:Bt||(Wr(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"&&hE(c,s,m)),wi(o,s,c);break;case 21:wi(o,s,c);break;case 22:Bt=(m=Bt)||c.memoizedState!==null,wi(o,s,c),Bt=m;break;default:wi(o,s,c)}}function wE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cs(o)}catch(c){it(s,s.return,c)}}}function _E(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cs(o)}catch(c){it(s,s.return,c)}}function pU(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new vE),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new vE),s;default:throw Error(r(435,o.tag))}}function Td(o,s){var c=pU(o);s.forEach(function(m){if(!c.has(m)){c.add(m);var x=EU.bind(null,o,m);m.then(x,x)}})}function zn(o,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var x=c[m],_=o,N=s,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(xa(I.type)){Et=I.stateNode,jn=!1;break e}break;case 5:Et=I.stateNode,jn=!1;break e;case 3:case 4:Et=I.stateNode.containerInfo,jn=!0;break e}I=I.return}if(Et===null)throw Error(r(160));xE(_,N,x),Et=null,jn=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)SE(s,o),s=s.sibling}var Nr=null;function SE(o,s){var c=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:zn(s,o),Ln(o),m&4&&(ha(3,o,o.return),tu(3,o),ha(5,o,o.return));break;case 1:zn(s,o),Ln(o),m&512&&(Bt||c===null||Wr(c,c.return)),m&64&&xi&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var x=Nr;if(zn(s,o),Ln(o),m&512&&(Bt||c===null||Wr(c,c.return)),m&4){var _=c!==null?c.memoizedState:null;if(m=o.memoizedState,c===null)if(m===null)if(o.stateNode===null){e:{m=o.type,c=o.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":_=x.getElementsByTagName("title")[0],(!_||_[Ol]||_[ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(m),x.head.insertBefore(_,x.querySelector("head > title"))),fn(_,m,c),_[ln]=o,Jt(_),m=_;break e;case"link":var N=ST("link","href",x).get(m+(c.href||""));if(N){for(var I=0;I<N.length;I++)if(_=N[I],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(I,1);break t}}_=x.createElement(m),fn(_,m,c),x.head.appendChild(_);break;case"meta":if(N=ST("meta","content",x).get(m+(c.content||""))){for(I=0;I<N.length;I++)if(_=N[I],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(I,1);break t}}_=x.createElement(m),fn(_,m,c),x.head.appendChild(_);break;default:throw Error(r(468,m))}_[ln]=o,Jt(_),m=_}o.stateNode=m}else ET(x,o.type,o.stateNode);else o.stateNode=_T(x,m,o.memoizedProps);else _!==m?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,m===null?ET(x,o.type,o.stateNode):_T(x,m,o.memoizedProps)):m===null&&o.stateNode!==null&&_g(o,o.memoizedProps,c.memoizedProps)}break;case 27:zn(s,o),Ln(o),m&512&&(Bt||c===null||Wr(c,c.return)),c!==null&&m&4&&_g(o,o.memoizedProps,c.memoizedProps);break;case 5:if(zn(s,o),Ln(o),m&512&&(Bt||c===null||Wr(c,c.return)),o.flags&32){x=o.stateNode;try{Jo(x,"")}catch(xe){it(o,o.return,xe)}}m&4&&o.stateNode!=null&&(x=o.memoizedProps,_g(o,x,c!==null?c.memoizedProps:x)),m&1024&&(Tg=!0);break;case 6:if(zn(s,o),Ln(o),m&4){if(o.stateNode===null)throw Error(r(162));m=o.memoizedProps,c=o.stateNode;try{c.nodeValue=m}catch(xe){it(o,o.return,xe)}}break;case 3:if(qd=null,x=Nr,Nr=Ud(s.containerInfo),zn(s,o),Nr=x,Ln(o),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Cs(s.containerInfo)}catch(xe){it(o,o.return,xe)}Tg&&(Tg=!1,EE(o));break;case 4:m=Nr,Nr=Ud(o.stateNode.containerInfo),zn(s,o),Ln(o),Nr=m;break;case 12:zn(s,o),Ln(o);break;case 31:zn(s,o),Ln(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Td(o,m)));break;case 13:zn(s,o),Ln(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Cd=ut()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Td(o,m)));break;case 22:x=o.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,F=xi,ee=Bt;if(xi=F||x,Bt=ee||j,zn(s,o),Bt=ee,xi=F,Ln(o),m&8192)e:for(s=o.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(c===null||j||xi||Bt||io(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){j=c=s;try{if(_=j.stateNode,x)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=j.stateNode;var re=j.memoizedProps.style,V=re!=null&&re.hasOwnProperty("display")?re.display:null;I.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(xe){it(j,j.return,xe)}}}else if(s.tag===6){if(c===null){j=s;try{j.stateNode.nodeValue=x?"":j.memoizedProps}catch(xe){it(j,j.return,xe)}}}else if(s.tag===18){if(c===null){j=s;try{var J=j.stateNode;x?hT(J,!0):hT(j.stateNode,!1)}catch(xe){it(j,j.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}m&4&&(m=o.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Td(o,c))));break;case 19:zn(s,o),Ln(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Td(o,m)));break;case 30:break;case 21:break;default:zn(s,o),Ln(o)}}function Ln(o){var s=o.flags;if(s&2){try{for(var c,m=o.return;m!==null;){if(pE(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var x=c.stateNode,_=Sg(o);Ed(o,_,x);break;case 5:var N=c.stateNode;c.flags&32&&(Jo(N,""),c.flags&=-33);var I=Sg(o);Ed(o,I,N);break;case 3:case 4:var j=c.stateNode.containerInfo,F=Sg(o);Eg(o,F,j);break;default:throw Error(r(161))}}catch(ee){it(o,o.return,ee)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function EE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;EE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function _i(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)yE(o,s.alternate,s),s=s.sibling}function io(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:ha(4,s,s.return),io(s);break;case 1:Wr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&hE(s,s.return,c),io(s);break;case 27:du(s.stateNode);case 26:case 5:Wr(s,s.return),io(s);break;case 22:s.memoizedState===null&&io(s);break;case 30:io(s);break;default:io(s)}o=o.sibling}}function Si(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var m=s.alternate,x=o,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:Si(x,_,c),tu(4,_);break;case 1:if(Si(x,_,c),m=_,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(F){it(m,m.return,F)}if(m=_,x=m.updateQueue,x!==null){var I=m.stateNode;try{var j=x.shared.hiddenCallbacks;if(j!==null)for(x.shared.hiddenCallbacks=null,x=0;x<j.length;x++)tS(j[x],I)}catch(F){it(m,m.return,F)}}c&&N&64&&fE(_),nu(_,_.return);break;case 27:gE(_);case 26:case 5:Si(x,_,c),c&&m===null&&N&4&&mE(_),nu(_,_.return);break;case 12:Si(x,_,c);break;case 31:Si(x,_,c),c&&N&4&&wE(x,_);break;case 13:Si(x,_,c),c&&N&4&&_E(x,_);break;case 22:_.memoizedState===null&&Si(x,_,c),nu(_,_.return);break;case 30:break;default:Si(x,_,c)}s=s.sibling}}function Ag(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&$l(c))}function Cg(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&$l(o))}function Or(o,s,c,m){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)TE(o,s,c,m),s=s.sibling}function TE(o,s,c,m){var x=s.flags;switch(s.tag){case 0:case 11:case 15:Or(o,s,c,m),x&2048&&tu(9,s);break;case 1:Or(o,s,c,m);break;case 3:Or(o,s,c,m),x&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&$l(o)));break;case 12:if(x&2048){Or(o,s,c,m),o=s.stateNode;try{var _=s.memoizedProps,N=_.id,I=_.onPostCommit;typeof I=="function"&&I(N,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(j){it(s,s.return,j)}}else Or(o,s,c,m);break;case 31:Or(o,s,c,m);break;case 13:Or(o,s,c,m);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?Or(o,s,c,m):ru(o,s):_._visibility&2?Or(o,s,c,m):(_._visibility|=2,gs(o,s,c,m,(s.subtreeFlags&10256)!==0||!1)),x&2048&&Ag(N,s);break;case 24:Or(o,s,c,m),x&2048&&Cg(s.alternate,s);break;default:Or(o,s,c,m)}}function gs(o,s,c,m,x){for(x=x&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=o,N=s,I=c,j=m,F=N.flags;switch(N.tag){case 0:case 11:case 15:gs(_,N,I,j,x),tu(8,N);break;case 23:break;case 22:var ee=N.stateNode;N.memoizedState!==null?ee._visibility&2?gs(_,N,I,j,x):ru(_,N):(ee._visibility|=2,gs(_,N,I,j,x)),x&&F&2048&&Ag(N.alternate,N);break;case 24:gs(_,N,I,j,x),x&&F&2048&&Cg(N.alternate,N);break;default:gs(_,N,I,j,x)}s=s.sibling}}function ru(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,m=s,x=m.flags;switch(m.tag){case 22:ru(c,m),x&2048&&Ag(m.alternate,m);break;case 24:ru(c,m),x&2048&&Cg(m.alternate,m);break;default:ru(c,m)}s=s.sibling}}var iu=8192;function vs(o,s,c){if(o.subtreeFlags&iu)for(o=o.child;o!==null;)AE(o,s,c),o=o.sibling}function AE(o,s,c){switch(o.tag){case 26:vs(o,s,c),o.flags&iu&&o.memoizedState!==null&&t4(c,Nr,o.memoizedState,o.memoizedProps);break;case 5:vs(o,s,c);break;case 3:case 4:var m=Nr;Nr=Ud(o.stateNode.containerInfo),vs(o,s,c),Nr=m;break;case 22:o.memoizedState===null&&(m=o.alternate,m!==null&&m.memoizedState!==null?(m=iu,iu=16777216,vs(o,s,c),iu=m):vs(o,s,c));break;default:vs(o,s,c)}}function CE(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function au(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];Xt=m,OE(m,o)}CE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)NE(o),o=o.sibling}function NE(o){switch(o.tag){case 0:case 11:case 15:au(o),o.flags&2048&&ha(9,o,o.return);break;case 3:au(o);break;case 12:au(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Ad(o)):au(o);break;default:au(o)}}function Ad(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var m=s[c];Xt=m,OE(m,o)}CE(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:ha(8,s,s.return),Ad(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Ad(s));break;default:Ad(s)}o=o.sibling}}function OE(o,s){for(;Xt!==null;){var c=Xt;switch(c.tag){case 0:case 11:case 15:ha(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$l(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Xt=m;else e:for(c=o;Xt!==null;){m=Xt;var x=m.sibling,_=m.return;if(bE(m),m===c){Xt=null;break e}if(x!==null){x.return=_,Xt=x;break e}Xt=_}}}var gU={getCacheForType:function(o){var s=cn(zt),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return cn(zt).controller.signal}},vU=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,He=null,Fe=0,rt=0,Xn=null,ma=!1,ys=!1,Ng=!1,Ei=0,Ot=0,pa=0,ao=0,Og=0,Qn=0,bs=0,ou=null,Un=null,Rg=!1,Cd=0,RE=0,Nd=1/0,Od=null,ga=null,Ft=0,va=null,xs=null,Ti=0,kg=0,Pg=null,kE=null,su=0,Ig=null;function Zn(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:$.T!==null?Ug():Kw()}function PE(){if(Qn===0)if((Fe&536870912)===0||We){var o=zc;zc<<=1,(zc&3932160)===0&&(zc=262144),Qn=o}else Qn=536870912;return o=Yn.current,o!==null&&(o.flags|=32),Qn}function Bn(o,s,c){(o===pt&&(rt===2||rt===9)||o.cancelPendingCommit!==null)&&(ws(o,0),ya(o,Fe,Qn,!1)),Nl(o,c),((nt&2)===0||o!==pt)&&(o===pt&&((nt&2)===0&&(ao|=c),Ot===4&&ya(o,Fe,Qn,!1)),Yr(o))}function IE(o,s,c){if((nt&6)!==0)throw Error(r(327));var m=!c&&(s&127)===0&&(s&o.expiredLanes)===0||Cl(o,s),x=m?xU(o,s):Dg(o,s,!0),_=m;do{if(x===0){ys&&!m&&ya(o,s,0,!1);break}else{if(c=o.current.alternate,_&&!yU(c)){x=Dg(o,s,!1),_=!1;continue}if(x===2){if(_=s,o.errorRecoveryDisabledLanes&_)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var I=o;x=ou;var j=I.current.memoizedState.isDehydrated;if(j&&(ws(I,N).flags|=256),N=Dg(I,N,!1),N!==2){if(Ng&&!j){I.errorRecoveryDisabledLanes|=_,ao|=_,x=4;break e}_=Un,Un=x,_!==null&&(Un===null?Un=_:Un.push.apply(Un,_))}x=N}if(_=!1,x!==2)continue}}if(x===1){ws(o,0),ya(o,s,0,!0);break}e:{switch(m=o,_=x,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ya(m,s,Qn,!ma);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(x=Cd+300-ut(),10<x)){if(ya(m,s,Qn,!ma),Uc(m,0,!0)!==0)break e;Ti=s,m.timeoutHandle=cT(ME.bind(null,m,c,Un,Od,Rg,s,Qn,ao,bs,ma,_,"Throttled",-0,0),x);break e}ME(m,c,Un,Od,Rg,s,Qn,ao,bs,ma,_,null,-0,0)}}break}while(!0);Yr(o)}function ME(o,s,c,m,x,_,N,I,j,F,ee,re,V,J){if(o.timeoutHandle=-1,re=s.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},AE(s,_,re);var xe=(_&62914560)===_?Cd-ut():(_&4194048)===_?RE-ut():0;if(xe=n4(re,xe),xe!==null){Ti=_,o.cancelPendingCommit=xe($E.bind(null,o,s,_,c,m,x,N,I,j,ee,re,null,V,J)),ya(o,_,N,!F);return}}$E(o,s,_,c,m,x,N,I,j)}function yU(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var x=c[m],_=x.getSnapshot;x=x.value;try{if(!Kn(_(),x))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ya(o,s,c,m){s&=~Og,s&=~ao,o.suspendedLanes|=s,o.pingedLanes&=~s,m&&(o.warmLanes|=s),m=o.expirationTimes;for(var x=s;0<x;){var _=31-Vn(x),N=1<<_;m[_]=-1,x&=~N}c!==0&&Gw(o,c,s)}function Rd(){return(nt&6)===0?(lu(0),!1):!0}function Mg(){if(He!==null){if(rt===0)var o=He.return;else o=He,mi=Ja=null,Jp(o),ds=null,Gl=0,o=He;for(;o!==null;)dE(o.alternate,o),o=o.return;He=null}}function ws(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,LU(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),Ti=0,Mg(),pt=o,He=c=fi(o.current,null),Fe=s,rt=0,Xn=null,ma=!1,ys=Cl(o,s),Ng=!1,bs=Qn=Og=ao=pa=Ot=0,Un=ou=null,Rg=!1,(s&8)!==0&&(s|=s&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=s;0<m;){var x=31-Vn(m),_=1<<x;s|=o[x],m&=~_}return Ei=s,Xc(),c}function DE(o,s){qe=null,$.H=Ql,s===cs||s===ad?(s=X_(),rt=3):s===Lp?(s=X_(),rt=4):rt=s===fg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,He===null&&(Ot=1,bd(o,ur(s,o.current)))}function jE(){var o=Yn.current;return o===null?!0:(Fe&4194048)===Fe?hr===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?o===hr:!1}function zE(){var o=$.H;return $.H=Ql,o===null?Ql:o}function LE(){var o=$.A;return $.A=gU,o}function kd(){Ot=4,ma||(Fe&4194048)!==Fe&&Yn.current!==null||(ys=!0),(pa&134217727)===0&&(ao&134217727)===0||pt===null||ya(pt,Fe,Qn,!1)}function Dg(o,s,c){var m=nt;nt|=2;var x=zE(),_=LE();(pt!==o||Fe!==s)&&(Od=null,ws(o,s)),s=!1;var N=Ot;e:do try{if(rt!==0&&He!==null){var I=He,j=Xn;switch(rt){case 8:Mg(),N=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var F=rt;if(rt=0,Xn=null,_s(o,I,j,F),c&&ys){N=0;break e}break;default:F=rt,rt=0,Xn=null,_s(o,I,j,F)}}bU(),N=Ot;break}catch(ee){DE(o,ee)}while(!0);return s&&o.shellSuspendCounter++,mi=Ja=null,nt=m,$.H=x,$.A=_,He===null&&(pt=null,Fe=0,Xc()),N}function bU(){for(;He!==null;)UE(He)}function xU(o,s){var c=nt;nt|=2;var m=zE(),x=LE();pt!==o||Fe!==s?(Od=null,Nd=ut()+500,ws(o,s)):ys=Cl(o,s);e:do try{if(rt!==0&&He!==null){s=He;var _=Xn;t:switch(rt){case 1:rt=0,Xn=null,_s(o,s,_,1);break;case 2:case 9:if(Y_(_)){rt=0,Xn=null,BE(s);break}s=function(){rt!==2&&rt!==9||pt!==o||(rt=7),Yr(o)},_.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Y_(_)?(rt=0,Xn=null,BE(s)):(rt=0,Xn=null,_s(o,s,_,7));break;case 5:var N=null;switch(He.tag){case 26:N=He.memoizedState;case 5:case 27:var I=He;if(N?TT(N):I.stateNode.complete){rt=0,Xn=null;var j=I.sibling;if(j!==null)He=j;else{var F=I.return;F!==null?(He=F,Pd(F)):He=null}break t}}rt=0,Xn=null,_s(o,s,_,5);break;case 6:rt=0,Xn=null,_s(o,s,_,6);break;case 8:Mg(),Ot=6;break e;default:throw Error(r(462))}}wU();break}catch(ee){DE(o,ee)}while(!0);return mi=Ja=null,$.H=m,$.A=x,nt=c,He!==null?0:(pt=null,Fe=0,Xc(),Ot)}function wU(){for(;He!==null&&!Ae();)UE(He)}function UE(o){var s=uE(o.alternate,o,Ei);o.memoizedProps=o.pendingProps,s===null?Pd(o):He=s}function BE(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=rE(c,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=rE(c,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:Jp(s);default:dE(c,s),s=He=L_(s,Ei),s=uE(c,s,Ei)}o.memoizedProps=o.pendingProps,s===null?Pd(o):He=s}function _s(o,s,c,m){mi=Ja=null,Jp(s),ds=null,Gl=0;var x=s.return;try{if(uU(o,x,s,c,Fe)){Ot=1,bd(o,ur(c,o.current)),He=null;return}}catch(_){if(x!==null)throw He=x,_;Ot=1,bd(o,ur(c,o.current)),He=null;return}s.flags&32768?(We||m===1?o=!0:ys||(Fe&536870912)!==0?o=!1:(ma=o=!0,(m===2||m===9||m===3||m===6)&&(m=Yn.current,m!==null&&m.tag===13&&(m.flags|=16384))),qE(s,o)):Pd(s)}function Pd(o){var s=o;do{if((s.flags&32768)!==0){qE(s,ma);return}o=s.return;var c=fU(s.alternate,s,Ei);if(c!==null){He=c;return}if(s=s.sibling,s!==null){He=s;return}He=s=o}while(s!==null);Ot===0&&(Ot=5)}function qE(o,s){do{var c=hU(o.alternate,o);if(c!==null){c.flags&=32767,He=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){He=o;return}He=o=c}while(o!==null);Ot=6,He=null}function $E(o,s,c,m,x,_,N,I,j){o.cancelPendingCommit=null;do Id();while(Ft!==0);if((nt&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Sp,eL(o,c,_,N,I,j),o===pt&&(He=pt=null,Fe=0),xs=s,va=o,Ti=c,kg=_,Pg=x,kE=m,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,TU(Ho,function(){return KE(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,x=te.p,te.p=2,N=nt,nt|=4;try{mU(o,s,c)}finally{nt=N,te.p=x,$.T=m}}Ft=1,HE(),GE(),FE()}}function HE(){if(Ft===1){Ft=0;var o=va,s=xs,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var m=te.p;te.p=2;var x=nt;nt|=4;try{SE(s,o);var _=Kg,N=O_(o.containerInfo),I=_.focusedElem,j=_.selectionRange;if(N!==I&&I&&I.ownerDocument&&N_(I.ownerDocument.documentElement,I)){if(j!==null&&yp(I)){var F=j.start,ee=j.end;if(ee===void 0&&(ee=F),"selectionStart"in I)I.selectionStart=F,I.selectionEnd=Math.min(ee,I.value.length);else{var re=I.ownerDocument||document,V=re&&re.defaultView||window;if(V.getSelection){var J=V.getSelection(),xe=I.textContent.length,ke=Math.min(j.start,xe),ft=j.end===void 0?ke:Math.min(j.end,xe);!J.extend&&ke>ft&&(N=ft,ft=ke,ke=N);var q=C_(I,ke),U=C_(I,ft);if(q&&U&&(J.rangeCount!==1||J.anchorNode!==q.node||J.anchorOffset!==q.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var G=re.createRange();G.setStart(q.node,q.offset),J.removeAllRanges(),ke>ft?(J.addRange(G),J.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),J.addRange(G))}}}}for(re=[],J=I;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<re.length;I++){var ne=re[I];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Fd=!!Vg,Kg=Vg=null}finally{nt=x,te.p=m,$.T=c}}o.current=s,Ft=2}}function GE(){if(Ft===2){Ft=0;var o=va,s=xs,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var m=te.p;te.p=2;var x=nt;nt|=4;try{yE(o,s.alternate,s)}finally{nt=x,te.p=m,$.T=c}}Ft=3}}function FE(){if(Ft===4||Ft===3){Ft=0,Ke();var o=va,s=xs,c=Ti,m=kE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,xs=va=null,VE(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(ga=null),Zm(c),s=s.stateNode,Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Al,s,void 0,(s.current.flags&128)===128)}catch{}if(m!==null){s=$.T,x=te.p,te.p=2,$.T=null;try{for(var _=o.onRecoverableError,N=0;N<m.length;N++){var I=m[N];_(I.value,{componentStack:I.stack})}}finally{$.T=s,te.p=x}}(Ti&3)!==0&&Id(),Yr(o),x=o.pendingLanes,(c&261930)!==0&&(x&42)!==0?o===Ig?su++:(su=0,Ig=o):su=0,lu(0)}}function VE(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,$l(s)))}function Id(){return HE(),GE(),FE(),KE()}function KE(){if(Ft!==5)return!1;var o=va,s=kg;kg=0;var c=Zm(Ti),m=$.T,x=te.p;try{te.p=32>c?32:c,$.T=null,c=Pg,Pg=null;var _=va,N=Ti;if(Ft=0,xs=va=null,Ti=0,(nt&6)!==0)throw Error(r(331));var I=nt;if(nt|=4,NE(_.current),TE(_,_.current,N,c),nt=I,lu(0,!1),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Al,_)}catch{}return!0}finally{te.p=x,$.T=m,VE(o,s)}}function WE(o,s,c){s=ur(c,s),s=dg(o.stateNode,s,2),o=ca(o,s,2),o!==null&&(Nl(o,2),Yr(o))}function it(o,s,c){if(o.tag===3)WE(o,o,c);else for(;s!==null;){if(s.tag===3){WE(s,o,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ga===null||!ga.has(m))){o=ur(c,o),c=YS(2),m=ca(s,c,2),m!==null&&(JS(c,m,s,o),Nl(m,2),Yr(m));break}}s=s.return}}function jg(o,s,c){var m=o.pingCache;if(m===null){m=o.pingCache=new vU;var x=new Set;m.set(s,x)}else x=m.get(s),x===void 0&&(x=new Set,m.set(s,x));x.has(c)||(Ng=!0,x.add(c),o=_U.bind(null,o,s,c),s.then(o,o))}function _U(o,s,c){var m=o.pingCache;m!==null&&m.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,pt===o&&(Fe&c)===c&&(Ot===4||Ot===3&&(Fe&62914560)===Fe&&300>ut()-Cd?(nt&2)===0&&ws(o,0):Og|=c,bs===Fe&&(bs=0)),Yr(o)}function YE(o,s){s===0&&(s=Hw()),o=Ka(o,s),o!==null&&(Nl(o,s),Yr(o))}function SU(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),YE(o,c)}function EU(o,s){var c=0;switch(o.tag){case 31:case 13:var m=o.stateNode,x=o.memoizedState;x!==null&&(c=x.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(s),YE(o,c)}function TU(o,s){return pe(o,s)}var Md=null,Ss=null,zg=!1,Dd=!1,Lg=!1,ba=0;function Yr(o){o!==Ss&&o.next===null&&(Ss===null?Md=Ss=o:Ss=Ss.next=o),Dd=!0,zg||(zg=!0,CU())}function lu(o,s){if(!Lg&&Dd){Lg=!0;do for(var c=!1,m=Md;m!==null;){if(o!==0){var x=m.pendingLanes;if(x===0)var _=0;else{var N=m.suspendedLanes,I=m.pingedLanes;_=(1<<31-Vn(42|o)+1)-1,_&=x&~(N&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,ZE(m,_))}else _=Fe,_=Uc(m,m===pt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Cl(m,_)||(c=!0,ZE(m,_));m=m.next}while(c);Lg=!1}}function AU(){JE()}function JE(){Dd=zg=!1;var o=0;ba!==0&&zU()&&(o=ba);for(var s=ut(),c=null,m=Md;m!==null;){var x=m.next,_=XE(m,s);_===0?(m.next=null,c===null?Md=x:c.next=x,x===null&&(Ss=c)):(c=m,(o!==0||(_&3)!==0)&&(Dd=!0)),m=x}Ft!==0&&Ft!==5||lu(o),ba!==0&&(ba=0)}function XE(o,s){for(var c=o.suspendedLanes,m=o.pingedLanes,x=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var N=31-Vn(_),I=1<<N,j=x[N];j===-1?((I&c)===0||(I&m)!==0)&&(x[N]=Zz(I,s)):j<=s&&(o.expiredLanes|=I),_&=~I}if(s=pt,c=Fe,c=Uc(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,c===0||o===s&&(rt===2||rt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&ye(m),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||Cl(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(m!==null&&ye(m),Zm(c)){case 2:case 8:c=yn;break;case 32:c=Ho;break;case 268435456:c=$w;break;default:c=Ho}return m=QE.bind(null,o),c=pe(c,m),o.callbackPriority=s,o.callbackNode=c,s}return m!==null&&m!==null&&ye(m),o.callbackPriority=2,o.callbackNode=null,2}function QE(o,s){if(Ft!==0&&Ft!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(Id()&&o.callbackNode!==c)return null;var m=Fe;return m=Uc(o,o===pt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(IE(o,m,s),XE(o,ut()),o.callbackNode!=null&&o.callbackNode===c?QE.bind(null,o):null)}function ZE(o,s){if(Id())return null;IE(o,s,!0)}function CU(){UU(function(){(nt&6)!==0?pe(Fr,AU):JE()})}function Ug(){if(ba===0){var o=ls;o===0&&(o=jc,jc<<=1,(jc&261888)===0&&(jc=256)),ba=o}return ba}function eT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Hc(""+o)}function tT(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function NU(o,s,c,m,x){if(s==="submit"&&c&&c.stateNode===x){var _=eT((x[Mn]||null).action),N=m.submitter;N&&(s=(s=N[Mn]||null)?eT(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var I=new Kc("action","action",null,m,x);o.push({event:I,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ba!==0){var j=N?tT(x,N):new FormData(x);ag(c,{pending:!0,data:j,method:x.method,action:_},null,j)}}else typeof _=="function"&&(I.preventDefault(),j=N?tT(x,N):new FormData(x),ag(c,{pending:!0,data:j,method:x.method,action:_},_,j))},currentTarget:x}]})}}for(var Bg=0;Bg<_p.length;Bg++){var qg=_p[Bg],OU=qg.toLowerCase(),RU=qg[0].toUpperCase()+qg.slice(1);Cr(OU,"on"+RU)}Cr(P_,"onAnimationEnd"),Cr(I_,"onAnimationIteration"),Cr(M_,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(VL,"onTransitionRun"),Cr(KL,"onTransitionStart"),Cr(WL,"onTransitionCancel"),Cr(D_,"onTransitionEnd"),Wo("onMouseEnter",["mouseout","mouseover"]),Wo("onMouseLeave",["mouseout","mouseover"]),Wo("onPointerEnter",["pointerout","pointerover"]),Wo("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function nT(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var m=o[c],x=m.event;m=m.listeners;e:{var _=void 0;if(s)for(var N=m.length-1;0<=N;N--){var I=m[N],j=I.instance,F=I.currentTarget;if(I=I.listener,j!==_&&x.isPropagationStopped())break e;_=I,x.currentTarget=F;try{_(x)}catch(ee){Jc(ee)}x.currentTarget=null,_=j}else for(N=0;N<m.length;N++){if(I=m[N],j=I.instance,F=I.currentTarget,I=I.listener,j!==_&&x.isPropagationStopped())break e;_=I,x.currentTarget=F;try{_(x)}catch(ee){Jc(ee)}x.currentTarget=null,_=j}}}}function Ge(o,s){var c=s[ep];c===void 0&&(c=s[ep]=new Set);var m=o+"__bubble";c.has(m)||(rT(s,o,2,!1),c.add(m))}function $g(o,s,c){var m=0;s&&(m|=4),rT(c,o,m,s)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Hg(o){if(!o[jd]){o[jd]=!0,Jw.forEach(function(c){c!=="selectionchange"&&(kU.has(c)||$g(c,!1,o),$g(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[jd]||(s[jd]=!0,$g("selectionchange",!1,s))}}function rT(o,s,c,m){switch(PT(s)){case 2:var x=a4;break;case 8:x=o4;break;default:x=iv}c=x.bind(null,s,c,o),x=void 0,!up||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),m?x!==void 0?o.addEventListener(s,c,{capture:!0,passive:x}):o.addEventListener(s,c,!0):x!==void 0?o.addEventListener(s,c,{passive:x}):o.addEventListener(s,c,!1)}function Gg(o,s,c,m,x){var _=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var I=m.stateNode.containerInfo;if(I===x)break;if(N===4)for(N=m.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;I!==null;){if(N=Fo(I),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){m=_=N;continue e}I=I.parentNode}}m=m.return}l_(function(){var F=_,ee=sp(c),re=[];e:{var V=j_.get(o);if(V!==void 0){var J=Kc,xe=o;switch(o){case"keypress":if(Fc(c)===0)break e;case"keydown":case"keyup":J=EL;break;case"focusin":xe="focus",J=hp;break;case"focusout":xe="blur",J=hp;break;case"beforeblur":case"afterblur":J=hp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=d_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=fL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=CL;break;case P_:case I_:case M_:J=pL;break;case D_:J=OL;break;case"scroll":case"scrollend":J=cL;break;case"wheel":J=kL;break;case"copy":case"cut":case"paste":J=vL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=h_;break;case"toggle":case"beforetoggle":J=IL}var ke=(s&4)!==0,ft=!ke&&(o==="scroll"||o==="scrollend"),q=ke?V!==null?V+"Capture":null:V;ke=[];for(var U=F,G;U!==null;){var ne=U;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||q===null||(ne=kl(U,q),ne!=null&&ke.push(cu(U,ne,G))),ft)break;U=U.return}0<ke.length&&(V=new J(V,xe,null,c,ee),re.push({event:V,listeners:ke}))}}if((s&7)===0){e:{if(V=o==="mouseover"||o==="pointerover",J=o==="mouseout"||o==="pointerout",V&&c!==op&&(xe=c.relatedTarget||c.fromElement)&&(Fo(xe)||xe[Go]))break e;if((J||V)&&(V=ee.window===ee?ee:(V=ee.ownerDocument)?V.defaultView||V.parentWindow:window,J?(xe=c.relatedTarget||c.toElement,J=F,xe=xe?Fo(xe):null,xe!==null&&(ft=a(xe),ke=xe.tag,xe!==ft||ke!==5&&ke!==27&&ke!==6)&&(xe=null)):(J=null,xe=F),J!==xe)){if(ke=d_,ne="onMouseLeave",q="onMouseEnter",U="mouse",(o==="pointerout"||o==="pointerover")&&(ke=h_,ne="onPointerLeave",q="onPointerEnter",U="pointer"),ft=J==null?V:Rl(J),G=xe==null?V:Rl(xe),V=new ke(ne,U+"leave",J,c,ee),V.target=ft,V.relatedTarget=G,ne=null,Fo(ee)===F&&(ke=new ke(q,U+"enter",xe,c,ee),ke.target=G,ke.relatedTarget=ft,ne=ke),ft=ne,J&&xe)t:{for(ke=PU,q=J,U=xe,G=0,ne=q;ne;ne=ke(ne))G++;ne=0;for(var Ne=U;Ne;Ne=ke(Ne))ne++;for(;0<G-ne;)q=ke(q),G--;for(;0<ne-G;)U=ke(U),ne--;for(;G--;){if(q===U||U!==null&&q===U.alternate){ke=q;break t}q=ke(q),U=ke(U)}ke=null}else ke=null;J!==null&&iT(re,V,J,ke,!1),xe!==null&&ft!==null&&iT(re,ft,xe,ke,!0)}}e:{if(V=F?Rl(F):window,J=V.nodeName&&V.nodeName.toLowerCase(),J==="select"||J==="input"&&V.type==="file")var Qe=w_;else if(b_(V))if(__)Qe=HL;else{Qe=qL;var Se=BL}else J=V.nodeName,!J||J.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?F&&ap(F.elementType)&&(Qe=w_):Qe=$L;if(Qe&&(Qe=Qe(o,F))){x_(re,Qe,c,ee);break e}Se&&Se(o,V,F),o==="focusout"&&F&&V.type==="number"&&F.memoizedProps.value!=null&&ip(V,"number",V.value)}switch(Se=F?Rl(F):window,o){case"focusin":(b_(Se)||Se.contentEditable==="true")&&(es=Se,bp=F,Ul=null);break;case"focusout":Ul=bp=es=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,R_(re,c,ee);break;case"selectionchange":if(FL)break;case"keydown":case"keyup":R_(re,c,ee)}var $e;if(pp)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Zo?v_(o,c)&&(Ve="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(m_&&c.locale!=="ko"&&(Zo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Zo&&($e=u_()):(ra=ee,cp="value"in ra?ra.value:ra.textContent,Zo=!0)),Se=zd(F,Ve),0<Se.length&&(Ve=new f_(Ve,o,null,c,ee),re.push({event:Ve,listeners:Se}),$e?Ve.data=$e:($e=y_(c),$e!==null&&(Ve.data=$e)))),($e=DL?jL(o,c):zL(o,c))&&(Ve=zd(F,"onBeforeInput"),0<Ve.length&&(Se=new f_("onBeforeInput","beforeinput",null,c,ee),re.push({event:Se,listeners:Ve}),Se.data=$e)),NU(re,o,F,c,ee)}nT(re,s)})}function cu(o,s,c){return{instance:o,listener:s,currentTarget:c}}function zd(o,s){for(var c=s+"Capture",m=[];o!==null;){var x=o,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=kl(o,c),x!=null&&m.unshift(cu(o,x,_)),x=kl(o,s),x!=null&&m.push(cu(o,x,_))),o.tag===3)return m;o=o.return}return[]}function PU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function iT(o,s,c,m,x){for(var _=s._reactName,N=[];c!==null&&c!==m;){var I=c,j=I.alternate,F=I.stateNode;if(I=I.tag,j!==null&&j===m)break;I!==5&&I!==26&&I!==27||F===null||(j=F,x?(F=kl(c,_),F!=null&&N.unshift(cu(c,F,j))):x||(F=kl(c,_),F!=null&&N.push(cu(c,F,j)))),c=c.return}N.length!==0&&o.push({event:s,listeners:N})}var IU=/\r\n?/g,MU=/\u0000|\uFFFD/g;function aT(o){return(typeof o=="string"?o:""+o).replace(IU,`
`).replace(MU,"")}function oT(o,s){return s=aT(s),aT(o)===s}function dt(o,s,c,m,x,_){switch(c){case"children":typeof m=="string"?s==="body"||s==="textarea"&&m===""||Jo(o,m):(typeof m=="number"||typeof m=="bigint")&&s!=="body"&&Jo(o,""+m);break;case"className":qc(o,"class",m);break;case"tabIndex":qc(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":qc(o,c,m);break;case"style":o_(o,m,_);break;case"data":if(s!=="object"){qc(o,"data",m);break}case"src":case"href":if(m===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(c);break}m=Hc(""+m),o.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&dt(o,s,"name",x.name,x,null),dt(o,s,"formEncType",x.formEncType,x,null),dt(o,s,"formMethod",x.formMethod,x,null),dt(o,s,"formTarget",x.formTarget,x,null)):(dt(o,s,"encType",x.encType,x,null),dt(o,s,"method",x.method,x,null),dt(o,s,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(c);break}m=Hc(""+m),o.setAttribute(c,m);break;case"onClick":m!=null&&(o.onclick=ci);break;case"onScroll":m!=null&&Ge("scroll",o);break;case"onScrollEnd":m!=null&&Ge("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}c=Hc(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(c,""+m):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":m===!0?o.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(c,m):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(c,m):o.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(c):o.setAttribute(c,m);break;case"popover":Ge("beforetoggle",o),Ge("toggle",o),Bc(o,"popover",m);break;case"xlinkActuate":ui(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ui(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ui(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ui(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ui(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ui(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ui(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ui(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ui(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Bc(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=lL.get(c)||c,Bc(o,c,m))}}function Fg(o,s,c,m,x,_){switch(c){case"style":o_(o,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof m=="string"?Jo(o,m):(typeof m=="number"||typeof m=="bigint")&&Jo(o,""+m);break;case"onScroll":m!=null&&Ge("scroll",o);break;case"onScrollEnd":m!=null&&Ge("scrollend",o);break;case"onClick":m!=null&&(o.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),s=c.slice(2,x?c.length-7:void 0),_=o[Mn]||null,_=_!=null?_[c]:null,typeof _=="function"&&o.removeEventListener(s,_,x),typeof m=="function")){typeof _!="function"&&_!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,m,x);break e}c in o?o[c]=m:m===!0?o.setAttribute(c,""):Bc(o,c,m)}}}function fn(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",o),Ge("load",o);var m=!1,x=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var N=c[_];if(N!=null)switch(_){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(o,s,_,N,c,null)}}x&&dt(o,s,"srcSet",c.srcSet,c,null),m&&dt(o,s,"src",c.src,c,null);return;case"input":Ge("invalid",o);var I=_=N=x=null,j=null,F=null;for(m in c)if(c.hasOwnProperty(m)){var ee=c[m];if(ee!=null)switch(m){case"name":x=ee;break;case"type":N=ee;break;case"checked":j=ee;break;case"defaultChecked":F=ee;break;case"value":_=ee;break;case"defaultValue":I=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:dt(o,s,m,ee,c,null)}}n_(o,_,I,j,F,N,x,!1);return;case"select":Ge("invalid",o),m=N=_=null;for(x in c)if(c.hasOwnProperty(x)&&(I=c[x],I!=null))switch(x){case"value":_=I;break;case"defaultValue":N=I;break;case"multiple":m=I;default:dt(o,s,x,I,c,null)}s=_,c=N,o.multiple=!!m,s!=null?Yo(o,!!m,s,!1):c!=null&&Yo(o,!!m,c,!0);return;case"textarea":Ge("invalid",o),_=x=m=null;for(N in c)if(c.hasOwnProperty(N)&&(I=c[N],I!=null))switch(N){case"value":m=I;break;case"defaultValue":x=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:dt(o,s,N,I,c,null)}i_(o,m,x,_);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(m=c[j],m!=null))switch(j){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:dt(o,s,j,m,c,null)}return;case"dialog":Ge("beforetoggle",o),Ge("toggle",o),Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":Ge("load",o);break;case"video":case"audio":for(m=0;m<uu.length;m++)Ge(uu[m],o);break;case"image":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"embed":case"source":case"link":Ge("error",o),Ge("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in c)if(c.hasOwnProperty(F)&&(m=c[F],m!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(o,s,F,m,c,null)}return;default:if(ap(s)){for(ee in c)c.hasOwnProperty(ee)&&(m=c[ee],m!==void 0&&Fg(o,s,ee,m,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(m=c[I],m!=null&&dt(o,s,I,m,c,null))}function DU(o,s,c,m){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,N=null,I=null,j=null,F=null,ee=null;for(J in c){var re=c[J];if(c.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=re;default:m.hasOwnProperty(J)||dt(o,s,J,null,m,re)}}for(var V in m){var J=m[V];if(re=c[V],m.hasOwnProperty(V)&&(J!=null||re!=null))switch(V){case"type":_=J;break;case"name":x=J;break;case"checked":F=J;break;case"defaultChecked":ee=J;break;case"value":N=J;break;case"defaultValue":I=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==re&&dt(o,s,V,J,m,re)}}rp(o,N,I,j,F,ee,_,x);return;case"select":J=N=I=V=null;for(_ in c)if(j=c[_],c.hasOwnProperty(_)&&j!=null)switch(_){case"value":break;case"multiple":J=j;default:m.hasOwnProperty(_)||dt(o,s,_,null,m,j)}for(x in m)if(_=m[x],j=c[x],m.hasOwnProperty(x)&&(_!=null||j!=null))switch(x){case"value":V=_;break;case"defaultValue":I=_;break;case"multiple":N=_;default:_!==j&&dt(o,s,x,_,m,j)}s=I,c=N,m=J,V!=null?Yo(o,!!c,V,!1):!!m!=!!c&&(s!=null?Yo(o,!!c,s,!0):Yo(o,!!c,c?[]:"",!1));return;case"textarea":J=V=null;for(I in c)if(x=c[I],c.hasOwnProperty(I)&&x!=null&&!m.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:dt(o,s,I,null,m,x)}for(N in m)if(x=m[N],_=c[N],m.hasOwnProperty(N)&&(x!=null||_!=null))switch(N){case"value":V=x;break;case"defaultValue":J=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==_&&dt(o,s,N,x,m,_)}r_(o,V,J);return;case"option":for(var xe in c)if(V=c[xe],c.hasOwnProperty(xe)&&V!=null&&!m.hasOwnProperty(xe))switch(xe){case"selected":o.selected=!1;break;default:dt(o,s,xe,null,m,V)}for(j in m)if(V=m[j],J=c[j],m.hasOwnProperty(j)&&V!==J&&(V!=null||J!=null))switch(j){case"selected":o.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:dt(o,s,j,V,m,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in c)V=c[ke],c.hasOwnProperty(ke)&&V!=null&&!m.hasOwnProperty(ke)&&dt(o,s,ke,null,m,V);for(F in m)if(V=m[F],J=c[F],m.hasOwnProperty(F)&&V!==J&&(V!=null||J!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,s));break;default:dt(o,s,F,V,m,J)}return;default:if(ap(s)){for(var ft in c)V=c[ft],c.hasOwnProperty(ft)&&V!==void 0&&!m.hasOwnProperty(ft)&&Fg(o,s,ft,void 0,m,V);for(ee in m)V=m[ee],J=c[ee],!m.hasOwnProperty(ee)||V===J||V===void 0&&J===void 0||Fg(o,s,ee,V,m,J);return}}for(var q in c)V=c[q],c.hasOwnProperty(q)&&V!=null&&!m.hasOwnProperty(q)&&dt(o,s,q,null,m,V);for(re in m)V=m[re],J=c[re],!m.hasOwnProperty(re)||V===J||V==null&&J==null||dt(o,s,re,V,m,J)}function sT(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var x=c[m],_=x.transferSize,N=x.initiatorType,I=x.duration;if(_&&I&&sT(N)){for(N=0,I=x.responseEnd,m+=1;m<c.length;m++){var j=c[m],F=j.startTime;if(F>I)break;var ee=j.transferSize,re=j.initiatorType;ee&&sT(re)&&(j=j.responseEnd,N+=ee*(j<I?1:(I-F)/(j-F)))}if(--m,s+=8*(_+N)/(x.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Vg=null,Kg=null;function Ld(o){return o.nodeType===9?o:o.ownerDocument}function lT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uT(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Wg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yg=null;function zU(){var o=window.event;return o&&o.type==="popstate"?o===Yg?!1:(Yg=o,!0):(Yg=null,!1)}var cT=typeof setTimeout=="function"?setTimeout:void 0,LU=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,UU=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(o){return dT.resolve(null).then(o).catch(BU)}:cT;function BU(o){setTimeout(function(){throw o})}function xa(o){return o==="head"}function fT(o,s){var c=s,m=0;do{var x=c.nextSibling;if(o.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(m===0){o.removeChild(x),Cs(s);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")du(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,du(c);for(var _=c.firstChild;_;){var N=_.nextSibling,I=_.nodeName;_[Ol]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=N}}else c==="body"&&du(o.ownerDocument.body);c=x}while(c);Cs(s)}function hT(o,s){var c=o;o=0;do{var m=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=m}while(c)}function Jg(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Jg(c),tp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function qU(o,s,c,m){for(;o.nodeType===1;){var x=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[Ol])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=mr(o.nextSibling),o===null)break}return null}function $U(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=mr(o.nextSibling),o===null))return null;return o}function mT(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=mr(o.nextSibling),o===null))return null;return o}function Xg(o){return o.data==="$?"||o.data==="$~"}function Qg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function HU(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var m=function(){s(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function mr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var Zg=null;function pT(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return mr(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function gT(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function vT(o,s,c){switch(s=Ld(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function du(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);tp(o)}var pr=new Map,yT=new Set;function Ud(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ai=te.d;te.d={f:GU,r:FU,D:VU,C:KU,L:WU,m:YU,X:XU,S:JU,M:QU};function GU(){var o=Ai.f(),s=Rd();return o||s}function FU(o){var s=Vo(o);s!==null&&s.tag===5&&s.type==="form"?DS(s):Ai.r(o)}var Es=typeof document>"u"?null:document;function bT(o,s,c){var m=Es;if(m&&typeof s=="string"&&s){var x=sr(s);x='link[rel="'+o+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),yT.has(x)||(yT.add(x),o={rel:o,crossOrigin:c,href:s},m.querySelector(x)===null&&(s=m.createElement("link"),fn(s,"link",o),Jt(s),m.head.appendChild(s)))}}function VU(o){Ai.D(o),bT("dns-prefetch",o,null)}function KU(o,s){Ai.C(o,s),bT("preconnect",o,s)}function WU(o,s,c){Ai.L(o,s,c);var m=Es;if(m&&o&&s){var x='link[rel="preload"][as="'+sr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+sr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+sr(c.imageSizes)+'"]')):x+='[href="'+sr(o)+'"]';var _=x;switch(s){case"style":_=Ts(o);break;case"script":_=As(o)}pr.has(_)||(o=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),pr.set(_,o),m.querySelector(x)!==null||s==="style"&&m.querySelector(fu(_))||s==="script"&&m.querySelector(hu(_))||(s=m.createElement("link"),fn(s,"link",o),Jt(s),m.head.appendChild(s)))}}function YU(o,s){Ai.m(o,s);var c=Es;if(c&&o){var m=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+sr(m)+'"][href="'+sr(o)+'"]',_=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=As(o)}if(!pr.has(_)&&(o=p({rel:"modulepreload",href:o},s),pr.set(_,o),c.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(hu(_)))return}m=c.createElement("link"),fn(m,"link",o),Jt(m),c.head.appendChild(m)}}}function JU(o,s,c){Ai.S(o,s,c);var m=Es;if(m&&o){var x=Ko(m).hoistableStyles,_=Ts(o);s=s||"default";var N=x.get(_);if(!N){var I={loading:0,preload:null};if(N=m.querySelector(fu(_)))I.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":s},c),(c=pr.get(_))&&ev(o,c);var j=N=m.createElement("link");Jt(j),fn(j,"link",o),j._p=new Promise(function(F,ee){j.onload=F,j.onerror=ee}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Bd(N,s,m)}N={type:"stylesheet",instance:N,count:1,state:I},x.set(_,N)}}}function XU(o,s){Ai.X(o,s);var c=Es;if(c&&o){var m=Ko(c).hoistableScripts,x=As(o),_=m.get(x);_||(_=c.querySelector(hu(x)),_||(o=p({src:o,async:!0},s),(s=pr.get(x))&&tv(o,s),_=c.createElement("script"),Jt(_),fn(_,"link",o),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(x,_))}}function QU(o,s){Ai.M(o,s);var c=Es;if(c&&o){var m=Ko(c).hoistableScripts,x=As(o),_=m.get(x);_||(_=c.querySelector(hu(x)),_||(o=p({src:o,async:!0,type:"module"},s),(s=pr.get(x))&&tv(o,s),_=c.createElement("script"),Jt(_),fn(_,"link",o),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(x,_))}}function xT(o,s,c,m){var x=(x=je.current)?Ud(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ts(c.href),c=Ko(x).hoistableStyles,m=c.get(s),m||(m={type:"style",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=Ts(c.href);var _=Ko(x).hoistableStyles,N=_.get(o);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,N),(_=x.querySelector(fu(o)))&&!_._p&&(N.instance=_,N.state.loading=5),pr.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},pr.set(o,c),_||ZU(x,o,c,N.state))),s&&m===null)throw Error(r(528,""));return N}if(s&&m!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=As(c),c=Ko(x).hoistableScripts,m=c.get(s),m||(m={type:"script",instance:null,count:0,state:null},c.set(s,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ts(o){return'href="'+sr(o)+'"'}function fu(o){return'link[rel="stylesheet"]['+o+"]"}function wT(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function ZU(o,s,c,m){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?m.loading=1:(s=o.createElement("link"),m.preload=s,s.addEventListener("load",function(){return m.loading|=1}),s.addEventListener("error",function(){return m.loading|=2}),fn(s,"link",c),Jt(s),o.head.appendChild(s))}function As(o){return'[src="'+sr(o)+'"]'}function hu(o){return"script[async]"+o}function _T(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var m=o.querySelector('style[data-href~="'+sr(c.href)+'"]');if(m)return s.instance=m,Jt(m),m;var x=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Jt(m),fn(m,"style",x),Bd(m,c.precedence,o),s.instance=m;case"stylesheet":x=Ts(c.href);var _=o.querySelector(fu(x));if(_)return s.state.loading|=4,s.instance=_,Jt(_),_;m=wT(c),(x=pr.get(x))&&ev(m,x),_=(o.ownerDocument||o).createElement("link"),Jt(_);var N=_;return N._p=new Promise(function(I,j){N.onload=I,N.onerror=j}),fn(_,"link",m),s.state.loading|=4,Bd(_,c.precedence,o),s.instance=_;case"script":return _=As(c.src),(x=o.querySelector(hu(_)))?(s.instance=x,Jt(x),x):(m=c,(x=pr.get(_))&&(m=p({},c),tv(m,x)),o=o.ownerDocument||o,x=o.createElement("script"),Jt(x),fn(x,"link",m),o.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(m=s.instance,s.state.loading|=4,Bd(m,c.precedence,o));return s.instance}function Bd(o,s,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,_=x,N=0;N<m.length;N++){var I=m[N];if(I.dataset.precedence===s)_=I;else if(_!==x)break}_?_.parentNode.insertBefore(o,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function ev(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function tv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var qd=null;function ST(o,s,c){if(qd===null){var m=new Map,x=qd=new Map;x.set(c,m)}else x=qd,m=x.get(c),m||(m=new Map,x.set(c,m));if(m.has(o))return m;for(m.set(o,null),c=c.getElementsByTagName(o),x=0;x<c.length;x++){var _=c[x];if(!(_[Ol]||_[ln]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=o+N;var I=m.get(N);I?I.push(_):m.set(N,[_])}}return m}function ET(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function e4(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TT(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function t4(o,s,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Ts(m.href),_=s.querySelector(fu(x));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=$d.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=_,Jt(_);return}_=s.ownerDocument||s,m=wT(m),(x=pr.get(x))&&ev(m,x),_=_.createElement("link"),Jt(_);var N=_;N._p=new Promise(function(I,j){N.onload=I,N.onerror=j}),fn(_,"link",m),c.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=$d.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var nv=0;function n4(o,s){return o.stylesheets&&o.count===0&&Gd(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var m=setTimeout(function(){if(o.stylesheets&&Gd(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4+s);0<o.imgBytes&&nv===0&&(nv=62500*jU());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Gd(o,o.stylesheets),o.unsuspend)){var _=o.unsuspend;o.unsuspend=null,_()}},(o.imgBytes>nv?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function $d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Hd=null;function Gd(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Hd=new Map,s.forEach(r4,o),Hd=null,$d.call(o))}function r4(o,s){if(!(s.state.loading&4)){var c=Hd.get(o);if(c)var m=c.get(null);else{c=new Map,Hd.set(o,c);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var N=x[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),m=N)}m&&c.set(null,m)}x=s.instance,N=x.getAttribute("data-precedence"),_=c.get(N)||m,_===m&&c.set(null,x),c.set(N,x),this.count++,m=$d.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),_?_.parentNode.insertBefore(x,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),s.state.loading|=4}}var mu={$$typeof:k,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function i4(o,s,c,m,x,_,N,I,j){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xm(0),this.hiddenUpdates=Xm(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function AT(o,s,c,m,x,_,N,I,j,F,ee,re){return o=new i4(o,s,c,N,j,F,ee,re,I),s=1,_===!0&&(s|=24),_=Wn(3,null,null,s),o.current=_,_.stateNode=o,s=Dp(),s.refCount++,o.pooledCache=s,s.refCount++,_.memoizedState={element:m,isDehydrated:c,cache:s},Up(_),o}function CT(o){return o?(o=rs,o):rs}function NT(o,s,c,m,x,_){x=CT(x),m.context===null?m.context=x:m.pendingContext=x,m=ua(s),m.payload={element:c},_=_===void 0?null:_,_!==null&&(m.callback=_),c=ca(o,m,s),c!==null&&(Bn(c,o,s),Vl(c,o,s))}function OT(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function rv(o,s){OT(o,s),(o=o.alternate)&&OT(o,s)}function RT(o){if(o.tag===13||o.tag===31){var s=Ka(o,67108864);s!==null&&Bn(s,o,67108864),rv(o,67108864)}}function kT(o){if(o.tag===13||o.tag===31){var s=Zn();s=Qm(s);var c=Ka(o,s);c!==null&&Bn(c,o,s),rv(o,s)}}var Fd=!0;function a4(o,s,c,m){var x=$.T;$.T=null;var _=te.p;try{te.p=2,iv(o,s,c,m)}finally{te.p=_,$.T=x}}function o4(o,s,c,m){var x=$.T;$.T=null;var _=te.p;try{te.p=8,iv(o,s,c,m)}finally{te.p=_,$.T=x}}function iv(o,s,c,m){if(Fd){var x=av(m);if(x===null)Gg(o,s,m,Vd,c),IT(o,m);else if(l4(x,o,s,c,m))m.stopPropagation();else if(IT(o,m),s&4&&-1<s4.indexOf(o)){for(;x!==null;){var _=Vo(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=$a(_.pendingLanes);if(N!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var j=1<<31-Vn(N);I.entanglements[1]|=j,N&=~j}Yr(_),(nt&6)===0&&(Nd=ut()+500,lu(0))}}break;case 31:case 13:I=Ka(_,2),I!==null&&Bn(I,_,2),Rd(),rv(_,2)}if(_=av(m),_===null&&Gg(o,s,m,Vd,c),_===x)break;x=_}x!==null&&m.stopPropagation()}else Gg(o,s,m,null,c)}}function av(o){return o=sp(o),ov(o)}var Vd=null;function ov(o){if(Vd=null,o=Fo(o),o!==null){var s=a(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=l(s),o!==null)return o;o=null}else if(c===31){if(o=u(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Vd=o,null}function PT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Fr:return 2;case yn:return 8;case Ho:case Kz:return 32;case $w:return 268435456;default:return 32}default:return 32}}var sv=!1,wa=null,_a=null,Sa=null,pu=new Map,gu=new Map,Ea=[],s4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IT(o,s){switch(o){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(s.pointerId)}}function vu(o,s,c,m,x,_){return o===null||o.nativeEvent!==_?(o={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[x]},s!==null&&(s=Vo(s),s!==null&&RT(s)),o):(o.eventSystemFlags|=m,s=o.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),o)}function l4(o,s,c,m,x){switch(s){case"focusin":return wa=vu(wa,o,s,c,m,x),!0;case"dragenter":return _a=vu(_a,o,s,c,m,x),!0;case"mouseover":return Sa=vu(Sa,o,s,c,m,x),!0;case"pointerover":var _=x.pointerId;return pu.set(_,vu(pu.get(_)||null,o,s,c,m,x)),!0;case"gotpointercapture":return _=x.pointerId,gu.set(_,vu(gu.get(_)||null,o,s,c,m,x)),!0}return!1}function MT(o){var s=Fo(o.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){o.blockedOn=s,Ww(o.priority,function(){kT(c)});return}}else if(s===31){if(s=u(c),s!==null){o.blockedOn=s,Ww(o.priority,function(){kT(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Kd(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=av(o.nativeEvent);if(c===null){c=o.nativeEvent;var m=new c.constructor(c.type,c);op=m,c.target.dispatchEvent(m),op=null}else return s=Vo(c),s!==null&&RT(s),o.blockedOn=c,!1;s.shift()}return!0}function DT(o,s,c){Kd(o)&&c.delete(s)}function u4(){sv=!1,wa!==null&&Kd(wa)&&(wa=null),_a!==null&&Kd(_a)&&(_a=null),Sa!==null&&Kd(Sa)&&(Sa=null),pu.forEach(DT),gu.forEach(DT)}function Wd(o,s){o.blockedOn===s&&(o.blockedOn=null,sv||(sv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,u4)))}var Yd=null;function jT(o){Yd!==o&&(Yd=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yd===o&&(Yd=null);for(var s=0;s<o.length;s+=3){var c=o[s],m=o[s+1],x=o[s+2];if(typeof m!="function"){if(ov(m||c)===null)continue;break}var _=Vo(c);_!==null&&(o.splice(s,3),s-=3,ag(_,{pending:!0,data:x,method:c.method,action:m},m,x))}}))}function Cs(o){function s(j){return Wd(j,o)}wa!==null&&Wd(wa,o),_a!==null&&Wd(_a,o),Sa!==null&&Wd(Sa,o),pu.forEach(s),gu.forEach(s);for(var c=0;c<Ea.length;c++){var m=Ea[c];m.blockedOn===o&&(m.blockedOn=null)}for(;0<Ea.length&&(c=Ea[0],c.blockedOn===null);)MT(c),c.blockedOn===null&&Ea.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var x=c[m],_=c[m+1],N=x[Mn]||null;if(typeof _=="function")N||jT(c);else if(N){var I=null;if(_&&_.hasAttribute("formAction")){if(x=_,N=_[Mn]||null)I=N.formAction;else if(ov(x)!==null)continue}else I=N.action;typeof I=="function"?c[m+1]=I:(c.splice(m,3),m-=3),jT(c)}}}function zT(){function o(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return x=N})},focusReset:"manual",scroll:"manual"})}function s(){x!==null&&(x(),x=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),x!==null&&(x(),x=null)}}}function lv(o){this._internalRoot=o}Jd.prototype.render=lv.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,m=Zn();NT(c,m,o,s,null,null)},Jd.prototype.unmount=lv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;NT(o.current,2,null,o,null,null),Rd(),s[Go]=null}};function Jd(o){this._internalRoot=o}Jd.prototype.unstable_scheduleHydration=function(o){if(o){var s=Kw();o={blockedOn:null,target:o,priority:s};for(var c=0;c<Ea.length&&s!==0&&s<Ea[c].priority;c++);Ea.splice(c,0,o),c===0&&MT(o)}};var LT=t.version;if(LT!=="19.2.4")throw Error(r(527,LT,"19.2.4"));te.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var c4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Al=Xd.inject(c4),Fn=Xd}catch{}}return bu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,m="",x=FS,_=VS,N=KS;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=AT(o,1,!1,null,null,c,m,null,x,_,N,zT),o[Go]=s.current,Hg(o),new lv(s)},bu.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var m=!1,x="",_=FS,N=VS,I=KS,j=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(j=c.formState)),s=AT(o,1,!0,s,c??null,m,x,j,_,N,I,zT),s.context=CT(null),c=s.current,m=Zn(),m=Qm(m),x=ua(m),x.callback=null,ca(c,x,m),c=m,s.current.lanes=c,Nl(s,c),Yr(s),o[Go]=s.current,Hg(o),new Jd(s)},bu.version="19.2.4",bu}var WT;function S4(){if(WT)return fv.exports;WT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fv.exports=_4(),fv.exports}var E4=S4();const T4=li(E4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=e=>{const t=C4(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},d)=>A.createElement("svg",{ref:d,...N4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:dP("lucide",i),...!a&&!O4(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,h])=>A.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(R4,{ref:a,iconNode:t,className:dP(`lucide-${A4(YT(e))}`,`lucide-${e}`,r),...i}));return n.displayName=YT(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fu=Re("activity",k4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I4=Re("arrow-left",P4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],D4=Re("arrow-right",M4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Uf=Re("bell",j4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],L4=Re("bot",z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mi=Re("calendar",U4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Hb=Re("camera",B4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$4=Re("check",q4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gb=Re("chevron-left",H4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gy=Re("chevron-right",G4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],V4=Re("circle-alert",F4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fh=Re("circle-check-big",K4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fb=Re("circle-check",W4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fP=Re("circle",Y4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dl=Re("clock",J4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JT=Re("copy",X4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],XT=Re("credit-card",Q4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],e3=Re("crown",Z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],n3=Re("dollar-sign",t3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],fl=Re("dumbbell",r3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],a3=Re("ellipsis-vertical",i3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Vb=Re("flame",o3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gv=Re("house",s3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],u3=Re("image",l3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hP=Re("loader-circle",c3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],f3=Re("log-out",d3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],m3=Re("menu",h3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],mP=Re("message-square",p3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],v3=Re("mic",g3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],b3=Re("pause",y3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],w3=Re("pen",x3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Bf=Re("play",_3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ys=Re("plus",S3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pP=Re("rotate-ccw",E3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kb=Re("save",T3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],C3=Re("scale",A3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Js=Re("search",N3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],R3=Re("send",O3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P3=Re("settings",k3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vv=Re("shield",I3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],D3=Re("square-pen",M3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],QT=Re("square",j3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],L3=Re("target",z3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ma=Re("trash-2",U3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vh=Re("trending-up",B3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Vu=Re("trophy",q3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ZT=Re("upload",$3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],G3=Re("user-plus",H3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bu=Re("user",F3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Di=Re("users",V3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],W3=Re("utensils",K3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ir=Re("x",Y3);var $t=(e=>(e.ATHLETE="ATHLETE",e.COACH="COACH",e.ADMIN="ADMIN",e))($t||{}),Oe=(e=>(e.DASHBOARD="dashboard",e.WORKOUTS="workouts",e.CHALLENGES="challenges",e.MEAL_SCAN="meal_scan",e.PROFILE="profile",e.STATS="stats",e.CHAT="chat",e.LEADERBOARD="leaderboard",e.ATHLETES="athletes",e.ALERTS="alerts",e.ASSIGNED_WORKOUTS="assigned_workouts",e.WORKOUT_HISTORY="workout_history",e.TIMER="timer",e))(Oe||{});const J3=({currentView:e,onChangeView:t,role:n,unreadChatCount:r=0,unreadAthletesCount:i=0})=>{const a=[{view:Oe.DASHBOARD,icon:gv,label:"Home"},{view:Oe.WORKOUTS,icon:Bf,label:"Workouts"},{view:Oe.MEAL_SCAN,icon:Hb,label:"Scan",isAction:!0},{view:Oe.TIMER,icon:dl,label:"Timer"},{view:Oe.PROFILE,icon:Bu,label:"Profile",badge:r}],l=[{view:Oe.DASHBOARD,icon:gv,label:"Dash"},{view:Oe.ATHLETES,icon:Di,label:"Athletes",badge:i},{view:Oe.CHAT,icon:mP,label:"Chat",isAction:!0},{view:Oe.LEADERBOARD,icon:Vu,label:"Ranking"},{view:Oe.PROFILE,icon:Bu,label:"Profile"}],u=[{view:Oe.DASHBOARD,icon:gv,label:"Dash"},{view:Oe.ATHLETES,icon:Di,label:"Athletes"},{view:Oe.LEADERBOARD,icon:Vu,label:"Ranking"},{view:Oe.PROFILE,icon:Bu,label:"Profile"}].map(f=>({...f,badge:void 0,isAction:!1})),d=n===$t.COACH?l:n===$t.ADMIN?u:a;return y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black/90 backdrop-blur-md border-t border-white/10 px-4 py-4 pb-6 z-50",children:y.jsx("div",{className:"flex justify-between items-center max-w-md mx-auto",children:d.map(f=>{const h=e===f.view,p=f.icon;return f.isAction?y.jsx("button",{onClick:()=>t(f.view),className:`flex items-center justify-center w-14 h-14 -mt-6 rounded-full transition-all shadow-lg shadow-lime-500/20 border-4 border-black ${h?"bg-lime-400 text-black scale-110":"bg-lime-400 text-black"}`,children:y.jsx(p,{size:24,strokeWidth:2.5})},f.view):y.jsxs("button",{onClick:()=>t(f.view),className:`flex flex-col items-center justify-center transition-colors px-2 relative ${h?"text-lime-400":"text-zinc-600 hover:text-zinc-400"}`,children:[y.jsx(p,{size:24,strokeWidth:h?2.5:2}),f.badge!==void 0&&f.badge>0&&y.jsx("span",{className:"absolute top-0 right-1 w-4 h-4 bg-red-500 text-white text-[8px] font-black rounded-full flex items-center justify-center border-2 border-black",children:f.badge}),y.jsx("span",{className:"text-[10px] mt-1 font-medium",children:f.label})]},f.view)})})})},gP=6048e5,X3=864e5,vP=6e4,yP=36e5,eA=Symbol.for("constructDateFrom");function ri(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&eA in e?e[eA](t):e instanceof Date?new e.constructor(t):new Date(t)}function Nn(e,t){return ri(t||e,e)}function yo(e,t,n){const r=Nn(e,n==null?void 0:n.in);return isNaN(t)?ri(e,NaN):(t&&r.setDate(r.getDate()+t),r)}let Q3={};function Kh(){return Q3}function Co(e,t){var u,d,f,h;const n=Kh(),r=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Nn(e,t==null?void 0:t.in),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function qf(e,t){return Co(e,{...t,weekStartsOn:1})}function bP(e,t){const n=Nn(e,t==null?void 0:t.in),r=n.getFullYear(),i=ri(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=qf(i),l=ri(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=qf(l);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function tA(e){const t=Nn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Wb(e,...t){const n=ri.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function nl(e,t){const n=Nn(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function xP(e,t,n){const[r,i]=Wb(n==null?void 0:n.in,e,t),a=nl(r),l=nl(i),u=+a-tA(a),d=+l-tA(l);return Math.round((u-d)/X3)}function Z3(e,t){const n=bP(e,t),r=ri(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),qf(r)}function eB(e,t,n){const[r,i]=Wb(n==null?void 0:n.in,e,t);return+nl(r)==+nl(i)}function tB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nB(e){return!(!tB(e)&&typeof e!="number"||isNaN(+Nn(e)))}function vy(e,t,n){const[r,i]=Wb(n==null?void 0:n.in,e,t),a=nA(r,i),l=Math.abs(xP(r,i));r.setDate(r.getDate()-a*l);const u=+(nA(r,i)===-a),d=a*(l-u);return d===0?0:d}function nA(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function rA(e,t){const n=Nn(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function rB(e,t){const n=Nn(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const iB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aB=(e,t,n)=>{let r;const i=iB[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function yv(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const oB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uB={date:yv({formats:oB,defaultWidth:"full"}),time:yv({formats:sB,defaultWidth:"full"}),dateTime:yv({formats:lB,defaultWidth:"full"})},cB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dB=(e,t,n,r)=>cB[e];function xu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;i=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const fB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yB=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bB={ordinalNumber:yB,era:xu({values:fB,defaultWidth:"wide"}),quarter:xu({values:hB,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xu({values:mB,defaultWidth:"wide"}),day:xu({values:pB,defaultWidth:"wide"}),dayPeriod:xu({values:gB,defaultWidth:"wide",formattingValues:vB,defaultFormattingWidth:"wide"})};function wu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?wB(u,p=>p.test(l)):xB(u,p=>p.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const h=t.slice(l.length);return{value:f,rest:h}}}function xB(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function wB(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _B(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(i.length);return{value:l,rest:u}}}const SB=/^(\d+)(th|st|nd|rd)?/i,EB=/\d+/i,TB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AB={any:[/^b/i,/^(a|c)/i]},CB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NB={any:[/1/i,/2/i,/3/i,/4/i]},OB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DB={ordinalNumber:_B({matchPattern:SB,parsePattern:EB,valueCallback:e=>parseInt(e,10)}),era:wu({matchPatterns:TB,defaultMatchWidth:"wide",parsePatterns:AB,defaultParseWidth:"any"}),quarter:wu({matchPatterns:CB,defaultMatchWidth:"wide",parsePatterns:NB,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wu({matchPatterns:OB,defaultMatchWidth:"wide",parsePatterns:RB,defaultParseWidth:"any"}),day:wu({matchPatterns:kB,defaultMatchWidth:"wide",parsePatterns:PB,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:IB,defaultMatchWidth:"any",parsePatterns:MB,defaultParseWidth:"any"})},jB={code:"en-US",formatDistance:aB,formatLong:uB,formatRelative:dB,localize:bB,match:DB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zB(e,t){const n=Nn(e,t==null?void 0:t.in);return xP(n,rB(n))+1}function LB(e,t){const n=Nn(e,t==null?void 0:t.in),r=+qf(n)-+Z3(n);return Math.round(r/gP)+1}function wP(e,t){var h,p,v,w;const n=Nn(e,t==null?void 0:t.in),r=n.getFullYear(),i=Kh(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(v=i.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,l=ri((t==null?void 0:t.in)||e,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const u=Co(l,t),d=ri((t==null?void 0:t.in)||e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const f=Co(d,t);return+n>=+u?r+1:+n>=+f?r:r-1}function UB(e,t){var u,d,f,h;const n=Kh(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=wP(e,t),a=ri((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Co(a,t)}function BB(e,t){const n=Nn(e,t==null?void 0:t.in),r=+Co(n,t)-+UB(n,t);return Math.round(r/gP)+1}function at(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Aa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return at(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):at(n+1,2)},d(e,t){return at(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return at(e.getHours()%12||12,t.length)},H(e,t){return at(e.getHours(),t.length)},m(e,t){return at(e.getMinutes(),t.length)},s(e,t){return at(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return at(i,t.length)}},Ns={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iA={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Aa.y(e,t)},Y:function(e,t,n,r){const i=wP(e,r),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return at(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):at(a,t.length)},R:function(e,t){const n=bP(e);return at(n,t.length)},u:function(e,t){const n=e.getFullYear();return at(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Aa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=BB(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):at(i,t.length)},I:function(e,t,n){const r=LB(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Aa.d(e,t)},D:function(e,t,n){const r=zB(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return at(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return at(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return at(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ns.noon:r===0?i=Ns.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ns.evening:r>=12?i=Ns.afternoon:r>=4?i=Ns.morning:i=Ns.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Aa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Aa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Aa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Aa.s(e,t)},S:function(e,t){return Aa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return oA(r);case"XXXX":case"XX":return uo(r);case"XXXXX":case"XXX":default:return uo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return oA(r);case"xxxx":case"xx":return uo(r);case"xxxxx":case"xxx":default:return uo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aA(r,":");case"OOOO":default:return"GMT"+uo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aA(r,":");case"zzzz":default:return"GMT"+uo(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return at(r,t.length)},T:function(e,t,n){return at(+e,t.length)}};function aA(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+at(a,2)}function oA(e,t){return e%60===0?(e>0?"-":"+")+at(Math.abs(e)/60,2):uo(e,t)}function uo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=at(Math.trunc(r/60),2),a=at(r%60,2);return n+i+t+a}const sA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_P=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qB=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return sA(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",sA(r,t)).replace("{{time}}",_P(i,t))},$B={p:_P,P:qB},HB=/^D+$/,GB=/^Y+$/,FB=["D","DD","YY","YYYY"];function VB(e){return HB.test(e)}function KB(e){return GB.test(e)}function WB(e,t,n){const r=YB(e,t,n);if(console.warn(r),FB.includes(e))throw new RangeError(r)}function YB(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QB=/^'([^]*?)'?$/,ZB=/''/g,eq=/[a-zA-Z]/;function Ye(e,t,n){var h,p,v,w;const r=Kh(),i=r.locale??jB,a=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=r.weekStartsOn??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,u=Nn(e,n==null?void 0:n.in);if(!nB(u))throw new RangeError("Invalid time value");let d=t.match(XB).map(E=>{const S=E[0];if(S==="p"||S==="P"){const T=$B[S];return T(E,i.formatLong)}return E}).join("").match(JB).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const S=E[0];if(S==="'")return{isToken:!1,value:tq(E)};if(iA[S])return{isToken:!0,value:E};if(S.match(eq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return d.map(E=>{if(!E.isToken)return E.value;const S=E.value;(KB(S)||VB(S))&&WB(S,t,String(e));const T=iA[S[0]];return T(u,S,i.localize,f)}).join("")}function tq(e){const t=e.match(QB);return t?t[1].replace(ZB,"'"):e}function lA(e,t,n){return yo(e,-1,n)}function qu(e,t){const n=()=>ri(t==null?void 0:t.in,NaN),i=aq(e);let a;if(i.date){const f=oq(i.date,2);a=sq(f.restDateString,f.year)}if(!a||isNaN(+a))return n();const l=+a;let u=0,d;if(i.time&&(u=lq(i.time),isNaN(u)))return n();if(i.timezone){if(d=uq(i.timezone),isNaN(d))return n()}else{const f=new Date(l+u),h=Nn(0,t==null?void 0:t.in);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}return Nn(l+u+d,t==null?void 0:t.in)}const Qd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nq=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,rq=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,iq=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aq(e){const t={},n=e.split(Qd.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Qd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qd.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Qd.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function oq(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function sq(e,t){if(t===null)return new Date(NaN);const n=e.match(nq);if(!n)return new Date(NaN);const r=!!n[4],i=_u(n[1]),a=_u(n[2])-1,l=_u(n[3]),u=_u(n[4]),d=_u(n[5])-1;if(r)return mq(t,u,d)?cq(t,u,d):new Date(NaN);{const f=new Date(0);return!fq(t,a,l)||!hq(t,i)?new Date(NaN):(f.setUTCFullYear(t,a,Math.max(i,l)),f)}}function _u(e){return e?parseInt(e):1}function lq(e){const t=e.match(rq);if(!t)return NaN;const n=bv(t[1]),r=bv(t[2]),i=bv(t[3]);return pq(n,r,i)?n*yP+r*vP+i*1e3:NaN}function bv(e){return e&&parseFloat(e.replace(",","."))||0}function uq(e){if(e==="Z")return 0;const t=e.match(iq);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return gq(r,i)?n*(r*yP+i*vP):NaN}function cq(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const dq=[31,null,31,30,31,30,31,31,30,31,30,31];function SP(e){return e%400===0||e%4===0&&e%100!==0}function fq(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(dq[t]||(SP(e)?29:28))}function hq(e,t){return t>=1&&t<=(SP(e)?366:365)}function mq(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function pq(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function gq(e,t){return t>=0&&t<=59}function Wh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vq(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{f(r.next(h))}catch(p){l(p)}}function d(h){try{f(r.throw(h))}catch(p){l(p)}}function f(h){h.done?a(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}const yq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Yb extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bq extends Yb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uA extends Yb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cA extends Yb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yy||(yy={}));class xq{constructor(t,{headers:n={},customFetch:r,region:i=yy.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=yq(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return vq(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:u,method:d,body:f,signal:h,timeout:p}=r;let v={},{region:w}=r;w||(w=this.region);const E=new URL(`${this.url}/${n}`);w&&w!=="any"&&(v["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let S;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(v["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(v["Content-Type"]="application/json",S=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?S=JSON.stringify(f):S=f;let T=h;p&&(l=new AbortController,a=setTimeout(()=>l.abort(),p),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const C=yield this.fetch(E.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:S,signal:T}).catch(D=>{throw new bq(D)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new uA(C);if(!C.ok)throw new cA(C);let k=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield C.json():k==="application/octet-stream"||k==="application/pdf"?P=yield C.blob():k==="text/event-stream"?P=C:k==="multipart/form-data"?P=yield C.formData():P=yield C.text(),{data:P,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof cA||u instanceof uA?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var wq=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_q=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,u=null,d=null,f=a.status,h=a.statusText;if(a.ok){var p,v;if(n.method!=="HEAD"){var w;const C=await a.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((w=n.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const S=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),T=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&T&&T.length>1&&(d=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var E;const S=await a.text();try{l=JSON.parse(S),Array.isArray(l)&&a.status===404&&(u=[],l=null,f=200,h="OK")}catch{a.status===404&&S===""?(f=204,h="No Content"):l={message:S}}if(l&&n.isMaybeSingle&&(!(l==null||(E=l.details)===null||E===void 0)&&E.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&n.shouldThrowOnError)throw new wq(l)}return{error:l,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(a=>{var l;let u="",d="",f="";const h=a==null?void 0:a.cause;if(h){var p,v,w,E;const C=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",R=(v=h==null?void 0:h.code)!==null&&v!==void 0?v:"";u=`${(w=a==null?void 0:a.name)!==null&&w!==void 0?w:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(E=h==null?void 0:h.name)!==null&&E!==void 0?E:"Error"}: ${C}`,R&&(u+=` (${R})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var S;u=(S=a==null?void 0:a.stack)!==null&&S!==void 0?S:""}const T=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(f="",d="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(f="",d="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(d+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:d,code:f},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Sq=class extends _q{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const dA=new RegExp("[,()]");var Us=class extends Sq{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&dA.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&dA.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Eq=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new Us({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new Us({method:i,url:a,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);u.searchParams.set("columns",h.join(","))}}return new Us({method:l,url:u,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Us({method:r,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Us({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Tq(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aq(e){var t=Tq(e,"string");return Ku(t)=="symbol"?t:t+""}function Cq(e,t,n){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){Cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Nq=class EP{constructor(t,{headers:n={},schema:r,fetch:i,timeout:a,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=l;const u=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(d,f)=>{const h=new AbortController,p=setTimeout(()=>h.abort(),a),v=f==null?void 0:f.signal;if(v){if(v.aborted)return clearTimeout(p),u(d,f);const w=()=>{clearTimeout(p),h.abort()};return v.addEventListener("abort",w,{once:!0}),u(d,Zd(Zd({},f),{},{signal:h.signal})).finally(()=>{clearTimeout(p),v.removeEventListener("abort",w)})}return u(d,Zd(Zd({},f),{},{signal:h.signal})).finally(()=>clearTimeout(p))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Eq(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new EP(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;const h=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(h)),p=r&&Object.values(n).some(h);p?(u="POST",f=n):r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{d.searchParams.append(w,E)})):(u="POST",f=n);const v=new Headers(this.headers);return p?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new Us({method:u,url:d,headers:v,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class Oq{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Rq="2.95.3",kq=`realtime-js/${Rq}`,Pq="1.0.0",TP="2.0.0",hA=TP,by=1e4,Iq=1e3,Mq=100;var Ca;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ca||(Ca={}));var Vt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Vt||(Vt={}));var Pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pr||(Pr={}));var xy;(function(e){e.websocket="websocket"})(xy||(xy={}));var go;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(go||(go={}));class Dq{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,a;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+p.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let E=new DataView(w),S=0;E.setUint8(S++,this.KINDS.userBroadcastPush),E.setUint8(S++,d.length),E.setUint8(S++,u.length),E.setUint8(S++,l.length),E.setUint8(S++,f.length),E.setUint8(S++,p.length),E.setUint8(S++,n),Array.from(d,C=>E.setUint8(S++,C.charCodeAt(0))),Array.from(u,C=>E.setUint8(S++,C.charCodeAt(0))),Array.from(l,C=>E.setUint8(S++,C.charCodeAt(0))),Array.from(f,C=>E.setUint8(S++,C.charCodeAt(0))),Array.from(p,C=>E.setUint8(S++,C.charCodeAt(0)));var T=new Uint8Array(w.byteLength+r.byteLength);return T.set(new Uint8Array(w),0),T.set(new Uint8Array(r),w.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,u,d]=r;return n({join_ref:i,ref:a,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+a));d=d+a;const p=r.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),w=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,E={type:this.BROADCAST_EVENT,event:h,payload:w};return l>0&&(E.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class AP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vt||(vt={}));const mA=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=jq(l,e,t,i),a),{}):{}},jq=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=n[e];return a&&!r.includes(a)?CP(a,l):wy(l)},CP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Bq(t,n)}switch(e){case vt.bool:return zq(t);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return Lq(t);case vt.json:case vt.jsonb:return Uq(t);case vt.timestamp:return qq(t);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return wy(t);default:return wy(t)}},wy=e=>e,zq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Uq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Bq=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>CP(t,u))}return e},qq=e=>typeof e=="string"?e.replace(" ","T"):e,NP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xv{constructor(t,n,r={},i=by){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pA||(pA={}));class $u{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$u.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=$u.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$u.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(a,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const p=a[f];if(p){const v=h.map(T=>T.presence_ref),w=p.map(T=>T.presence_ref),E=h.filter(T=>w.indexOf(T.presence_ref)<0),S=p.filter(T=>v.indexOf(T.presence_ref)<0);E.length>0&&(u[f]=E),S.length>0&&(d[f]=S)}else u[f]=h}),this.syncDiff(a,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const p=t[u].map(w=>w.presence_ref),v=h.filter(w=>p.indexOf(w.presence_ref)<0);t[u].unshift(...v)}r(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gA||(gA={}));var Hu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hu||(Hu={}));var Ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));class Gs{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new xv(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new AP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new $u(this),this.broadcastEndpointURL=NP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Vt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Hu.PRESENCE]&&this.bindings[Hu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(w=>t==null?void 0:t(Ci.CHANNEL_ERROR,w)),this._onClose(()=>t==null?void 0:t(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t==null||t(Ci.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,T=(E=S==null?void 0:S.length)!==null&&E!==void 0?E:0,C=[];for(let R=0;R<T;R++){const k=S[R],{filter:{event:P,schema:D,table:O,filter:M}}=k,B=w&&w[R];if(B&&B.event===P&&Gs.isFilterValueEqual(B.schema,D)&&Gs.isFilterValueEqual(B.table,O)&&Gs.isFilterValueEqual(B.filter,M))C.push(Object.assign(Object.assign({},k),{id:B.id}));else{this.unsubscribe(),this.state=Vt.errored,t==null||t(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Ci.SUBSCRIBED);return}}).receive("error",w=>{this.state=Vt.errored,t==null||t(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Vt.joined&&t===Hu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new xv(this,Pr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new xv(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mq){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=Pr;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(w=>{var E,S,T;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((T=(S=w.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(w=>w.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(w=>{var E,S,T,C,R,k;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const P=w.id,D=(E=w.filter)===null||E===void 0?void 0:E.event;return P&&((S=n.ids)===null||S===void 0?void 0:S.includes(P))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const P=(R=(C=w==null?void 0:w.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return P==="*"||P===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:S,table:T,commit_timestamp:C,type:R,errors:k}=E;v=Object.assign(Object.assign({},{schema:S,table:T,commit_timestamp:C,eventType:R,new:{},old:{},errors:k}),this._getPayloadRecords(E))}w.callback(v,r)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Gs.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pr.close,{},t)}_onError(t){this._on(Pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mA(t.columns,t.old_record)),n}}const wv=()=>{},ef={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$q=[1e3,2e3,5e3,1e4],Hq=1e4,Gq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fq{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=by,this.transport=null,this.heartbeatIntervalMs=ef.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wv,this.ref=0,this.reconnectTimer=null,this.vsn=hA,this.logger=wv,this.conn=null,this.sendBuffer=[],this.serializer=new Dq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${xy.websocket}`,this.httpEndpoint=NP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Oq.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ca.connecting:return go.Connecting;case Ca.open:return go.Open;case Ca.closing:return go.Closing;default:return go.Closed}}isConnected(){return this.connectionState()===go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Gs(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Iq,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ef.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ca.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ca.open||this.conn.readyState===Ca.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Gq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:kq};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new AP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ef.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,l,u,d,f,h,p,v,w;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:by,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ef.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:wv,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:hA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(E=>$q[E-1]||Hq),this.vsn){case Pq:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((E,S)=>S(JSON.stringify(E))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:((E,S)=>S(JSON.parse(E)));break;case TP:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Wu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Vq(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function Kq(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Wq(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const u=Vq(e.baseUrl,r,i),d=await Kq(e.auth),f=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),v=p&&h?JSON.parse(h):h;if(!f.ok){const w=p?v:void 0,E=w==null?void 0:w.error;throw new Wu((E==null?void 0:E.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:w})}return{status:f.status,headers:f.headers,data:v}}}}function tf(e){return e.join("")}var Yq=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:tf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tf(e.namespace)}`}),!0}catch(t){if(t instanceof Wu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Wu&&n.status===409)return;throw n}}};function Os(e){return e.join("")}var Jq=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Os(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Os(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Os(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Os(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Os(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Wu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Wu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Xq=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Wq({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Yq(this.client,t),this.tableOps=new Jq(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Yh=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Jh(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nf=class extends Yh{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},OP=class extends Yh{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Qq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_y=e=>{if(Array.isArray(e))return e.map(n=>_y(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=_y(r)}),t},e5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function t5(e,t){if(Yu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n5(e){var t=t5(e,"string");return Yu(t)=="symbol"?t:t+""}function r5(e,t,n){return(t=n5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){r5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const yA=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},i5=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";t(new nf(yA(l),a,u,r))}).catch(()=>{if(r==="vectors"){const l=a+"";t(new nf(i.statusText||`HTTP ${a} error`,a,l,r))}else{const l=a+"";t(new nf(i.statusText||`HTTP ${a} error`,a,l,r))}});else{const l=a+"";t(new nf(i.statusText||`HTTP ${a} error`,a,l,r))}}else t(new OP(yA(e),e,r))},a5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?De(De({},i),n):(Zq(r)?(i.headers=De({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),De(De({},i),n))};async function Su(e,t,n,r,i,a,l){return new Promise((u,d)=>{e(n,a5(t,r,i,a)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(l==="vectors"){const h=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!h||!h.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>i5(f,d,r,l))})}function RP(e="storage"){return{get:async(t,n,r,i)=>Su(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,a)=>Su(t,"POST",n,i,a,r,e),put:async(t,n,r,i,a)=>Su(t,"PUT",n,i,a,r,e),head:async(t,n,r,i)=>Su(t,"HEAD",n,De(De({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>Su(t,"DELETE",n,i,a,r,e)}}const o5=RP("storage"),{get:Ju,post:kr,put:Sy,head:s5,remove:Jb}=o5,tr=RP("vectors");var hl=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Qq(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Jh(n))return{data:null,error:n};throw n}}},l5=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Jh(t))return{data:null,error:t};throw t}}};let kP;kP=Symbol.toStringTag;var u5=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[kP]="BlobDownloadBuilder",this.promise=null}asStream(){return new l5(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Jh(t))return{data:null,error:t};throw t}}};const c5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var d5=class extends hl{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a;const l=De(De({},bA),r);let u=De(De({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=De(De({},u),r.headers));const f=i._removeEmptyFolders(t),h=i._getFinalPath(f),p=await(e=="PUT"?Sy:kr)(i.fetch,`${i.url}/object/${h}`,a,De({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:f,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),l=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let d;const f=De({upsert:bA.upsert},r),h=De(De({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{path:a,fullPath:(await Sy(i.fetch,u.toString(),d,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=De({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await kr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+a.url),u=l.searchParams.get("token");if(!u)throw new Yh("No token returned by API");return{signedUrl:l.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await kr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await kr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await kr(r.fetch,`${r.url}/object/sign/${i}`,De({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await kr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(l=>De(De({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),u=()=>Ju(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0},n);return new u5(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>_y(await Ju(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await s5(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Jh(r)&&r instanceof OP){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Jb(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=De(De(De({},c5),t),{},{prefix:e||""});return await kr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=De({},e);return await kr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const f5="2.95.3",vc={"X-Client-Info":`storage-js/${f5}`};var h5=class extends hl{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),l=De(De({},vc),t);super(a,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ju(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ju(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await kr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Sy(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await kr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Jb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},m5=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=De(De({},vc),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await kr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ju(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Jb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!e5(e))throw new Yh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Xq({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},p5=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=De(De({},vc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await tr.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await tr.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},g5=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=De(De({},vc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},v5=class extends hl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=De(De({},vc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await tr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},y5=class extends v5{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new b5(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},b5=class extends p5{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new x5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},x5=class extends g5{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,De(De({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},w5=class extends h5{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new d5(this.url,this.headers,e,this.fetch)}get vectors(){return new y5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new m5(this.url+"/iceberg",this.headers,this.fetch)}};const PP="2.95.3",Bs=30*1e3,Ey=3,_v=Ey*Bs,_5="http://localhost:9999",S5="supabase.auth.token",E5={"X-Client-Info":`gotrue-js/${PP}`},Ty="X-Supabase-Api-Version",IP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A5=600*1e3;class Xu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class C5 extends Xu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function N5(e){return Te(e)&&e.name==="AuthApiError"}class vo extends Xu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gi extends Xu{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class er extends Gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sv(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Rs extends Gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rf extends Gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class af extends Gi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O5(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class xA extends Gi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R5 extends Gi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ay extends Gi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ev(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class wA extends Gi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cy extends Gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_A=` 	
\r=`.split(""),k5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_A.length;t+=1)e[_A[t].charCodeAt(0)]=-2;for(let t=0;t<$f.length;t+=1)e[$f[t].charCodeAt(0)]=t;return e})();function SA(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n($f[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n($f[r]),t.queuedBits-=6}}function MP(e,t,n){const r=k5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function EA(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{M5(l,r,n)};for(let l=0;l<e.length;l+=1)MP(e.charCodeAt(l),i,a);return t.join("")}function P5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function I5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}P5(r,t)}}function M5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Xs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)MP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function D5(e){const t=[];return I5(e,n=>t.push(n)),new Uint8Array(t)}function bo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>SA(i,n,r)),SA(null,n,r),t.join("")}function j5(e){return Math.round(Date.now()/1e3)+e}function z5(){return Symbol("auth-callback")}const mn=()=>typeof window<"u"&&typeof document<"u",oo={tested:!1,writable:!1},DP=()=>{if(!mn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oo.tested)return oo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oo.tested=!0,oo.writable=!0}catch{oo.tested=!0,oo.writable=!1}return oo.writable};function L5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const jP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},so=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hn=async(e,t)=>{await e.removeItem(t)};class Xh{constructor(){this.promise=new Xh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xh.promiseConstructor=Promise;function of(e){const t=e.split(".");if(t.length!==3)throw new Cy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!T5.test(t[r]))throw new Cy("JWT not in base64url format");return{header:JSON.parse(EA(t[0])),payload:JSON.parse(EA(t[1])),signature:Xs(t[2]),raw:{header:t[0],payload:t[1]}}}async function B5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q5(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function $5(e){return("0"+e.toString(16)).substr(-2)}function H5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,$5).join("")}async function G5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function F5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await G5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ks(e,t,n=!1){const r=H5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await qs(e,`${t}-code-verifier`,i);const a=await F5(r);return[a,r===a?"plain":"s256"]}const V5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K5(e){const t=e.headers.get(Ty);if(!t||!t.match(V5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Y5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(e){if(!J5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X5(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function TA(e){return JSON.parse(JSON.stringify(e))}const co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q5=[502,503,504];async function AA(e){var t;if(!U5(e))throw new Ay(co(e),0);if(Q5.includes(e.status))throw new Ay(co(e),e.status);let n;try{n=await e.json()}catch(a){throw new vo(co(a),a)}let r;const i=K5(e);if(i&&i.getTime()>=IP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new wA(co(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new er}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new wA(co(n),e.status,n.weak_password.reasons);throw new C5(co(n),e.status||500,r)}const Z5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Pe(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Ty]||(a[Ty]=IP["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await e$(e,t,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function e$(e,t,n,r,i,a){const l=Z5(t,r,i,a);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Ay(co(d),0)}if(u.ok||await AA(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await AA(d)}}function Rr(e){var t;let n=null;r$(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=j5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function CA(e){const t=Rr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ra(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function t$(e){return{data:e,error:null}}function n$(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,l=Wh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function NA(e){return e}function r$(e){return e.access_token&&e.refresh_token&&e.expires_in}const Av=["global","local","others"];class i${constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=jP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Av[0]){if(Av.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Av.join(", ")}`);try{return await Pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ra})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Wh(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:n$,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ra})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:NA});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);f[`${T}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Te(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ps(t);try{return await Pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ra})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ps(t);try{return await Pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ra})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ps(t);try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ra})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ps(t.userId);try{const{data:n,error:r}=await Pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ps(t.userId),Ps(t.id);try{return{data:await Pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:NA});if(h.error)throw h.error;const p=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const S=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(E.split(";")[1].split("=")[1]);f[`${T}Page`]=S}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function OA(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Is={debug:!!(globalThis&&DP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a$ extends zP{}async function o$(e,t,n){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Is.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function s$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function LP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function l$(e){return parseInt(e,16)}function u$(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function c$(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:p,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=LP(e.address),E=h?`${h}://${r}`:r,S=e.statement?`${e.statement}
`:"",T=`${E} wants you to sign in with your Ethereum account:
${w}

${S}`;let C=`URI: ${p}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let R=`
Resources:`;for(const k of f){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);R+=`
- ${k}`}C+=R}return`${T}
${C}`}class qt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Hf extends qt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function d$({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(UP(l)){if(a.rp.id!==l)return new qt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function f$({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(UP(r)){if(n.rpId!==r)return new qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class h${createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m$=new h$;function p$(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Wh(e,["challenge","user","excludeCredentials"]),a=Xs(t).buffer,l=Object.assign(Object.assign({},n),{id:Xs(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Xs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function g$(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Wh(e,["challenge","allowCredentials"]),i=Xs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Xs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function v$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:bo(new Uint8Array(e.response.attestationObject)),clientDataJSON:bo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function y$(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bo(new Uint8Array(i.authenticatorData)),clientDataJSON:bo(new Uint8Array(i.clientDataJSON)),signature:bo(new Uint8Array(i.signature)),userHandle:i.userHandle?bo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function UP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function RA(){var e,t;return!!(mn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function b$(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hf("Browser returned unexpected credential type",t)}:{data:null,error:new Hf("Empty credential response",t)}}catch(t){return{data:null,error:d$({error:t,options:e})}}}async function x$(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hf("Browser returned unexpected credential type",t)}:{data:null,error:new Hf("Empty credential response",t)}}catch(t){return{data:null,error:f$({error:t,options:e})}}}const w$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const u=r[a];t(u)?r[a]=Gf(u,l):r[a]=Gf(l)}else r[a]=l}return r}function S$(e,t){return Gf(w$,e,t||{})}function E$(e,t){return Gf(_$,e,t||{})}class T${constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const f=i??m$.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const p=r;if(p)h.name=`${h.id}:${p}`;else{const w=(await this.client.getUser()).data.user,E=((l=w==null?void 0:w.user_metadata)===null||l===void 0?void 0:l.name)||(w==null?void 0:w.email)||(w==null?void 0:w.id)||"User";h.name=`${h.id}:${E}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=S$(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:v}=await b$({publicKey:h,signal:f});return p?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const h=E$(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:v}=await x$(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new vo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Xu("rpId is required for WebAuthn authentication")};try{if(!RA())return{data:null,error:new vo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new vo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Xu("rpId is required for WebAuthn registration")};try{if(!RA())return{data:null,error:new vo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Te(l)?{data:null,error:l}:{data:null,error:new vo("Unexpected error in register",l)}}}}s$();const A$={url:_5,storageKey:S5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function kA(e,t,n){return await n()}const Ms={};class Qu{get jwks(){var t,n;return(n=(t=Ms[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ms[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},A$),t);if(this.storageKey=a.storageKey,this.instanceID=(n=Qu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Qu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&mn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new i$({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=jP(a.fetch),this.lock=a.lock||kA,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&mn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=o$:this.lock=kA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:DP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=OA(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=OA(this.memoryStorage)),mn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PP}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(mn()&&(n=L5(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),mn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),O5(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?this._returnResult({error:n}):this._returnResult({error:new vo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Rr}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:p,options:v}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await ks(this.storage,this.storageKey)),a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:w,code_challenge_method:E},xform:Rr})}else if("phone"in t){const{phone:h,password:p,options:v}=t;a=await Pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Rr})}else throw new rf("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await hn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:CA})}else if("phone"in t){const{phone:a,password:l,options:u}=t;n=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:CA})}else throw new rf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Rs;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,l,u,d,f,h,p,v;let w,E;if("message"in t)w=t.message,E=t.signature;else{const{chain:S,wallet:T,statement:C,options:R}=t;let k;if(mn())if(typeof T=="object")k=T;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")k=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=T}const P=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href),D=await k.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=LP(D[0]);let M=(r=R==null?void 0:R.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const L=await k.request({method:"eth_chainId"});M=l$(L)}const B={domain:P.host,address:O,statement:C,uri:P.href,version:"1",chainId:M,nonce:(i=R==null?void 0:R.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=R==null?void 0:R.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=R==null?void 0:R.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=R==null?void 0:R.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=R==null?void 0:R.signInWithEthereum)===null||h===void 0?void 0:h.resources};w=c$(B),E=await k.request({method:"personal_sign",params:[u$(w),O]})}try{const{data:S,error:T}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Rr});if(T)throw T;if(!S||!S.session||!S.user){const C=new Rs;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(Te(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,r,i,a,l,u,d,f,h,p,v,w;let E,S;if("message"in t)E=t.message,S=t.signature;else{const{chain:T,wallet:C,statement:R,options:k}=t;let P;if(mn())if(typeof C=="object")P=C;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))P=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=C}const D=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const O=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),R?{statement:R}:null));let M;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")M=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)M=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)E=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),S=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${D.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const O=await P.signMessage(new TextEncoder().encode(E),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=O}}try{const{data:T,error:C}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:bo(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Rr});if(C)throw C;if(!T||!T.session||!T.user){const R=new Rs;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(Te(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await so(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new R5;const{data:a,error:l}=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Rr});if(await hn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new Rs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=t,u=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new Rs;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ks(this.storage,this.storageKey));const{error:p}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await Pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new rf("You must provide either an email or phone number.")}catch(u){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Rr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ks(this.storage,this.storageKey));const f=await Pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:t$});return!((a=f.data)===null||a===void 0)&&a.url&&mn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new er;const{error:i}=await Pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:u}=await Pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new rf("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_v:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await so(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Tv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=X5(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ra}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await Pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ra})})}catch(n){if(Te(n))return Sv(n)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new er;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await ks(this.storage,this.storageKey));const{data:f,error:h}=await Pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ra});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new er;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=of(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new er;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!mn())throw new af("No browser detected.");if(t.error||t.error_description||t.error_code)throw new af(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new af("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xA("No code detected.");const{data:R,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!a||!u||!l||!f)throw new af("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let v=h+p;d&&(v=parseInt(d));const w=v-h;w*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const E=v-p;h-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,h):h-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,h);const{data:S,error:T}=await this._getUser(a);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:v,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!Sv(a))return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(N5(u)&&(u.status===404||u.status===401||u.status===403)||Sv(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=z5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ks(this.storage,this.storageKey,!0));try{return await Pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,d,f,h;const{data:p,error:v}=a;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Pe(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return mn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Te(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,p=await Pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rr}),{data:v,error:w}=p;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Rs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(i){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q5(async i=>(i>0&&await B5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rr})),(i,a)=>{const l=200*Math.pow(2,i);return a&&Ev(a)&&Date.now()+l-r<Bs})}catch(r){if(this._debug(n,"error",r),Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),mn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await so(this.storage,this.storageKey);if(i&&this.userStorage){let l=await so(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await qs(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Tv()}else if(i&&!i.user&&!i.user){const l=await so(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await hn(this.storage,this.storageKey+"-user"),await qs(this.storage,this.storageKey,i)):i.user=Tv()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_v;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${_v}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Ev(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xh;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new er;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Te(a)){const l={data:null,error:a};return Ev(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await qs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=TA(i);await qs(this.storage,this.storageKey,a)}else{const i=TA(n);await qs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bs}ms, refresh threshold is ${Ey} ticks`),i<=Ey&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await ks(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Pe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?v$(t.webauthn.credential_response):y$(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,a;if(t)try{const{payload:w}=of(t);let E=null;w.aal&&(E=w.aal);let S=E;const{data:{user:T},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((r=(n=T==null?void 0:T.factors)===null||n===void 0?void 0:n.filter(P=>P.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(S="aal2");const k=w.amr||[];return{data:{currentLevel:E,nextLevel:S,currentAuthenticationMethods:k},error:null}}catch(w){if(Te(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=of(l.access_token);let f=null;d.aal&&(f=d.aal);let h=f;((a=(i=l.user.factors)===null||i===void 0?void 0:i.filter(w=>w.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new er})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new er});const l=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&mn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new er});const l=await Pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&mn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new er})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new er})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+A5>i)return r;const{data:a,error:l}=await Pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});r=w.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:d}}=of(r);n!=null&&n.allowExpired||W5(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:a,header:i,signature:l},error:null}}const h=Y5(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,l,D5(`${u}.${d}`)))throw new Cy("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}}Qu.nextInstanceID={};const C$=Qu,N$="2.95.3";let Du="";typeof Deno<"u"?Du="deno":typeof document<"u"?Du="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Du="react-native":Du="node";const O$={"X-Client-Info":`supabase-js-${Du}/${N$}`},R$={headers:O$},k$={schema:"public"},P$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I$={};function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function M$(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D$(e){var t=M$(e,"string");return Zu(t)=="symbol"?t:t+""}function j$(e,t,n){return(t=D$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){j$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const z$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),L$=()=>Headers,U$=(e,t,n)=>{const r=z$(n),i=L$();return async(a,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,Rt(Rt({},l),{},{headers:f}))}};function B$(e){return e.endsWith("/")?e:e+"/"}function q$(e,t){var n,r;const{db:i,auth:a,realtime:l,global:u}=e,{db:d,auth:f,realtime:h,global:p}=t,v={db:Rt(Rt({},d),i),auth:Rt(Rt({},f),a),realtime:Rt(Rt({},h),l),storage:{},global:Rt(Rt(Rt({},p),u),{},{headers:Rt(Rt({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function $$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var H$=class extends C${constructor(e){super(e)}},G$=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=$$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:k$,realtime:I$,auth:Rt(Rt({},P$),{},{storageKey:l}),global:R$},d=q$(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=U$(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Nq(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new w5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new xq(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:l,lock:u,debug:d,throwOnError:f},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H$({url:this.authUrl.href,headers:Rt(Rt({},v),h),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Fq(this.realtimeUrl.href,Rt(Rt({},e),{},{params:Rt(Rt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const F$=(e,t,n)=>new G$(e,t,n);function V$(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}V$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BP="https://sckpjraryzcbfbkicpjb.supabase.co",K$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNja3BqcmFyeXpjYmZia2ljcGpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5MTcyNzEsImV4cCI6MjA4NjQ5MzI3MX0.xVUcoc-eXdkD55QTuZJ3tBK7a1Bb5Ywk9UM9YC2z0Us";console.log(" Supabase client initialized with URL:",BP);const de=F$(BP,K$),W$=async(e,t,n)=>{const{data:r,error:i}=await de.from("workouts").select(`
            *,
            exercises:workout_exercises(*)
        `).eq("athlete_id",e).gte("date",t).lte("date",n);return{data:r,error:i}},Cv=async(e,t,n)=>{const{data:r}=await de.from("workouts").select("id").eq("athlete_id",e).eq("date",t).single();let i;if(r)i=r.id;else{const{data:d,error:f}=await de.from("workouts").insert({athlete_id:e,date:t}).select().single();if(f)return{error:f};i=d.id}await de.from("workout_exercises").delete().eq("workout_id",i);const a=n.map(d=>({workout_id:i,exercise_name:d.exerciseName,sets:d.sets,reps:d.reps,weight:d.weight,completed:d.completed})),{data:l,error:u}=await de.from("workout_exercises").insert(a);return{data:l,error:u}},Y$=async(e,t)=>{const{data:n,error:r}=await de.from("workout_exercises").update({completed:t}).eq("id",e);return{data:n,error:r}},J$=async(e,t,n)=>{const{data:r,error:i}=await de.from("personal_records").select("*").eq("athlete_id",e).eq("exercise_name",t).maybeSingle();if(i)return console.error("Error fetching PR:",i),{isNewPR:!1};if(!r||n>(r.max_weight||0)){const{error:a}=await de.from("personal_records").upsert({athlete_id:e,exercise_name:t,max_weight:n,date_achieved:new Date().toISOString()},{onConflict:"id"});return r?await de.from("personal_records").update({max_weight:n,date_achieved:new Date}).eq("id",r.id):await de.from("personal_records").insert({athlete_id:e,exercise_name:t,max_weight:n}),{isNewPR:!0,oldWeight:(r==null?void 0:r.max_weight)||0}}return{isNewPR:!1}},qP=async e=>{const{data:t}=await de.from("personal_records").select("*").eq("athlete_id",e).order("max_weight",{ascending:!1});return{data:t}},X$=async e=>await de.from("workout_templates").select("*").eq("coach_id",e),Q$=async()=>await de.from("subscriptions").select("*").order("created_at",{ascending:!1}),Z$=async()=>{const{data:e,error:t}=await de.from("profiles").select("*").eq("role","ATHLETE").order("name",{ascending:!0});return{data:e,error:t}},e8=({startDate:e,endDate:t})=>{if(!e||!t)return y.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-6 rounded-3xl shadow-xl",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4 text-zinc-500",children:[y.jsx(XT,{size:20}),y.jsx("h3",{className:"font-bold text-lg",children:"Membership Status"})]}),y.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-2xl border border-dashed border-zinc-700 text-center",children:[y.jsx("p",{className:"text-zinc-400 text-sm italic",children:"No active membership found."}),y.jsx("button",{className:"mt-3 bg-lime-400 text-black text-xs font-bold px-4 py-2 rounded-xl hover:brightness-110 transition-all",children:"Renew Now"})]})]});const n=qu(e),r=qu(t),a=vy(r,new Date),l=a<0,u=a<=7&&!l,d=!l&&!u,f=l?"EXPIRED":u?"EXPIRING SOON":"ACTIVE";return y.jsxs("div",{className:`bg-zinc-900 border ${u?"border-yellow-500/50 shadow-yellow-500/10":l?"border-red-500/50 grayscale":"border-lime-500/50"} p-6 rounded-3xl shadow-xl relative overflow-hidden group transition-all`,children:[y.jsx("div",{className:`absolute -top-10 -right-10 w-32 h-32 rounded-full blur-3xl opacity-10 transition-colors ${u?"bg-yellow-500":l?"bg-red-500":"bg-lime-400"}`}),y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:`p-2 rounded-xl ${u?"bg-yellow-500/10 text-yellow-500":l?"bg-red-500/10 text-red-500":"bg-lime-400/10 text-lime-400"}`,children:y.jsx(XT,{size:20})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white text-lg leading-tight",children:"Gym Member"}),y.jsx("p",{className:`text-[10px] font-bold uppercase tracking-widest ${u?"text-yellow-500":l?"text-red-500":"text-lime-400"}`,children:"Premium Plan"})]})]}),y.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-lg border ${u?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20 animate-pulse":l?"bg-red-500/10 text-red-500 border-red-500/20":"bg-lime-400/10 text-lime-400 border-lime-400/20"}`,children:f})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase tracking-tight",children:"Started"}),y.jsxs("p",{className:`text-sm font-medium flex items-center ${d?"text-white":"text-zinc-400"}`,children:[y.jsx(Mi,{size:12,className:"mr-1.5 text-zinc-500"}),Ye(n,"MMM d, yyyy")]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase tracking-tight",children:"Ends"}),y.jsxs("p",{className:`text-sm font-medium flex items-center ${u?"text-yellow-500":l?"text-red-500":"text-lime-400"}`,children:[y.jsx(Mi,{size:12,className:"mr-1.5 text-zinc-500"}),Ye(r,"MMM d, yyyy")]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("p",{className:"text-zinc-400 text-xs font-medium",children:"Time Remaining"}),y.jsxs("p",{className:`text-2xl font-black ${u?"text-yellow-500":l?"text-red-500":"text-white"}`,children:[Math.max(0,a)," ",y.jsx("span",{className:"text-xs font-bold text-zinc-500 uppercase",children:"Days"})]})]}),y.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${u?"bg-yellow-500":l?"bg-red-500":"bg-lime-400"}`,style:{width:`${Math.max(0,Math.min(100,a/30*100))}%`}})}),u&&y.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-yellow-500 bg-yellow-500/5 p-3 rounded-2xl border border-yellow-500/10",children:[y.jsx(V4,{size:16}),y.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Expiring soon! Please renew."})]}),d&&y.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-lime-400 bg-lime-400/5 p-3 rounded-2xl border border-lime-400/10",children:[y.jsx(Fb,{size:16}),y.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Active membership. Keep training!"})]})]})]})};function $P(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$P(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$P(e))&&(r&&(r+=" "),r+=t);return r}var t8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Xb(e){if(typeof e!="string")return!1;var t=t8;return t.includes(e)}var n8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r8=new Set(n8);function HP(e){return typeof e!="string"?!1:r8.has(e)}function GP(e){return typeof e=="string"&&e.startsWith("data-")}function Br(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(HP(n)||GP(n))&&(t[n]=e[n]);return t}function yc(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Br(t)}return typeof e=="object"&&!Array.isArray(e)?Br(e):null}function On(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(HP(n)||GP(n)||Xb(n))&&(t[n]=e[n]);return t}function i8(e){return e==null?null:A.isValidElement(e)?On(e.props):typeof e=="object"&&!Array.isArray(e)?On(e):null}var a8=["children","width","height","viewBox","className","style","title","desc"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function o8(e,t){if(e==null)return{};var n,r,i=s8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FP=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:d,desc:f}=e,h=o8(e,a8),p=a||{width:r,height:i,x:0,y:0},v=mt("recharts-surface",l);return A.createElement("svg",Ny({},On(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),A.createElement("title",null,d),A.createElement("desc",null,f),n)}),l8=["children","className"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function u8(e,t){if(e==null)return{};var n,r,i=c8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wr=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=u8(e,l8),a=mt("recharts-layer",r);return A.createElement("g",Oy({className:a},On(i),{ref:t}),n)}),VP=cP(),d8=A.createContext(null);function yt(e){return function(){return e}}const KP=Math.cos,Ff=Math.sin,Hr=Math.sqrt,Vf=Math.PI,Qh=2*Vf,Ry=Math.PI,ky=2*Ry,fo=1e-6,f8=ky-fo;function WP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function h8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WP;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class m8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WP:h8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,p=u-n,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>fo)if(!(Math.abs(p*d-f*h)>fo)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-l,E=i-u,S=d*d+f*f,T=w*w+E*E,C=Math.sqrt(S),R=Math.sqrt(v),k=a*Math.tan((Ry-Math.acos((S+v-T)/(2*C*R)))/2),P=k/R,D=k/C;Math.abs(P-1)>fo&&this._append`L${t+P*h},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*w>h*E)},${this._x1=t+D*d},${this._y1=n+D*f}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,p=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>fo||Math.abs(this._y1-h)>fo)&&this._append`L${f},${h}`,r&&(v<0&&(v=v%ky+ky),v>f8?this._append`A${r},${r},0,1,${p},${t-u},${n-d}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:v>fo&&this._append`A${r},${r},0,${+(v>=Ry)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Qb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new m8(t)}function Zb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YP(e){this._context=e}YP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zh(e){return new YP(e)}function JP(e){return e[0]}function XP(e){return e[1]}function QP(e,t){var n=yt(!0),r=null,i=Zh,a=null,l=Qb(u);e=typeof e=="function"?e:e===void 0?JP:yt(e),t=typeof t=="function"?t:t===void 0?XP:yt(t);function u(d){var f,h=(d=Zb(d)).length,p,v=!1,w;for(r==null&&(a=i(w=l())),f=0;f<=h;++f)!(f<h&&n(p=d[f],f,d))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(p,f,d),+t(p,f,d));if(w)return a=null,w+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:yt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:yt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:yt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),u):r},u}function sf(e,t,n){var r=null,i=yt(!0),a=null,l=Zh,u=null,d=Qb(f);e=typeof e=="function"?e:e===void 0?JP:yt(+e),t=typeof t=="function"?t:yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?XP:yt(+n);function f(p){var v,w,E,S=(p=Zb(p)).length,T,C=!1,R,k=new Array(S),P=new Array(S);for(a==null&&(u=l(R=d())),v=0;v<=S;++v){if(!(v<S&&i(T=p[v],v,p))===C)if(C=!C)w=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=v-1;E>=w;--E)u.point(k[E],P[E]);u.lineEnd(),u.areaEnd()}C&&(k[v]=+e(T,v,p),P[v]=+t(T,v,p),u.point(r?+r(T,v,p):k[v],n?+n(T,v,p):P[v]))}if(R)return u=null,R+""||null}function h(){return QP().defined(i).curve(l).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:yt(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:yt(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:yt(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:yt(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:yt(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:yt(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:yt(!!p),f):i},f.curve=function(p){return arguments.length?(l=p,a!=null&&(u=l(a)),f):l},f.context=function(p){return arguments.length?(p==null?a=u=null:u=l(a=p),f):a},f}class ZP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function p8(e){return new ZP(e,!0)}function g8(e){return new ZP(e,!1)}const ex={draw(e,t){const n=Hr(t/Vf);e.moveTo(n,0),e.arc(0,0,n,0,Qh)}},v8={draw(e,t){const n=Hr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},eI=Hr(1/3),y8=eI*2,b8={draw(e,t){const n=Hr(t/y8),r=n*eI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},x8={draw(e,t){const n=Hr(t),r=-n/2;e.rect(r,r,n,n)}},w8=.8908130915292852,tI=Ff(Vf/10)/Ff(7*Vf/10),_8=Ff(Qh/10)*tI,S8=-KP(Qh/10)*tI,E8={draw(e,t){const n=Hr(t*w8),r=_8*n,i=S8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=Qh*a/5,u=KP(l),d=Ff(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Nv=Hr(3),T8={draw(e,t){const n=-Hr(t/(Nv*3));e.moveTo(0,n*2),e.lineTo(-Nv*n,-n),e.lineTo(Nv*n,-n),e.closePath()}},gr=-.5,vr=Hr(3)/2,Py=1/Hr(12),A8=(Py/2+1)*3,C8={draw(e,t){const n=Hr(t/A8),r=n/2,i=n*Py,a=r,l=n*Py+n,u=-a,d=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,d),e.lineTo(gr*r-vr*i,vr*r+gr*i),e.lineTo(gr*a-vr*l,vr*a+gr*l),e.lineTo(gr*u-vr*d,vr*u+gr*d),e.lineTo(gr*r+vr*i,gr*i-vr*r),e.lineTo(gr*a+vr*l,gr*l-vr*a),e.lineTo(gr*u+vr*d,gr*d-vr*u),e.closePath()}};function N8(e,t){let n=null,r=Qb(i);e=typeof e=="function"?e:yt(e||ex),t=typeof t=="function"?t:yt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:yt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:yt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Kf(){}function Wf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function nI(e){this._context=e}nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O8(e){return new nI(e)}function rI(e){this._context=e}rI.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R8(e){return new rI(e)}function iI(e){this._context=e}iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k8(e){return new iI(e)}function aI(e){this._context=e}aI.prototype={areaStart:Kf,areaEnd:Kf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P8(e){return new aI(e)}function IA(e){return e<0?-1:1}function MA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(IA(a)+IA(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function DA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ov(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function Yf(e){this._context=e}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ov(this,this._t0,DA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ov(this,DA(this,n=MA(this,e,t)),n);break;default:Ov(this,this._t0,n=MA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function oI(e){this._context=new sI(e)}(oI.prototype=Object.create(Yf.prototype)).point=function(e,t){Yf.prototype.point.call(this,t,e)};function sI(e){this._context=e}sI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function I8(e){return new Yf(e)}function M8(e){return new oI(e)}function lI(e){this._context=e}lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=jA(e),i=jA(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jA(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function D8(e){return new lI(e)}function em(e,t){this._context=e,this._t=t}em.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function j8(e){return new em(e,.5)}function z8(e){return new em(e,0)}function L8(e){return new em(e,1)}function No(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Iy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function U8(e,t){return e[t]}function B8(e){const t=[];return t.key=e,t}function q8(){var e=yt([]),t=Iy,n=No,r=U8;function i(a){var l=Array.from(e.apply(this,arguments),B8),u,d=l.length,f=-1,h;for(const p of a)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(p,l[u].key,f,a)]).data=p;for(u=0,h=Zb(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:yt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:yt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Iy:typeof a=="function"?a:yt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??No,i):n},i}function $8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}No(e,t)}}function H8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}No(e,t)}}function G8(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],p=h[r][1]||0,v=h[r-1][1]||0,w=(p-v)/2,E=0;E<u;++E){var S=e[t[E]],T=S[r][1]||0,C=S[r-1][1]||0;w+=T-C}d+=p,f+=w*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,No(e,t)}}var Rv={},kv={},zA;function F8(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(kv)),kv}var Pv={},LA;function uI(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Pv)),Pv}var Iv={},UA;function tx(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Iv)),Iv}var Mv={},Dv={},BA;function V8(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Dv)),Dv}var qA;function nx(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V8(),n=tx();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const p=i[u];f?p==="\\"&&u+1<l?(u++,d+=i[u]):p===f?f="":d+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(d),d=""):d+=p:p==="["?(h=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,u++}return d&&a.push(d),a}e.toPath=r})(Mv)),Mv}var $A;function rx(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F8(),n=uI(),r=tx(),i=nx();function a(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?a(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let p=0;p<d.length;p++){if(h==null||t.isUnsafeProperty(d[p]))return f;h=h[d[p]]}return h===void 0?f:h}e.get=a})(Rv)),Rv}var jv,HA;function K8(){return HA||(HA=1,jv=rx().get),jv}var W8=K8();const rl=li(W8);var Y8=4;function Pa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,l)=>{var u=n[l-1];return typeof u=="string"?i+u+a:u!==void 0?i+Pa(u)+a:i+a},"")}var qn=e=>e===0?0:e>0?1:-1,ii=e=>typeof e=="number"&&e!=+e,Oo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,we=e=>(typeof e=="number"||e instanceof Number)&&!ii(e),ai=e=>we(e)||typeof e=="string",J8=0,ec=e=>{var t=++J8;return"".concat(e||"").concat(t)},qr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&typeof t!="string")return r;var a;if(Oo(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return ii(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},cI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function It(e,t,n){return we(e)&&we(t)?Pa(e+n*(t-e)):t}function dI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):rl(r,t))===n)}var Ct=e=>e===null||typeof e>"u",bc=e=>Ct(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $n(e){return e!=null}function jo(){}var X8=["type","size","sizeType"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){Q8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q8(e,t,n){return(t=Z8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z8(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e,t){if(e==null)return{};var n,r,i=nH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fI={symbolCircle:ex,symbolCross:v8,symbolDiamond:b8,symbolSquare:x8,symbolStar:E8,symbolTriangle:T8,symbolWye:C8},rH=Math.PI/180,iH=e=>{var t="symbol".concat(bc(e));return fI[t]||ex},aH=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*rH;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oH=(e,t)=>{fI["symbol".concat(bc(e))]=t},hI=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=tH(e,X8),a=FA(FA({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=iH(l),w=N8().type(v).size(aH(n,r,l)),E=w();if(E!==null)return E},{className:d,cx:f,cy:h}=a,p=On(a);return we(f)&&we(h)&&we(n)?A.createElement("path",My({},p,{className:mt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};hI.registerSymbol=oH;var mI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ix=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Xb(i)&&(r[i]=(a=>n[i](n,a)))}),r},sH=(e,t,n)=>r=>(e(t,n,r),null),ax=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Xb(i)&&typeof a=="function"&&(r||(r={}),r[i]=sH(a,t,n))}),r};function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){uH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uH(e,t,n){return(t=cH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cH(e){var t=dH(e,"string");return typeof t=="symbol"?t:t+""}function dH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e,t){var n=lH({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}var zv={},Lv={},KA;function fH(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l,a,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Lv)),Lv}var Uv={},WA;function hH(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(Uv)),Uv}var Bv={},YA;function pI(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Bv)),Bv}var qv={},$v={},Hv={},JA;function mH(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Hv)),Hv}var XA;function ox(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mH();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})($v)),$v}var Gv={},QA;function pH(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Gv)),Gv}var ZA;function gH(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox(),n=pH();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(qv)),qv}var Fv={},Vv={},e1;function vH(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Vv)),Vv}var Kv={},Wv={},Yv={},Jv={},t1;function gI(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Jv)),Jv}var Xv={},n1;function vI(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Xv)),Xv}var Qv={},r1;function yI(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Qv)),Qv}var i1;function yH(){return i1||(i1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gI(),n=vI(),r=yI();function i(h,p,v){return typeof v!="function"?i(h,p,()=>{}):a(h,p,function w(E,S,T,C,R,k){const P=v(E,S,T,C,R,k);return P!==void 0?!!P:a(E,S,w,k)},new Map)}function a(h,p,v,w){if(p===h)return!0;switch(typeof p){case"object":return l(h,p,v,w);case"function":return Object.keys(p).length>0?a(h,{...p},v,w):r.isEqualsSameValueZero(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function l(h,p,v,w){if(p==null)return!0;if(Array.isArray(p))return d(h,p,v,w);if(p instanceof Map)return u(h,p,v,w);if(p instanceof Set)return f(h,p,v,w);const E=Object.keys(p);if(h==null||n.isPrimitive(h))return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(p))return w.get(p)===h;w==null||w.set(p,h);try{for(let S=0;S<E.length;S++){const T=E[S];if(!n.isPrimitive(h)&&!(T in h)||p[T]===void 0&&h[T]!==void 0||p[T]===null&&h[T]!==null||!v(h[T],p[T],T,h,p,w))return!1}return!0}finally{w==null||w.delete(p)}}function u(h,p,v,w){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[E,S]of p.entries()){const T=h.get(E);if(v(T,S,E,h,p,w)===!1)return!1}return!0}function d(h,p,v,w){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const E=new Set;for(let S=0;S<p.length;S++){const T=p[S];let C=!1;for(let R=0;R<h.length;R++){if(E.has(R))continue;const k=h[R];let P=!1;if(v(k,T,S,h,p,w)&&(P=!0),P){E.add(R),C=!0;break}}if(!C)return!1}return!0}function f(h,p,v,w){return p.size===0?!0:h instanceof Set?d([...h],[...p],v,w):!1}e.isMatchWith=i,e.isSetMatch=f})(Yv)),Yv}var a1;function bI(){return a1||(a1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yH();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Wv)),Wv}var Zv={},e0={},t0={},o1;function bH(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(t0)),t0}var n0={},s1;function sx(){return s1||(s1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(n0)),n0}var r0={},l1;function xI(){return l1||(l1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",v="[object ArrayBuffer]",w="[object Object]",E="[object Error]",S="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",k="[object Uint32Array]",P="[object BigUint64Array]",D="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",B="[object BigInt64Array]",L="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=S,e.dateTag=u,e.errorTag=E,e.float32ArrayTag=L,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=O,e.int32ArrayTag=M,e.int8ArrayTag=D,e.mapTag=d,e.numberTag=r,e.objectTag=w,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=R,e.uint32ArrayTag=k,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(r0)),r0}var i0={},u1;function xH(){return u1||(u1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(i0)),i0}var c1;function wI(){return c1||(c1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bH(),n=sx(),r=xI(),i=vI(),a=xH();function l(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,v,w=new Map,E=void 0){const S=E==null?void 0:E(h,p,v,w);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(w.has(h))return w.get(h);if(Array.isArray(h)){const T=new Array(h.length);w.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,w,E);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;w.set(h,T);for(const[C,R]of h)T.set(C,u(R,C,v,w,E));return T}if(h instanceof Set){const T=new Set;w.set(h,T);for(const C of h)T.add(u(C,void 0,v,w,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);w.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,w,E);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return w.set(h,T),d(T,h,v,w,E),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return w.set(h,T),d(T,h,v,w,E),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return w.set(h,T),d(T,h,v,w,E),T}if(h instanceof Error){const T=new h.constructor;return w.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,d(T,h,v,w,E),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return w.set(h,T),d(T,h,v,w,E),T}if(h instanceof Number){const T=new Number(h.valueOf());return w.set(h,T),d(T,h,v,w,E),T}if(h instanceof String){const T=new String(h.valueOf());return w.set(h,T),d(T,h,v,w,E),T}if(typeof h=="object"&&f(h)){const T=Object.create(Object.getPrototypeOf(h));return w.set(h,T),d(T,h,v,w,E),T}return h}function d(h,p,v=h,w,E){const S=[...Object.keys(p),...t.getSymbols(p)];for(let T=0;T<S.length;T++){const C=S[T],R=Object.getOwnPropertyDescriptor(h,C);(R==null||R.writable)&&(h[C]=u(p[C],C,v,w,E))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(e0)),e0}var d1;function wH(){return d1||(d1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Zv)),Zv}var f1;function _H(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI(),n=wH();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(Kv)),Kv}var a0={},o0={},s0={},h1;function SH(){return h1||(h1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI(),n=sx(),r=xI();function i(a,l){return t.cloneDeepWith(a,(u,d,f,h)=>{const p=l==null?void 0:l(u,d,f,h);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const v={};return h.set(a,v),t.copyProperties(v,a,f,h),v}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(v,a),v}case r.argumentsTag:{const v={};return t.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(s0)),s0}var m1;function EH(){return m1||(m1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SH();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(o0)),o0}var l0={},u0={},p1;function _I(){return p1||(p1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(u0)),u0}var c0={},g1;function TH(){return g1||(g1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(c0)),c0}var v1;function AH(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI(),n=_I(),r=TH(),i=nx();function a(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const p=d[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(l0)),l0}var y1;function CH(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI(),n=tx(),r=EH(),i=rx(),a=AH();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?a.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(a0)),a0}var b1;function NH(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI(),n=vH(),r=_H(),i=CH();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Fv)),Fv}var x1;function OH(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fH(),n=hH(),r=pI(),i=gH(),a=NH();function l(u,d=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(a.iteratee(d),1)):[]}e.uniqBy=l})(zv)),zv}var d0,w1;function RH(){return w1||(w1=1,d0=OH().uniqBy),d0}var kH=RH();const _1=li(kH);function PH(e,t,n){return t===!0?_1(e,n):typeof t=="function"?_1(e,t):e}var f0={exports:{}},h0={},m0={exports:{}},p0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function IH(){if(S1)return p0;S1=1;var e=cl();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(p,v){var w=v(),E=r({inst:{value:w,getSnapshot:v}}),S=E[0].inst,T=E[1];return a(function(){S.value=w,S.getSnapshot=v,d(S)&&T({inst:S})},[p,w,v]),i(function(){return d(S)&&T({inst:S}),p(function(){d(S)&&T({inst:S})})},[p]),l(w),w}function d(p){var v=p.getSnapshot;p=p.value;try{var w=v();return!n(p,w)}catch{return!0}}function f(p,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return p0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,p0}var E1;function MH(){return E1||(E1=1,m0.exports=IH()),m0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function DH(){if(T1)return h0;T1=1;var e=cl(),t=MH();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return h0.useSyncExternalStoreWithSelector=function(f,h,p,v,w){var E=a(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=u(function(){function C(O){if(!R){if(R=!0,k=O,O=v(O),w!==void 0&&S.hasValue){var M=S.value;if(w(M,O))return P=M}return P=O}if(M=P,r(k,O))return M;var B=v(O);return w!==void 0&&w(M,B)?(k=O,M):(k=O,P=B)}var R=!1,k,P,D=p===void 0?null:p;return[function(){return C(h())},D===null?void 0:function(){return C(D())}]},[h,p,v,w]);var T=i(f,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),d(T),T},h0}var A1;function jH(){return A1||(A1=1,f0.exports=DH()),f0.exports}var zH=jH(),lx=A.createContext(null),LH=e=>e,jt=()=>{var e=A.useContext(lx);return e?e.store.dispatch:LH},kf=()=>{},UH=()=>kf,BH=(e,t)=>e===t;function Ce(e){var t=A.useContext(lx),n=A.useMemo(()=>t?r=>{if(r!=null)return e(r)}:kf,[t,e]);return zH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:UH,t?t.store.getState:kf,t?t.store.getState:kf,n,BH)}function qH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $H(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function HH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var C1=e=>Array.isArray(e)?e:[e];function GH(e){const t=Array.isArray(e[0])?e[0]:e;return HH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FH(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var VH=class{constructor(e){this.value=e}deref(){return this.value}},KH=typeof WeakRef<"u"?WeakRef:VH,WH=0,N1=1;function lf(){return{s:WH,v:void 0,o:null,p:null}}function SI(e,t={}){let n=lf();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var p;let u=n;const{length:d}=arguments;for(let v=0,w=d;v<w;v++){const E=arguments[v];if(typeof E=="function"||typeof E=="object"&&E!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const T=S.get(E);T===void 0?(u=lf(),S.set(E,u)):u=T}else{let S=u.p;S===null&&(u.p=S=new Map);const T=S.get(E);T===void 0?(u=lf(),S.set(E,u)):u=T}}const f=u;let h;if(u.s===N1)h=u.v;else if(h=e.apply(null,arguments),a++,r){const v=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;v!=null&&r(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new KH(h):h}return f.s=N1,f.v=h,h}return l.clearCache=()=>{n=lf(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function YH(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),qH(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:p,memoizeOptions:v=[],argsMemoize:w=SI,argsMemoizeOptions:E=[]}=h,S=C1(v),T=C1(E),C=GH(i),R=p(function(){return a++,f.apply(null,arguments)},...S),k=w(function(){l++;const D=FH(C,arguments);return u=R.apply(null,D),u},...T);return Object.assign(k,{resultFunc:f,memoizedResultFunc:R,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var W=YH(SI),JH=Object.assign((e,t=W)=>{$H(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>JH}),g0={},v0={},y0={},O1;function XH(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(y0)),y0}var b0={},x0={},R1;function EI(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(x0)),x0}var k1;function QH(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(b0)),b0}var P1;function ZH(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XH(),n=QH(),r=nx();function i(a,l,u,d){if(a==null)return[];u=d?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const f=(w,E)=>{let S=w;for(let T=0;T<E.length&&S!=null;++T)S=S[E[T]];return S},h=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:f(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?f(E,w):typeof E=="object"?E[w]:E,p=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return a.map(w=>({original:w,criteria:p.map(E=>h(E,w))})).slice().sort((w,E)=>{for(let S=0;S<p.length;S++){const T=t.compareValues(w.criteria[S],E.criteria[S],u[S]);if(T!==0)return T}return 0}).map(w=>w.original)}e.orderBy=i})(v0)),v0}var w0={},I1;function e6(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<a?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(w0)),w0}var _0={},M1;function TI(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_I(),n=ox(),r=gI(),i=yI();function a(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.isEqualsSameValueZero(d[u],l):!1}e.isIterateeCall=a})(_0)),_0}var D1;function t6(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZH(),n=e6(),r=TI();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(g0)),g0}var S0,j1;function n6(){return j1||(j1=1,S0=t6().sortBy),S0}var r6=n6();const tm=li(r6);var AI=e=>e.legend.settings,i6=e=>e.legend.size,a6=e=>e.legend.payload;W([a6,AI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tm(r,n):r});var uf=1;function o6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>uf||Math.abs(l.left-t.left)>uf||Math.abs(l.top-t.top)>uf||Math.abs(l.width-t.width)>uf)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function pn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var s6=typeof Symbol=="function"&&Symbol.observable||"@@observable",z1=s6,E0=()=>Math.random().toString(36).substring(7).split("").join("."),l6={INIT:`@@redux/INIT${E0()}`,REPLACE:`@@redux/REPLACE${E0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${E0()}`},Jf=l6;function ux(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CI(e,t,n){if(typeof e!="function")throw new Error(pn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pn(1));return n(CI)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,d=!1;function f(){l===a&&(l=new Map,a.forEach((T,C)=>{l.set(C,T)}))}function h(){if(d)throw new Error(pn(3));return i}function p(T){if(typeof T!="function")throw new Error(pn(4));if(d)throw new Error(pn(5));let C=!0;f();const R=u++;return l.set(R,T),function(){if(C){if(d)throw new Error(pn(6));C=!1,f(),l.delete(R),a=null}}}function v(T){if(!ux(T))throw new Error(pn(7));if(typeof T.type>"u")throw new Error(pn(8));if(typeof T.type!="string")throw new Error(pn(17));if(d)throw new Error(pn(9));try{d=!0,i=r(i,T)}finally{d=!1}return(a=l).forEach(R=>{R()}),T}function w(T){if(typeof T!="function")throw new Error(pn(10));r=T,v({type:Jf.REPLACE})}function E(){const T=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(pn(11));function R(){const P=C;P.next&&P.next(h())}return R(),{unsubscribe:T(R)}},[z1](){return this}}}return v({type:Jf.INIT}),{dispatch:v,subscribe:p,getState:h,replaceReducer:w,[z1]:E}}function u6(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Jf.INIT})>"u")throw new Error(pn(12));if(typeof n(void 0,{type:Jf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function NI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{u6(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],v=n[p],w=l[p],E=v(w,u);if(typeof E>"u")throw u&&u.type,new Error(pn(14));f[p]=E,d=d||E!==w}return d=d||r.length!==Object.keys(l).length,d?f:l}}function Xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function c6(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(pn(15))};const l={getState:i.getState,dispatch:(d,...f)=>a(d,...f)},u=e.map(d=>d(l));return a=Xf(...u)(i.dispatch),{...i,dispatch:a}}}function OI(e){return ux(e)&&"type"in e&&typeof e.type=="string"}var RI=Symbol.for("immer-nothing"),L1=Symbol.for("immer-draftable"),Rn=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rr=Object,il=rr.getPrototypeOf,Qf="constructor",nm="prototype",Dy="configurable",Zf="enumerable",Pf="writable",tc="value",ji=e=>!!e&&!!e[Rn];function $r(e){var t;return e?kI(e)||im(e)||!!e[L1]||!!((t=e[Qf])!=null&&t[L1])||am(e)||om(e):!1}var d6=rr[nm][Qf].toString(),U1=new WeakMap;function kI(e){if(!e||!cx(e))return!1;const t=il(e);if(t===null||t===rr[nm])return!0;const n=rr.hasOwnProperty.call(t,Qf)&&t[Qf];if(n===Object)return!0;if(!$s(n))return!1;let r=U1.get(n);return r===void 0&&(r=Function.toString.call(n),U1.set(n,r)),r===d6}function rm(e,t,n=!0){xc(e)===0?(n?Reflect.ownKeys(e):rr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function xc(e){const t=e[Rn];return t?t.type_:im(e)?1:am(e)?2:om(e)?3:0}var B1=(e,t,n=xc(e))=>n===2?e.has(t):rr[nm].hasOwnProperty.call(e,t),jy=(e,t,n=xc(e))=>n===2?e.get(t):e[t],eh=(e,t,n,r=xc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function f6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var im=Array.isArray,am=e=>e instanceof Map,om=e=>e instanceof Set,cx=e=>typeof e=="object",$s=e=>typeof e=="function",T0=e=>typeof e=="boolean";function h6(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ni=e=>e.copy_||e.base_,dx=e=>e.modified_?e.copy_:e.base_;function zy(e,t){if(am(e))return new Map(e);if(om(e))return new Set(e);if(im(e))return Array[nm].slice.call(e);const n=kI(e);if(t===!0||t==="class_only"&&!n){const r=rr.getOwnPropertyDescriptors(e);delete r[Rn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[Pf]===!1&&(u[Pf]=!0,u[Dy]=!0),(u.get||u.set)&&(r[l]={[Dy]:!0,[Pf]:!0,[Zf]:u[Zf],[tc]:e[l]})}return rr.create(il(e),r)}else{const r=il(e);if(r!==null&&n)return{...e};const i=rr.create(r);return rr.assign(i,e)}}function fx(e,t=!1){return sm(e)||ji(e)||!$r(e)||(xc(e)>1&&rr.defineProperties(e,{set:cf,add:cf,clear:cf,delete:cf}),rr.freeze(e),t&&rm(e,(n,r)=>{fx(r,!0)},!1)),e}function m6(){Mr(2)}var cf={[tc]:m6};function sm(e){return e===null||!cx(e)?!0:rr.isFrozen(e)}var th="MapSet",Ly="Patches",q1="ArrayMethods",PI={};function Ro(e){const t=PI[e];return t||Mr(0,e),t}var $1=e=>!!PI[e],nc,II=()=>nc,p6=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:$1(th)?Ro(th):void 0,arrayMethodsPlugin_:$1(q1)?Ro(q1):void 0});function H1(e,t){t&&(e.patchPlugin_=Ro(Ly),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Uy(e){By(e),e.drafts_.forEach(g6),e.drafts_=null}function By(e){e===nc&&(nc=e.parent_)}var G1=e=>nc=p6(nc,e);function g6(e){const t=e[Rn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function F1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Rn].modified_&&(Uy(t),Mr(4)),$r(e)&&(e=V1(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Rn].base_,e,t)}else e=V1(t,n);return v6(t,e,!0),Uy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RI?e:void 0}function V1(e,t){if(sm(t))return t;const n=t[Rn];if(!n)return nh(t,e.handledSet_,e);if(!lm(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);jI(n,e)}return n.copy_}function v6(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fx(t,n)}function MI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lm=(e,t)=>e.scope_===t,y6=[];function DI(e,t,n,r){const i=Ni(e),a=e.type_;if(r!==void 0&&jy(i,r,a)===t){eh(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;rm(i,(d,f)=>{if(ji(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??y6;for(const u of l)eh(i,u,n,a)}function b6(e,t,n){e.callbacks_.push(function(i){var u;const a=t;if(!a||!lm(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const l=dx(a);DI(e,a.draft_??a,l,n),jI(a,i)})}function jI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}MI(e)}}function x6(e,t,n){const{scope_:r}=e;if(ji(n)){const i=n[Rn];lm(i,r)&&i.callbacks_.push(function(){If(e);const l=dx(i);DI(e,n,l,t)})}else $r(n)&&e.callbacks_.push(function(){const a=Ni(e);e.type_===3?a.has(n)&&nh(n,r.handledSet_,r):jy(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&nh(jy(e.copy_,t,e.type_),r.handledSet_,r)})}function nh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ji(e)||t.has(e)||!$r(e)||sm(e)||(t.add(e),rm(e,(r,i)=>{if(ji(i)){const a=i[Rn];if(lm(a,n)){const l=dx(a);eh(e,r,l,e.type_),MI(a)}}else $r(i)&&nh(i,t,n)})),e}function w6(e,t){const n=im(e),r={type_:n?1:0,scope_:t?t.scope_:II(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=rh;n&&(i=[r],a=rc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var rh={get(e,t){if(t===Rn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ni(e);if(!B1(i,t,e.type_))return _6(e,i,t);const a=i[t];if(e.finalized_||!$r(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&h6(t))return a;if(a===A0(e.base_,t)){If(e);const l=e.type_===1?+t:t,u=$y(e.scope_,a,e,l);return e.copy_[l]=u}return a},has(e,t){return t in Ni(e)},ownKeys(e){return Reflect.ownKeys(Ni(e))},set(e,t,n){const r=zI(Ni(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=A0(Ni(e),t),a=i==null?void 0:i[Rn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(f6(n,i)&&(n!==void 0||B1(e.base_,t,e.type_)))return!0;If(e),qy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),x6(e,t,n)),!0},deleteProperty(e,t){return If(e),A0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),qy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ni(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Pf]:!0,[Dy]:e.type_!==1||t!=="length",[Zf]:r[Zf],[tc]:n[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return il(e.base_)},setPrototypeOf(){Mr(12)}},rc={};for(let e in rh){let t=rh[e];rc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}rc.deleteProperty=function(e,t){return rc.set.call(this,e,t,void 0)};rc.set=function(e,t,n){return rh.set.call(this,e[0],t,n,e[0])};function A0(e,t){const n=e[Rn];return(n?Ni(n):e)[t]}function _6(e,t,n){var i;const r=zI(t,n);return r?tc in r?r[tc]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function zI(e,t){if(!(t in e))return;let n=il(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=il(n)}}function qy(e){e.modified_||(e.modified_=!0,e.parent_&&qy(e.parent_))}function If(e){e.copy_||(e.assigned_=new Map,e.copy_=zy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var S6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if($s(n)&&!$s(r)){const l=r;r=n;const u=this;return function(f=l,...h){return u.produce(f,p=>r.call(this,p,...h))}}$s(r)||Mr(6),i!==void 0&&!$s(i)&&Mr(7);let a;if($r(n)){const l=G1(this),u=$y(l,n,void 0);let d=!0;try{a=r(u),d=!1}finally{d?Uy(l):By(l)}return H1(l,i),F1(a,l)}else if(!n||!cx(n)){if(a=r(n),a===void 0&&(a=n),a===RI&&(a=void 0),this.autoFreeze_&&fx(a,!0),i){const l=[],u=[];Ro(Ly).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Mr(1,n)},this.produceWithPatches=(n,r)=>{if($s(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,a;return[this.produce(n,r,(u,d)=>{i=u,a=d}),i,a]},T0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),T0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),T0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$r(t)||Mr(8),ji(t)&&(t=zr(t));const n=G1(this),r=$y(n,t,void 0);return r[Rn].isManual_=!0,By(n),r}finishDraft(t,n){const r=t&&t[Rn];(!r||!r.isManual_)&&Mr(9);const{scope_:i}=r;return H1(i,n),F1(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Ro(Ly).applyPatches_;return ji(t)?i(t,n):this.produce(t,a=>i(a,n))}};function $y(e,t,n,r){const[i,a]=am(t)?Ro(th).proxyMap_(t,n):om(t)?Ro(th).proxySet_(t,n):w6(t,n);return((n==null?void 0:n.scope_)??II()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?b6(n,a,r):a.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),i}function zr(e){return ji(e)||Mr(10,e),LI(e)}function LI(e){if(!$r(e)||sm(e))return e;const t=e[Rn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=zy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=zy(e,!0);return rm(n,(i,a)=>{eh(n,i,LI(a))},r),t&&(t.finalized_=!1),n}var E6=new S6,UI=E6.produce;function BI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var T6=BI(),A6=BI,C6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Xf:Xf.apply(null,arguments)};function _r(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ir(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>OI(r)&&r.type===e,n}var qI=class ju extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ju.prototype)}static get[Symbol.species](){return ju}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ju(...t[0].concat(this)):new ju(...t.concat(this))}};function K1(e){return $r(e)?UI(e,()=>{}):e}function df(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function N6(e){return typeof e=="boolean"}var O6=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new qI;return n&&(N6(n)?l.push(T6):l.push(A6(n.extraArgument))),l},$I="RTK_autoBatch",Tt=()=>e=>({payload:e,meta:{[$I]:!0}}),W1=e=>t=>{setTimeout(t,e)},HI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W1(10):e.type==="callback"?e.queueNotification:W1(e.timeout),f=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),v=r.subscribe(p);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[$I]),a=!i,a&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},R6=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new qI(e);return r&&i.push(HI(typeof r=="object"?r:void 0)),i};function k6(e){const t=O6(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(ux(n))u=NI(n);else throw new Error(ir(1));let d;typeof r=="function"?d=r(t):d=t();let f=Xf;i&&(f=C6({trace:!1,...typeof i=="object"&&i}));const h=c6(...d),p=R6(h);let v=typeof l=="function"?l(p):p();const w=f(...v);return CI(u,a,w)}function GI(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ir(28));if(u in t)throw new Error(ir(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function P6(e){return typeof e=="function"}function I6(e,t){let[n,r,i]=GI(t),a;if(P6(e))a=()=>K1(e());else{const u=K1(e);a=()=>u}function l(u=a(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(ji(h)){const w=p(h,d);return w===void 0?h:w}else{if($r(h))return UI(h,v=>p(v,d));{const v=p(h,d);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=a,l}var M6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D6=(e=21)=>{let t="",n=e;for(;n--;)t+=M6[Math.random()*64|0];return t},j6=Symbol.for("rtk-slice-createasyncthunk");function z6(e,t){return`${e}/${t}`}function L6({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[j6];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(ir(11));const u=(typeof i.reducers=="function"?i.reducers(B6()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,D){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(ir(12));if(O in f.sliceCaseReducersByType)throw new Error(ir(13));return f.sliceCaseReducersByType[O]=D,h},addMatcher(P,D){return f.sliceMatchers.push({matcher:P,reducer:D}),h},exposeAction(P,D){return f.actionCreators[P]=D,h},exposeCaseReducer(P,D){return f.sliceCaseReducersByName[P]=D,h}};d.forEach(P=>{const D=u[P],O={reducerName:P,type:z6(a,P),createNotation:typeof i.reducers=="function"};$6(D)?G6(O,D,h,t):q6(O,D,h)});function p(){const[P={},D=[],O=void 0]=typeof i.extraReducers=="function"?GI(i.extraReducers):[i.extraReducers],M={...P,...f.sliceCaseReducersByType};return I6(i.initialState,B=>{for(let L in M)B.addCase(L,M[L]);for(let L of f.sliceMatchers)B.addMatcher(L.matcher,L.reducer);for(let L of D)B.addMatcher(L.matcher,L.reducer);O&&B.addDefaultCase(O)})}const v=P=>P,w=new Map,E=new WeakMap;let S;function T(P,D){return S||(S=p()),S(P,D)}function C(){return S||(S=p()),S.getInitialState()}function R(P,D=!1){function O(B){let L=B[P];return typeof L>"u"&&D&&(L=df(E,O,C)),L}function M(B=v){const L=df(w,D,()=>new WeakMap);return df(L,B,()=>{const K={};for(const[X,H]of Object.entries(i.selectors??{}))K[X]=U6(H,B,()=>df(E,B,C),D);return K})}return{reducerPath:P,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const k={name:a,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...R(l),injectInto(P,{reducerPath:D,...O}={}){const M=D??l;return P.inject({reducerPath:M,reducer:T},O),{...k,...R(M,!0)}}};return k}}function U6(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Gn=L6();function B6(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function q6({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!H6(r))throw new Error(ir(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?_r(e,l):_r(e))}function $6(e){return e._reducerDefinitionType==="asyncThunk"}function H6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function G6({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ir(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),d&&r.addCase(p.rejected,d),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:l||ff,pending:u||ff,rejected:d||ff,settled:f||ff})}function ff(){}var F6="task",FI="listener",VI="completed",hx="cancelled",V6=`task-${hx}`,K6=`task-${VI}`,Hy=`${FI}-${hx}`,W6=`${FI}-${VI}`,um=class{constructor(e){uv(this,"name","TaskAbortError");uv(this,"message");this.code=e,this.message=`${F6} ${hx} (reason: ${e})`}},mx=(e,t)=>{if(typeof e!="function")throw new TypeError(ir(32))},ih=()=>{},KI=(e,t=ih)=>(e.catch(t),e),WI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Eo=e=>{if(e.aborted)throw new um(e.reason)};function YI(e,t){let n=ih;return new Promise((r,i)=>{const a=()=>i(new um(e.reason));if(e.aborted){a();return}n=WI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ih})}var Y6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof um?"cancelled":"rejected",error:n}}finally{t==null||t()}},ah=e=>t=>KI(YI(e,t).then(n=>(Eo(e),n))),JI=e=>{const t=ah(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Qs}=Object,Y1={},cm="listenerMiddleware",J6=(e,t)=>{const n=r=>WI(e,()=>r.abort(e.reason));return(r,i)=>{mx(r);const a=new AbortController;n(a);const l=Y6(async()=>{Eo(e),Eo(a.signal);const u=await r({pause:ah(a.signal),delay:JI(a.signal),signal:a.signal});return Eo(a.signal),u},()=>a.abort(K6));return i!=null&&i.autoJoin&&t.push(l.catch(ih)),{result:ah(e)(l),cancel(){a.abort(V6)}}}},X6=(e,t)=>{const n=async(r,i)=>{Eo(t);let a=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(p,v)=>{v.unsubscribe(),d([p,v.getState(),v.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await YI(t,Promise.race(u));return Eo(t),d}finally{a()}};return(r,i)=>KI(n(r,i))},XI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=_r(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ir(21));return mx(a),{predicate:i,type:t,effect:a}},QI=Qs(e=>{const{type:t,predicate:n,effect:r}=XI(e);return{id:D6(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ir(22))}}},{withTypes:()=>QI}),J1=(e,t)=>{const{type:n,effect:r,predicate:i}=XI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Gy=e=>{e.pending.forEach(t=>{t.abort(Hy)})},Q6=(e,t)=>()=>{for(const n of t.keys())Gy(n);e.clear()},X1=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ZI=Qs(_r(`${cm}/add`),{withTypes:()=>ZI}),Z6=_r(`${cm}/removeAll`),eM=Qs(_r(`${cm}/remove`),{withTypes:()=>eM}),eG=(...e)=>{console.error(`${cm}/error`,...e)},wc=(e={})=>{const t=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},i=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:a,onError:l=eG}=e;mx(l);const u=w=>(w.unsubscribe=()=>t.delete(w.id),t.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&Gy(w)}),d=w=>{const E=J1(t,w)??QI(w);return u(E)};Qs(d,{withTypes:()=>d});const f=w=>{const E=J1(t,w);return E&&(E.unsubscribe(),w.cancelActive&&Gy(E)),!!E};Qs(f,{withTypes:()=>f});const h=async(w,E,S,T)=>{const C=new AbortController,R=X6(d,C.signal),k=[];try{w.pending.add(C),r(w),await Promise.resolve(w.effect(E,Qs({},S,{getOriginalState:T,condition:(P,D)=>R(P,D).then(Boolean),take:R,delay:JI(C.signal),pause:ah(C.signal),extra:a,signal:C.signal,fork:J6(C.signal,k),unsubscribe:w.unsubscribe,subscribe:()=>{t.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((P,D,O)=>{P!==C&&(P.abort(Hy),O.delete(P))})},cancel:()=>{C.abort(Hy),w.pending.delete(C)},throwIfCancelled:()=>{Eo(C.signal)}})))}catch(P){P instanceof um||X1(l,P,{raisedBy:"effect"})}finally{await Promise.all(k),C.abort(W6),i(w),w.pending.delete(C)}},p=Q6(t,n);return{middleware:w=>E=>S=>{if(!OI(S))return E(S);if(ZI.match(S))return d(S.payload);if(Z6.match(S)){p();return}if(eM.match(S))return f(S.payload);let T=w.getState();const C=()=>{if(T===Y1)throw new Error(ir(23));return T};let R;try{if(R=E(S),t.size>0){const k=w.getState(),P=Array.from(t.values());for(const D of P){let O=!1;try{O=D.predicate(S,k,T)}catch(M){O=!1,X1(l,M,{raisedBy:"predicate"})}O&&h(D,S,w,C)}}}finally{T=Y1}return R},startListening:d,stopListening:f,clearListeners:p}};function ir(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tM=Gn({name:"chartLayout",initialState:tG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:nG,setLayout:rG,setChartSize:iG,setScale:aG}=tM.actions,oG=tM.reducer;function nM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Je(e){return Number.isFinite(e)}function oi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Q1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(n),!0).forEach(function(r){sG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=uG(e,"string");return typeof t=="symbol"?t:t+""}function uG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,n){return Ct(e)||Ct(t)?n:ai(t)?rl(e,t,n):typeof t=="function"?t(e):n}var cG=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&we(e[a]))return Fs(Fs({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&we(e[l]))return Fs(Fs({},e),{},{[l]:e[l]+(i||0)})}return e},Fi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rM=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},iM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:v,axisType:w}=e;if(!l)return null;var E=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/E:0;if(S=w==="angleAxis"&&a&&a.length>=2?qn(a[0]-a[1])*2*S:S,p||v){var T=(p||v||[]).map((C,R)=>{var k=r?r.indexOf(C):C,P=l.map(k);return Je(P)?{coordinate:P+S,value:C,offset:S,index:R}:null}).filter($n);return T}return d&&f?f.map((C,R)=>{var k=l.map(C);return Je(k)?{coordinate:k+S,value:C,index:R,offset:S}:null}).filter($n):l.ticks&&h!=null?l.ticks(h).map((C,R)=>{var k=l.map(C);return Je(k)?{coordinate:k+S,value:C,index:R,offset:S}:null}).filter($n):l.domain().map((C,R)=>{var k=l.map(C);return Je(k)?{coordinate:k+S,value:r?r[C]:C,index:R,offset:S}:null}).filter($n)},dG=(e,t)=>{if(!t||t.length!==2||!we(t[0])||!we(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!we(e[0])||e[0]<n)&&(i[0]=n),(!we(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},fG=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,u=0;u<n;++u){var d=e[u],f=d==null?void 0:d[i];if(f!=null){var h=f[1],p=f[0],v=ii(h)?p:h;v>=0?(f[0]=a,a+=v,f[1]=a):(f[0]=l,l+=v,f[1]=l)}}}},hG=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var u=e[l],d=u==null?void 0:u[i];if(d!=null){var f=ii(d[1])?d[0]:d[1];f>=0?(d[0]=a,a+=f,d[1]=a):(d[0]=0,d[1]=0)}}}},mG={sign:fG,expand:$8,none:No,silhouette:H8,wiggle:G8,positive:hG},pG=(e,t,n)=>{var r,i=(r=mG[n])!==null&&r!==void 0?r:No,a=q8().keys(t).value((u,d)=>Number(Ht(u,d,0))).order(Iy).offset(i),l=a(e);return l.forEach((u,d)=>{u.forEach((f,h)=>{var p=Ht(e[h],t[d],0);Array.isArray(p)&&p.length===2&&we(p[0])&&we(p[1])&&(f[0]=p[0],f[1]=p[1])})}),l};function gG(e){return e==null?void 0:String(e)}function Z1(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ct(i[t.dataKey])){var u=dI(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var d=Ht(i,Ct(l)?t.dataKey:l),f=t.scale.map(d);return we(f)?f:null}var eC=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=Ht(a,t.dataKey,t.scale.domain()[l]);if(Ct(u))return null;var d=t.scale.map(u);return we(d)?d-i/2+r:null},vG=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},yG=e=>{var t=e.flat(2).filter(we);return[Math.min(...t),Math.max(...t)]},bG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xG=(e,t,n)=>{if(e!=null)return bG(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:l}=a,u=l.reduce((d,f)=>{var h=nM(f,t,n),p=yG(h);return!Je(p[0])||!Je(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},tC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,al=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=tm(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];a=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function rC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Fs(Fs({},t),{},{dataKey:n,payload:r,value:i,name:a})}function dm(e,t){if(e)return String(e);if(typeof t=="string")return t}var wG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_G=(e,t)=>t==="centric"?e.angle:e.radius,Vi=e=>e.layout.width,Ki=e=>e.layout.height,SG=e=>e.layout.scale,aM=e=>e.layout.margin,fm=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),hm=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),EG="data-recharts-item-index",TG="data-recharts-item-id",_c=60;function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){AG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AG(e,t,n){return(t=CG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OG=e=>e.brush.height;function RG(e){var t=hm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_c;return n+i}return n},0)}function kG(e){var t=hm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_c;return n+i}return n},0)}function PG(e){var t=fm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function IG(e){var t=fm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var nn=W([Vi,Ki,aM,OG,RG,kG,PG,IG,AI,i6],(e,t,n,r,i,a,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=hf(hf({},p),h),w=v.bottom;v.bottom+=r,v=cG(v,d,f);var E=e-v.left-v.right,S=t-v.top-v.bottom;return hf(hf({brushBottom:w},v),{},{width:Math.max(E,0),height:Math.max(S,0)})}),MG=W(nn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),px=W(Vi,Ki,(e,t)=>({x:0,y:0,width:e,height:t})),DG=A.createContext(null),Sn=()=>A.useContext(DG)!=null,mm=e=>e.brush,pm=W([mm,nn,aM],(e,t,n)=>({height:e.height,x:we(e.x)?e.x:t.left,y:we(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:we(e.width)?e.width:t.width})),C0={},N0={},O0={},aC;function jG(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{f&&h(),S()};let v=null;const w=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},E=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{E(),l=void 0,u=null},T=()=>{h()},C=function(...R){if(i!=null&&i.aborted)return;l=this,u=R;const k=v==null;w(),d&&k&&h()};return C.schedule=w,C.cancel=S,C.flush=T,i==null||i.addEventListener("abort",S,{once:!0}),C}e.debounce=t})(O0)),O0}var oC;function zG(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jG();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:d}=a,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const v=t.debounce(function(...S){h=r.apply(this,S),p=null},i,{edges:f}),w=function(...S){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(h=r.apply(this,S),p=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,S),h)},E=()=>(v.flush(),h);return w.cancel=v.cancel,w.flush=E,w}e.debounce=n})(N0)),N0}var sC;function LG(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zG();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(C0)),C0}var R0,lC;function UG(){return lC||(lC=1,R0=LG().throttle),R0}var BG=UG();const qG=li(BG);var oh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},ei={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},oM=(e,t,n)=>{var{width:r=ei.width,height:i=ei.height,aspect:a,maxHeight:l}=n,u=Oo(r)?e:Number(r),d=Oo(i)?t:Number(i);return a&&a>0&&(u?d=u/a:d&&(u=d*a),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},$G={width:0,height:0,overflow:"visible"},HG={width:0,overflowX:"visible"},GG={height:0,overflowY:"visible"},FG={},VG=e=>{var{width:t,height:n}=e,r=Oo(t),i=Oo(n);return r&&i?$G:r?HG:i?GG:FG};function KG(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=ei.width,a=ei.height):i===void 0?i=r&&r>0?void 0:ei.width:a===void 0&&(a=r&&r>0?void 0:ei.height),{width:i,height:a}}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){WG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WG(e,t,n){return(t=YG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sM=A.createContext(ei.initialDimension);function XG(e){return oi(e.width)&&oi(e.height)}function lM(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return XG(i)?A.createElement(sM.Provider,{value:i},t):null}var gx=()=>A.useContext(sM),QG=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ei.initialDimension,width:i,height:a,minWidth:l=ei.minWidth,minHeight:u,maxHeight:d,children:f,debounce:h=ei.debounce,id:p,className:v,onResize:w,style:E={}}=e,S=A.useRef(null),T=A.useRef();T.current=w,A.useImperativeHandle(t,()=>S.current);var[C,R]=A.useState({containerWidth:r.width,containerHeight:r.height}),k=A.useCallback((B,L)=>{R(K=>{var X=Math.round(B),H=Math.round(L);return K.containerWidth===X&&K.containerHeight===H?K:{containerWidth:X,containerHeight:H}})},[]);A.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return jo;var B=H=>{var he,ce=H[0];if(ce!=null){var{width:ge,height:$}=ce.contentRect;k(ge,$),(he=T.current)===null||he===void 0||he.call(T,ge,$)}};h>0&&(B=qG(B,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),{width:K,height:X}=S.current.getBoundingClientRect();return k(K,X),L.observe(S.current),()=>{L.disconnect()}},[k,h]);var{containerWidth:P,containerHeight:D}=C;oh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:M}=oM(P,D,{width:i,height:a,aspect:n,maxHeight:d});return oh(O!=null&&O>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,M,i,a,l,u,n),A.createElement("div",{id:p?"".concat(p):void 0,className:mt("recharts-responsive-container",v),style:cC(cC({},E),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:d}),ref:S},A.createElement("div",{style:VG({width:i,height:a})},A.createElement(lM,{width:O,height:M},f)))}),vx=A.forwardRef((e,t)=>{var n=gx();if(oi(n.width)&&oi(n.height))return e.children;var{width:r,height:i}=KG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=oM(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return we(a)&&we(l)?A.createElement(lM,{width:a,height:l},e.children):A.createElement(QG,Fy({},e,{width:r,height:i,ref:t}))});function yx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var gm=()=>{var e,t=Sn(),n=Ce(MG),r=Ce(pm),i=(e=Ce(mm))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ZG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uM=()=>{var e;return(e=Ce(nn))!==null&&e!==void 0?e:ZG},cM=()=>Ce(Vi),dM=()=>Ce(Ki),st=e=>e.layout.layoutType,zo=()=>Ce(st),fM=()=>{var e=zo();if(e==="horizontal"||e==="vertical")return e},hM=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},eF=()=>{var e=zo();return e!==void 0},Sc=e=>{var t=jt(),n=Sn(),{width:r,height:i}=e,a=gx(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),A.useEffect(()=>{!n&&oi(l)&&oi(u)&&t(iG({width:l,height:u}))},[t,n,l,u]),null},mM=Symbol.for("immer-nothing"),dC=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function Dr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ic=Object.getPrototypeOf;function ol(e){return!!e&&!!e[ar]}function ko(e){var t;return e?pM(e)||Array.isArray(e)||!!e[dC]||!!((t=e.constructor)!=null&&t[dC])||Ec(e)||ym(e):!1}var tF=Object.prototype.constructor.toString(),fC=new WeakMap;function pM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=fC.get(n);return r===void 0&&(r=Function.toString.call(n),fC.set(n,r)),r===tF}function sh(e,t,n=!0){vm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function vm(e){const t=e[ar];return t?t.type_:Array.isArray(e)?1:Ec(e)?2:ym(e)?3:0}function Vy(e,t){return vm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gM(e,t,n){const r=vm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function nF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ec(e){return e instanceof Map}function ym(e){return e instanceof Set}function ho(e){return e.copy_||e.base_}function Ky(e,t){if(Ec(e))return new Map(e);if(ym(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=pM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ar];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(ic(e),r)}else{const r=ic(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function bx(e,t=!1){return bm(e)||ol(e)||!ko(e)||(vm(e)>1&&Object.defineProperties(e,{set:mf,add:mf,clear:mf,delete:mf}),Object.freeze(e),t&&Object.values(e).forEach(n=>bx(n,!0))),e}function rF(){Dr(2)}var mf={value:rF};function bm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var iF={};function Po(e){const t=iF[e];return t||Dr(0,e),t}var ac;function vM(){return ac}function aF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hC(e,t){t&&(Po("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Wy(e){Yy(e),e.drafts_.forEach(oF),e.drafts_=null}function Yy(e){e===ac&&(ac=e.parent_)}function mC(e){return ac=aF(ac,e)}function oF(e){const t=e[ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ar].modified_&&(Wy(t),Dr(4)),ko(e)&&(e=lh(t,e),t.parent_||uh(t,e)),t.patches_&&Po("Patches").generateReplacementPatches_(n[ar].base_,e,t.patches_,t.inversePatches_)):e=lh(t,n,[]),Wy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mM?e:void 0}function lh(e,t,n){if(bm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ar];if(!i)return sh(t,(a,l)=>gC(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return uh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),sh(l,(d,f)=>gC(e,i,a,d,f,n,u),r),uh(e,a,!1),n&&e.patches_&&Po("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function gC(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=bm(i);if(!(u&&!l)){if(ol(i)){const d=a&&t&&t.type_!==3&&!Vy(t.assigned_,r)?a.concat(r):void 0,f=lh(e,i,d);if(gM(n,r,f),ol(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ko(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;lh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ec(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&uh(e,i)}}}function uh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bx(t,n)}function sF(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:vM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=xx;n&&(i=[r],a=oc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var xx={get(e,t){if(t===ar)return e;const n=ho(e);if(!Vy(n,t))return lF(e,n,t);const r=n[t];return e.finalized_||!ko(r)?r:r===k0(e.base_,t)?(P0(e),e.copy_[t]=Xy(r,e)):r},has(e,t){return t in ho(e)},ownKeys(e){return Reflect.ownKeys(ho(e))},set(e,t,n){const r=yM(ho(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=k0(ho(e),t),a=i==null?void 0:i[ar];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(nF(n,i)&&(n!==void 0||Vy(e.base_,t)))return!0;P0(e),Jy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return k0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,P0(e),Jy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ho(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Dr(11)},getPrototypeOf(e){return ic(e.base_)},setPrototypeOf(){Dr(12)}},oc={};sh(xx,(e,t)=>{oc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});oc.deleteProperty=function(e,t){return oc.set.call(this,e,t,void 0)};oc.set=function(e,t,n){return xx.set.call(this,e[0],t,n,e[0])};function k0(e,t){const n=e[ar];return(n?ho(n):e)[t]}function lF(e,t,n){var i;const r=yM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function yM(e,t){if(!(t in e))return;let n=ic(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ic(n)}}function Jy(e){e.modified_||(e.modified_=!0,e.parent_&&Jy(e.parent_))}function P0(e){e.copy_||(e.copy_=Ky(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(d=a,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&Dr(6),r!==void 0&&typeof r!="function"&&Dr(7);let i;if(ko(t)){const a=mC(this),l=Xy(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Wy(a):Yy(a)}return hC(a,r),pC(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===mM&&(i=void 0),this.autoFreeze_&&bx(i,!0),r){const a=[],l=[];Po("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Dr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ko(e)||Dr(8),ol(e)&&(e=cF(e));const t=mC(this),n=Xy(e,void 0);return n[ar].isManual_=!0,Yy(t),n}finishDraft(e,t){const n=e&&e[ar];(!n||!n.isManual_)&&Dr(9);const{scope_:r}=n;return hC(r,t),pC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Po("Patches").applyPatches_;return ol(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Xy(e,t){const n=Ec(e)?Po("MapSet").proxyMap_(e,t):ym(e)?Po("MapSet").proxySet_(e,t):sF(e,t);return(t?t.scope_:vM()).drafts_.push(n),n}function cF(e){return ol(e)||Dr(10,e),bM(e)}function bM(e){if(!ko(e)||bm(e))return e;const t=e[ar];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ky(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Ky(e,!0);return sh(n,(i,a)=>{gM(n,i,bM(a))},r),t&&(t.finalized_=!1),n}var dF=new uF;dF.produce;var fF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xM=Gn({name:"legend",initialState:fF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=zr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Tt()},removeLegendPayload:{reducer(e,t){var n=zr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Tt()}}}),{setLegendSize:bde,setLegendSettings:xde,addLegendPayload:hF,replaceLegendPayload:mF,removeLegendPayload:pF}=xM.actions,gF=xM.reducer;function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){vF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vF(e,t,n){return(t=yF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yF(e){var t=bF(e,"string");return typeof t=="symbol"?t:t+""}function bF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xF(e){return Array.isArray(e)&&ai(e[0])&&ai(e[1])?e.join(" ~ "):e}var Ds={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},wF=e=>{var{separator:t=Ds.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ds.labelStyle,payload:a,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:v=Ds.accessibilityLayer}=e,w=()=>{if(a&&a.length){var D={padding:0,margin:0},O=(u?tm(a,u):a).map((M,B)=>{if(M.type==="none")return null;var L=M.formatter||l||xF,{value:K,name:X}=M,H=K,he=X;if(L){var ce=L(K,X,M,B,a);if(Array.isArray(ce))[H,he]=ce;else if(ce!=null)H=ce;else return null}var ge=Eu(Eu({},Ds.itemStyle),{},{color:M.color||Ds.itemStyle.color},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:ge},ai(he)?A.createElement("span",{className:"recharts-tooltip-item-name"},he):null,ai(he)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},H),A.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},E=Eu(Eu({},Ds.contentStyle),n),S=Eu({margin:0},i),T=!Ct(h),C=T?h:"",R=mt("recharts-default-tooltip",d),k=mt("recharts-tooltip-label",f);T&&p&&a!==void 0&&a!==null&&(C=p(h,a));var P=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Qy({className:R,style:E},P),A.createElement("p",{className:k,style:S},A.isValidElement(C)?C:"".concat(C)),w())},Tu="recharts-tooltip-wrapper",_F={visibility:"hidden"};function SF(e){var{coordinate:t,translateX:n,translateY:r}=e;return mt(Tu,{["".concat(Tu,"-right")]:we(n)&&t&&we(t.x)&&n>=t.x,["".concat(Tu,"-left")]:we(n)&&t&&we(t.x)&&n<t.x,["".concat(Tu,"-bottom")]:we(r)&&t&&we(t.y)&&r>=t.y,["".concat(Tu,"-top")]:we(r)&&t&&we(t.y)&&r<t.y})}function yC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(a&&we(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(t[r])return l[r]?h:p;var v=d[r];if(v==null)return 0;if(l[r]){var w=h,E=v;return w<E?Math.max(p,v):Math.max(h,v)}if(f==null)return 0;var S=p+u,T=v+f;return S>T?Math.max(h,v):Math.max(p,v)}function EF(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function TF(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,h,p,v;return u.height>0&&u.width>0&&n?(p=yC({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),v=yC({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=EF({translateX:p,translateY:v,useTranslate3d:d})):h=_F,{cssProperties:h,cssClasses:SF({translateX:p,translateY:v,coordinate:n})}}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){Zy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zy(e,t,n){return(t=AF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NF extends A.PureComponent{constructor(){super(...arguments),Zy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:p,useTranslate3d:v,viewBox:w,wrapperStyle:E,lastBoundingBox:S,innerRef:T,hasPortalFromProps:C}=this.props,R=typeof f=="number"?f:f.x,k=typeof f=="number"?f:f.y,{cssClasses:P,cssProperties:D}=TF({allowEscapeViewBox:n,coordinate:l,offsetLeft:R,offsetTop:k,position:h,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:w}),O=C?{}:pf(pf({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=pf(pf({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},E);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:M,ref:T},a)}}var wM=()=>{var e;return(e=Ce(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eb.apply(null,arguments)}function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){OF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OF(e,t,n){return(t=RF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RF(e){var t=kF(e,"string");return typeof t=="symbol"?t:t+""}function kF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _C={curveBasisClosed:R8,curveBasisOpen:k8,curveBasis:O8,curveBumpX:p8,curveBumpY:g8,curveLinearClosed:P8,curveLinear:Zh,curveMonotoneX:I8,curveMonotoneY:M8,curveNatural:D8,curveStep:j8,curveStepAfter:L8,curveStepBefore:z8},ch=e=>Je(e.x)&&Je(e.y),SC=e=>e.base!=null&&ch(e.base)&&ch(e),Au=e=>e.x,Cu=e=>e.y,PF=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(bc(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=_C["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return _C[n]||Zh},EC={connectNulls:!1,type:"linear"},IF=e=>{var{type:t=EC.type,points:n=[],baseLine:r,layout:i,connectNulls:a=EC.connectNulls}=e,l=PF(t,i),u=a?n.filter(ch):n;if(Array.isArray(r)){var d,f=n.map((E,S)=>wC(wC({},E),{},{base:r[S]}));i==="vertical"?d=sf().y(Cu).x1(Au).x0(E=>E.base.x):d=sf().x(Au).y1(Cu).y0(E=>E.base.y);var h=d.defined(SC).curve(l),p=a?f.filter(SC):f;return h(p)}var v;i==="vertical"&&we(r)?v=sf().y(Cu).x1(Au).x0(r):we(r)?v=sf().x(Au).y1(Cu).y0(r):v=QP().x(Au).y(Cu);var w=v.defined(ch).curve(l);return w(u)},_M=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=zo();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},u=n&&n.length?IF(l):r;return A.createElement("path",eb({},Br(e),ix(e),{className:mt("recharts-curve",t),d:u===null?void 0:u,ref:i}))},MF=["x","y","top","left","width","height","className"];function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(n),!0).forEach(function(r){jF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jF(e,t,n){return(t=zF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zF(e){var t=LF(e,"string");return typeof t=="symbol"?t:t+""}function LF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UF(e,t){if(e==null)return{};var n,r,i=BF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qF=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),$F=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,d=UF(e,MF),f=DF({x:t,y:n,top:r,left:i,width:a,height:l},d);return!we(t)||!we(n)||!we(a)||!we(l)||!we(r)||!we(i)?null:A.createElement("path",tb({},On(f),{className:mt("recharts-cross",u),d:qF(t,n,a,l,r,i)}))};function HF(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){GF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GF(e,t,n){return(t=FF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),SM=(e,t,n)=>e.map(r=>"".concat(KF(r)," ").concat(t,"ms ").concat(n)).join(","),WF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),sc=(e,t)=>Object.keys(t).reduce((n,r)=>CC(CC({},n),{},{[r]:e(r,t[r])}),{});function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){YF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YF(e,t,n){return(t=JF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dh=(e,t,n)=>e+(t-e)*n,nb=e=>{var{from:t,to:n}=e;return t!==n},EM=(e,t,n)=>{var r=sc((i,a)=>{if(nb(a)){var[l,u]=e(a.from,a.to,a.velocity);return Kt(Kt({},a),{},{from:l,velocity:u})}return a},t);return n<1?sc((i,a)=>nb(a)&&r[i]!=null?Kt(Kt({},a),{},{velocity:dh(a.velocity,r[i].velocity,n),from:dh(a.from,r[i].from,n)}):a,t):EM(e,r,n-1)};function QF(e,t,n,r,i,a){var l,u=r.reduce((v,w)=>Kt(Kt({},v),{},{[w]:{from:e[w],velocity:0,to:t[w]}}),{}),d=()=>sc((v,w)=>w.from,u),f=()=>!Object.values(u).filter(nb).length,h=null,p=v=>{l||(l=v);var w=v-l,E=w/n.dt;u=EM(n,u,E),i(Kt(Kt(Kt({},e),t),d())),l=v,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var v;(v=h)===null||v===void 0||v()})}function ZF(e,t,n,r,i,a,l){var u=null,d=i.reduce((p,v)=>{var w=e[v],E=t[v];return w==null||E==null?p:Kt(Kt({},p),{},{[v]:[w,E]})},{}),f,h=p=>{f||(f=p);var v=(p-f)/r,w=sc((S,T)=>dh(...T,n(v)),d);if(a(Kt(Kt(Kt({},e),t),w)),v<1)u=l.setTimeout(h);else{var E=sc((S,T)=>dh(...T,n(1)),d);a(Kt(Kt(Kt({},e),t),E))}};return()=>(u=l.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const eV=(e,t,n,r,i,a)=>{var l=WF(e,t);return n==null?()=>(i(Kt(Kt({},e),t)),()=>{}):n.isStepper===!0?QF(e,t,n,l,i,a):ZF(e,t,n,r,l,i,a)};var fh=1e-4,TM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),OC=(e,t)=>n=>{var r=TM(e,t);return AM(r,n)},tV=(e,t)=>n=>{var r=TM(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return AM(i,n)},nV=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},rV=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=nV(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},iV=(e,t,n,r)=>{var i=OC(e,n),a=OC(t,r),l=tV(e,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,p=h,v=0;v<8;++v){var w=i(p)-h,E=l(p);if(Math.abs(w-h)<fh||E<fh)return a(p);p=u(p-w/E)}return a(p)};return d.isStepper=!1,d},RC=function(){return iV(...rV(...arguments))},aV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,d)=>{var f=-(l-u)*n,h=d*r,p=d+(f-h)*i/1e3,v=d*i/1e3+l;return Math.abs(v-u)<fh&&Math.abs(p)<fh?[u,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},oV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RC(e);case"spring":return aV();default:if(e.split("(")[0]==="cubic-bezier")return RC(e)}return typeof e=="function"?e:null};function sV(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(a.bind(null,f),d);return}a(d),i=e.setTimeout(a.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class lV{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function uV(){return sV(new lV)}var cV=A.createContext(uV);function dV(e,t){var n=A.useContext(cV);return A.useMemo(()=>t??n(e),[e,t,n])}var fV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xm={isSsr:fV()},hV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},kC={t:0},I0={t:1};function wm(e){var t=Pn(e,hV),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=n==="auto"?!xm.isSsr:n,p=dV(t.animationId,t.animationManager),[v,w]=A.useState(h?kC:I0),E=A.useRef(null);return A.useEffect(()=>{h||w(I0)},[h]),A.useEffect(()=>{if(!h||!r)return jo;var S=eV(kC,I0,oV(a),i,w,p.getTimeoutController()),T=()=>{E.current=S()};return p.start([d,l,T,i,u]),()=>{p.stop(),E.current&&E.current(),u()}},[h,r,i,a,l,d,u,p]),f(v.t)}function _m(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(ec(t)),r=A.useRef(e);return r.current!==e&&(n.current=ec(t),r.current=e),n.current}var mV=["radius"],pV=["radius"],PC,IC,MC,DC,jC,zC,LC,UC,BC,qC;function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){gV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gV(e,t,n){return(t=vV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vV(e){var t=yV(e,"string");return typeof t=="symbol"?t:t+""}function yV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(null,arguments)}function GC(e,t){if(e==null)return{};var n,r,i=bV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FC=(e,t,n,r,i)=>{var a=Pa(n),l=Pa(r),u=Math.min(Math.abs(a)/2,Math.abs(l)/2),d=l>=0?1:-1,f=a>=0?1:-1,h=l>=0&&a>=0||l<0&&a<0?1:0,p;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],w=0,E=4;w<E;w++){var S,T=(S=i[w])!==null&&S!==void 0?S:0;v[w]=T>u?u:T}p=Pt(PC||(PC=Jr(["M",",",""])),e,t+d*v[0]),v[0]>0&&(p+=Pt(IC||(IC=Jr(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+f*v[0],t)),p+=Pt(MC||(MC=Jr(["L ",",",""])),e+n-f*v[1],t),v[1]>0&&(p+=Pt(DC||(DC=Jr(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+n,t+d*v[1])),p+=Pt(jC||(jC=Jr(["L ",",",""])),e+n,t+r-d*v[2]),v[2]>0&&(p+=Pt(zC||(zC=Jr(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+n-f*v[2],t+r)),p+=Pt(LC||(LC=Jr(["L ",",",""])),e+f*v[3],t+r),v[3]>0&&(p+=Pt(UC||(UC=Jr(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+r-d*v[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);p=Pt(BC||(BC=Jr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*C,C,C,h,e+f*C,t,e+n-f*C,t,C,C,h,e+n,t+d*C,e+n,t+r-d*C,C,C,h,e+n-f*C,t+r,e+f*C,t+r,C,C,h,e,t+r-d*C)}else p=Pt(qC||(qC=Jr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},VC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CM=e=>{var t=Pn(e,VC),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&i(te)}catch{}},[]);var{x:a,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:p,animationDuration:v,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:S}=t,T=A.useRef(u),C=A.useRef(d),R=A.useRef(a),k=A.useRef(l),P=A.useMemo(()=>({x:a,y:l,width:u,height:d,radius:f}),[a,l,u,d,f]),D=_m(P,"rectangle-");if(a!==+a||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var O=mt("recharts-rectangle",h);if(!S){var M=On(t),{radius:B}=M,L=GC(M,mV);return A.createElement("path",hh({},L,{x:Pa(a),y:Pa(l),width:Pa(u),height:Pa(d),radius:typeof f=="number"?f:void 0,className:O,d:FC(a,l,u,d,f)}))}var K=T.current,X=C.current,H=R.current,he=k.current,ce="0px ".concat(r===-1?1:r,"px"),ge="".concat(r,"px 0px"),$=SM(["strokeDasharray"],v,typeof p=="string"?p:VC.animationEasing);return A.createElement(wm,{animationId:D,key:D,canBegin:r>0,duration:v,easing:p,isActive:S,begin:w},te=>{var ie=It(K,u,te),ue=It(X,d,te),ve=It(H,a,te),z=It(he,l,te);n.current&&(T.current=ie,C.current=ue,R.current=ve,k.current=z);var Y;E?te>0?Y={transition:$,strokeDasharray:ge}:Y={strokeDasharray:ce}:Y={strokeDasharray:ge};var le=On(t),{radius:fe}=le,Ee=GC(le,pV);return A.createElement("path",hh({},Ee,{radius:typeof f=="number"?f:void 0,className:O,d:FC(ve,z,ie,ue,f),ref:n,style:HC(HC({},Y),t.style)}))})};function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){xV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xV(e,t,n){return(t=wV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wV(e){var t=_V(e,"string");return typeof t=="symbol"?t:t+""}function _V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mh=Math.PI/180,SV=e=>e*180/Math.PI,vn=(e,t,n,r)=>({x:e+Math.cos(-mh*r)*n,y:t+Math.sin(-mh*r)*n}),EV=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},TV=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},AV=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=TV({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>a&&(d=2*Math.PI-d),{radius:l,angle:SV(d),angleInRadian:d}},CV=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},NV=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},OV=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=AV({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=CV(t),h=a,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?WC(WC({},t),{},{radius:i,angle:NV(h,t)}):null};function NM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=vn(t,n,r,i),u=vn(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var YC,JC,XC,QC,ZC,eN,tN;function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function xo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RV=(e,t)=>{var n=qn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},gf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/mh,p=d?i:i+a*h,v=vn(t,n,f,p),w=vn(t,n,r,p),E=d?i-a*h:i,S=vn(t,n,f*Math.cos(h*mh),E);return{center:v,circleTangency:w,lineTangency:S,theta:h}},OM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=RV(a,l),d=a+u,f=vn(t,n,i,a),h=vn(t,n,i,d),p=Pt(YC||(YC=xo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(a>d),h.x,h.y);if(r>0){var v=vn(t,n,r,a),w=vn(t,n,r,d);p+=Pt(JC||(JC=xo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(u)>180),+(a<=d),v.x,v.y)}else p+=Pt(XC||(XC=xo(["L ",","," Z"])),t,n);return p},kV=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=qn(f-d),{circleTangency:p,lineTangency:v,theta:w}=gf({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:E,lineTangency:S,theta:T}=gf({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(d-f):Math.abs(d-f)-w-T;if(C<0)return l?Pt(QC||(QC=xo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):OM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var R=Pt(ZC||(ZC=xo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(h<0),p.x,p.y,i,i,+(C>180),+(h<0),E.x,E.y,a,a,+(h<0),S.x,S.y);if(r>0){var{circleTangency:k,lineTangency:P,theta:D}=gf({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:O,lineTangency:M,theta:B}=gf({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),L=u?Math.abs(d-f):Math.abs(d-f)-D-B;if(L<0&&a===0)return"".concat(R,"L").concat(t,",").concat(n,"Z");R+=Pt(eN||(eN=xo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,a,a,+(h<0),O.x,O.y,r,r,+(L>180),+(h>0),k.x,k.y,a,a,+(h<0),P.x,P.y)}else R+=Pt(tN||(tN=xo(["L",",","Z"])),t,n);return R},PV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RM=e=>{var t=Pn(e,PV),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var v=mt("recharts-sector",p),w=a-i,E=qr(l,w,0,!0),S;return E>0&&Math.abs(f-h)<360?S=kV({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):S=OM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),A.createElement("path",rb({},On(t),{className:v,d:S}))};function IV(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(mI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,d=vn(r,i,a,u),f=vn(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return NM(t)}}var M0={},D0={},j0={},nN;function MV(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(j0)),j0}var rN;function DV(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MV();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(D0)),D0}var iN;function jV(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI(),n=DV();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(M0)),M0}var z0,aN;function zV(){return aN||(aN=1,z0=jV().range),z0}var LV=zV();const kM=li(LV);function Da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wx(e){let t,n,r;e.length!==2?(t=Da,n=(u,d)=>Da(e(u),d),r=(u,d)=>e(u)-d):(t=e===Da||e===UV?e:BV,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;n(u[p],d)<0?f=p+1:h=p}while(f<h)}return f}function a(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;n(u[p],d)<=0?f=p+1:h=p}while(f<h)}return f}function l(u,d,f=0,h=u.length){const p=i(u,d,f,h-1);return p>f&&r(u[p-1],d)>-r(u[p],d)?p-1:p}return{left:i,center:l,right:a}}function BV(){return 0}function PM(e){return e===null?NaN:+e}function*qV(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $V=wx(Da),Tc=$V.right;wx(PM).center;class oN extends Map{constructor(t,n=FV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(sN(this,t))}has(t){return super.has(sN(this,t))}set(t,n){return super.set(HV(this,t),n)}delete(t){return super.delete(GV(this,t))}}function sN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function HV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function GV({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function FV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VV(e=Da){if(e===Da)return IM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function IM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const KV=Math.sqrt(50),WV=Math.sqrt(10),YV=Math.sqrt(2);function ph(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=KV?10:a>=WV?5:a>=YV?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?ph(e,t,n*2):[u,d,f]}function ib(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?ph(t,e,n):ph(e,t,n);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(a-f)/-l;else for(let f=0;f<u;++f)d[f]=(a-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function ab(e,t,n){return t=+t,e=+e,n=+n,ph(e,t,n)[2]}function ob(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ab(t,e,n):ab(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function lN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function MM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?IM:VV(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(d-p)/d)*(f-d/2<0?-1:1),w=Math.max(n,Math.floor(t-f*p/d+v)),E=Math.min(r,Math.floor(t+(d-f)*p/d+v));MM(e,t,w,E,i)}const a=e[t];let l=n,u=r;for(Nu(e,n,t),i(e[r],a)>0&&Nu(e,n,r);l<u;){for(Nu(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Nu(e,n,u):(++u,Nu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Nu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function JV(e,t,n){if(e=Float64Array.from(qV(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return uN(e);if(t>=1)return lN(e);var r,i=(r-1)*t,a=Math.floor(i),l=lN(MM(e,a).subarray(0,a+1)),u=uN(e.subarray(a+1));return l+(u-l)*(i-a)}}function XV(e,t,n=PM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function QV(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sb=Symbol("implicit");function _x(){var e=new oN,t=[],n=[],r=sb;function i(a){let l=e.get(a);if(l===void 0){if(r!==sb)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new oN;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return _x(t,n).unknown(r)},Tr.apply(i,arguments),i}function Sx(){var e=_x().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function p(){var v=t().length,w=i<r,E=w?i:r,S=w?r:i;a=(S-E)/Math.max(1,v-d+f*2),u&&(a=Math.floor(a)),E+=(S-E-a*(v-d))*h,l=a*(1-d),u&&(E=Math.round(E),l=Math.round(l));var T=QV(v).map(function(C){return E+a*C});return n(w?T.reverse():T)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),p()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return Sx(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},Tr.apply(p(),arguments)}function DM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DM(t())},e}function ZV(){return DM(Sx.apply(null,arguments).paddingInner(1))}function Ex(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ac(){}var lc=.7,gh=1/lc,Zs="\\s*([+-]?\\d+)\\s*",uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e9=/^#([0-9a-f]{3,8})$/,t9=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),n9=new RegExp(`^rgb\\(${ni},${ni},${ni}\\)$`),r9=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${uc}\\)$`),i9=new RegExp(`^rgba\\(${ni},${ni},${ni},${uc}\\)$`),a9=new RegExp(`^hsl\\(${uc},${ni},${ni}\\)$`),o9=new RegExp(`^hsla\\(${uc},${ni},${ni},${uc}\\)$`),cN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ex(Ac,cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dN,formatHex:dN,formatHex8:s9,formatHsl:l9,formatRgb:fN,toString:fN});function dN(){return this.rgb().formatHex()}function s9(){return this.rgb().formatHex8()}function l9(){return zM(this).formatHsl()}function fN(){return this.rgb().formatRgb()}function cc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?hN(t):n===3?new Hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=t9.exec(e))?new Hn(t[1],t[2],t[3],1):(t=n9.exec(e))?new Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r9.exec(e))?vf(t[1],t[2],t[3],t[4]):(t=i9.exec(e))?vf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=a9.exec(e))?gN(t[1],t[2]/100,t[3]/100,1):(t=o9.exec(e))?gN(t[1],t[2]/100,t[3]/100,t[4]):cN.hasOwnProperty(e)?hN(cN[e]):e==="transparent"?new Hn(NaN,NaN,NaN,0):null}function hN(e){return new Hn(e>>16&255,e>>8&255,e&255,1)}function vf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hn(e,t,n,r)}function u9(e){return e instanceof Ac||(e=cc(e)),e?(e=e.rgb(),new Hn(e.r,e.g,e.b,e.opacity)):new Hn}function lb(e,t,n,r){return arguments.length===1?u9(e):new Hn(e,t,n,r??1)}function Hn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ex(Hn,lb,jM(Ac,{brighter(e){return e=e==null?gh:Math.pow(gh,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hn(To(this.r),To(this.g),To(this.b),vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mN,formatHex:mN,formatHex8:c9,formatRgb:pN,toString:pN}));function mN(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function c9(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function pN(){const e=vh(this.opacity);return`${e===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${e===1?")":`, ${e})`}`}function vh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function To(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wo(e){return e=To(e),(e<16?"0":"")+e.toString(16)}function gN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jr(e,t,n,r)}function zM(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof Ac||(e=cc(e)),!e)return new jr;if(e instanceof jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,d=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?a+i:2-a-i,l*=60):u=d>0&&d<1?0:l,new jr(l,u,d,e.opacity)}function d9(e,t,n,r){return arguments.length===1?zM(e):new jr(e,t,n,r??1)}function jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ex(jr,d9,jM(Ac,{brighter(e){return e=e==null?gh:Math.pow(gh,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?lc:Math.pow(lc,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hn(L0(e>=240?e-240:e+120,i,r),L0(e,i,r),L0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new jr(vN(this.h),yf(this.s),yf(this.l),vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vh(this.opacity);return`${e===1?"hsl(":"hsla("}${vN(this.h)}, ${yf(this.s)*100}%, ${yf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vN(e){return e=(e||0)%360,e<0?e+360:e}function yf(e){return Math.max(0,Math.min(1,e||0))}function L0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Tx=e=>()=>e;function f9(e,t){return function(n){return e+n*t}}function h9(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function m9(e){return(e=+e)==1?LM:function(t,n){return n-t?h9(t,n,e):Tx(isNaN(t)?n:t)}}function LM(e,t){var n=t-e;return n?f9(e,n):Tx(isNaN(e)?t:e)}const yN=(function e(t){var n=m9(t);function r(i,a){var l=n((i=lb(i)).r,(a=lb(a)).r),u=n(i.g,a.g),d=n(i.b,a.b),f=LM(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function p9(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function g9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function v9(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=ml(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function y9(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function b9(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ml(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ub=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U0=new RegExp(ub.source,"g");function x9(e){return function(){return e}}function w9(e){return function(t){return e(t)+""}}function _9(e,t){var n=ub.lastIndex=U0.lastIndex=0,r,i,a,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=ub.exec(e))&&(i=U0.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:yh(r,i)})),n=U0.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?d[0]?w9(d[0].x):x9(t):(t=d.length,function(f){for(var h=0,p;h<t;++h)u[(p=d[h]).i]=p.x(f);return u.join("")})}function ml(e,t){var n=typeof t,r;return t==null||n==="boolean"?Tx(t):(n==="number"?yh:n==="string"?(r=cc(t))?(t=r,yN):_9:t instanceof cc?yN:t instanceof Date?y9:g9(t)?p9:Array.isArray(t)?v9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?b9:yh)(e,t)}function Ax(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function S9(e,t){t===void 0&&(t=e,e=ml);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function E9(e){return function(){return e}}function bh(e){return+e}var bN=[0,1];function Cn(e){return e}function cb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:E9(isNaN(t)?NaN:.5)}function T9(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function A9(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=cb(i,r),a=n(l,a)):(r=cb(r,i),a=n(a,l)),function(u){return a(r(u))}}function C9(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=cb(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var d=Tc(e,u,1,r)-1;return a[d](i[d](u))}}function Cc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sm(){var e=bN,t=bN,n=ml,r,i,a,l=Cn,u,d,f;function h(){var v=Math.min(e.length,t.length);return l!==Cn&&(l=T9(e[0],e[v-1])),u=v>2?C9:A9,d=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(d||(d=u(e.map(r),t,n)))(r(l(v)))}return p.invert=function(v){return l(i((f||(f=u(t,e.map(r),yh)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,bh),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),n=Ax,h()},p.clamp=function(v){return arguments.length?(l=v?!0:Cn,h()):l!==Cn},p.interpolate=function(v){return arguments.length?(n=v,h()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,w){return r=v,i=w,h()}}function Cx(){return Sm()(Cn,Cn)}function N9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xh(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function sl(e){return e=xh(Math.abs(e)),e?e[1]:NaN}function O9(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),a.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function R9(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var k9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dc(e){if(!(t=k9.exec(e)))throw new Error("invalid format: "+e);var t;return new Nx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dc.prototype=Nx.prototype;function Nx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P9(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var wh;function I9(e,t){var n=xh(e,t);if(!n)return wh=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(wh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xh(e,Math.max(0,t+a-1))[0]}function xN(e,t){var n=xh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:N9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xN(e*100,t),r:xN,s:I9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _N(e){return e}var SN=Array.prototype.map,EN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M9(e){var t=e.grouping===void 0||e.thousands===void 0?_N:O9(SN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_N:R9(SN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p,v){p=dc(p);var w=p.fill,E=p.align,S=p.sign,T=p.symbol,C=p.zero,R=p.width,k=p.comma,P=p.precision,D=p.trim,O=p.type;O==="n"?(k=!0,O="g"):wN[O]||(P===void 0&&(P=12),D=!0,O="g"),(C||w==="0"&&E==="=")&&(C=!0,w="0",E="=");var M=(v&&v.prefix!==void 0?v.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),B=(T==="$"?r:/[%p]/.test(O)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),L=wN[O],K=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function X(H){var he=M,ce=B,ge,$,te;if(O==="c")ce=L(H)+ce,H="";else{H=+H;var ie=H<0||1/H<0;if(H=isNaN(H)?d:L(Math.abs(H),P),D&&(H=P9(H)),ie&&+H==0&&S!=="+"&&(ie=!1),he=(ie?S==="("?S:u:S==="-"||S==="("?"":S)+he,ce=(O==="s"&&!isNaN(H)&&wh!==void 0?EN[8+wh/3]:"")+ce+(ie&&S==="("?")":""),K){for(ge=-1,$=H.length;++ge<$;)if(te=H.charCodeAt(ge),48>te||te>57){ce=(te===46?i+H.slice(ge+1):H.slice(ge))+ce,H=H.slice(0,ge);break}}}k&&!C&&(H=t(H,1/0));var ue=he.length+H.length+ce.length,ve=ue<R?new Array(R-ue+1).join(w):"";switch(k&&C&&(H=t(ve+H,ve.length?R-ce.length:1/0),ve=""),E){case"<":H=he+H+ce+ve;break;case"=":H=he+ve+H+ce;break;case"^":H=ve.slice(0,ue=ve.length>>1)+he+H+ce+ve.slice(ue);break;default:H=ve+he+H+ce;break}return a(H)}return X.toString=function(){return p+""},X}function h(p,v){var w=Math.max(-8,Math.min(8,Math.floor(sl(v)/3)))*3,E=Math.pow(10,-w),S=f((p=dc(p),p.type="f",p),{suffix:EN[8+w/3]});return function(T){return S(E*T)}}return{format:f,formatPrefix:h}}var bf,Ox,UM;D9({thousands:",",grouping:[3],currency:["$",""]});function D9(e){return bf=M9(e),Ox=bf.format,UM=bf.formatPrefix,bf}function j9(e){return Math.max(0,-sl(Math.abs(e)))}function z9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sl(t)/3)))*3-sl(Math.abs(e)))}function L9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,sl(t)-sl(e))+1}function BM(e,t,n,r){var i=ob(e,t,n),a;switch(r=dc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=z9(i,l))&&(r.precision=a),UM(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=L9(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=j9(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ox(r)}function Ua(e){var t=e.domain;return e.ticks=function(n){var r=t();return ib(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return BM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=ab(l,u,n),f===d)return r[i]=l,r[a]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function qM(){var e=Cx();return e.copy=function(){return Cc(e,qM())},Tr.apply(e,arguments),Ua(e)}function $M(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,bh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $M(e).unknown(t)},e=arguments.length?Array.from(e,bh):[0,1],Ua(n)}function HM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function TN(e){return Math.log(e)}function AN(e){return Math.exp(e)}function U9(e){return-Math.log(-e)}function B9(e){return-Math.exp(-e)}function q9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $9(e){return e===10?q9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function H9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CN(e){return(t,n)=>-e(-t,n)}function Rx(e){const t=e(TN,AN),n=t.domain;let r=10,i,a;function l(){return i=H9(r),a=$9(r),n()[0]<0?(i=CN(i),a=CN(a),e(U9,B9)):e(TN,AN),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),w=i(h),E,S;const T=u==null?10:+u;let C=[];if(!(r%1)&&w-v<T){if(v=Math.floor(v),w=Math.ceil(w),f>0){for(;v<=w;++v)for(E=1;E<r;++E)if(S=v<0?E/a(-v):E*a(v),!(S<f)){if(S>h)break;C.push(S)}}else for(;v<=w;++v)for(E=r-1;E>=1;--E)if(S=v>0?E/a(-v):E*a(v),!(S<f)){if(S>h)break;C.push(S)}C.length*2<T&&(C=ib(f,h,T))}else C=ib(v,w,Math.min(w-v,T)).map(a);return p?C.reverse():C},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=dc(d)).precision==null&&(d.trim=!0),d=Ox(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?d(h):""}},t.nice=()=>n(HM(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function GM(){const e=Rx(Sm()).domain([1,10]);return e.copy=()=>Cc(e,GM()).base(e.base()),Tr.apply(e,arguments),e}function NN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ON(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kx(e){var t=1,n=e(NN(t),ON(t));return n.constant=function(r){return arguments.length?e(NN(t=+r),ON(t)):t},Ua(n)}function FM(){var e=kx(Sm());return e.copy=function(){return Cc(e,FM()).constant(e.constant())},Tr.apply(e,arguments)}function RN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function G9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function F9(e){return e<0?-e*e:e*e}function Px(e){var t=e(Cn,Cn),n=1;function r(){return n===1?e(Cn,Cn):n===.5?e(G9,F9):e(RN(n),RN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ua(t)}function Ix(){var e=Px(Sm());return e.copy=function(){return Cc(e,Ix()).exponent(e.exponent())},Tr.apply(e,arguments),e}function V9(){return Ix.apply(null,arguments).exponent(.5)}function kN(e){return Math.sign(e)*e*e}function K9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VM(){var e=Cx(),t=[0,1],n=!1,r;function i(a){var l=K9(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(kN(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,bh)).map(kN)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return VM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tr.apply(i,arguments),Ua(i)}function KM(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=XV(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Tc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Da),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return KM().domain(e).range(t).unknown(r)},Tr.apply(a,arguments)}function WM(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[Tc(r,d,0,n)]:a}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return WM().domain([e,t]).range(i).unknown(a)},Tr.apply(Ua(l),arguments)}function YM(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Tc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return YM().domain(e).range(t).unknown(n)},Tr.apply(i,arguments)}const B0=new Date,q0=new Date;function Wt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return d;let f;do d.push(f=new Date(+a)),t(a,u),e(a);while(f<a&&a<l);return d},i.filter=a=>Wt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(B0.setTime(+a),q0.setTime(+l),e(B0),e(q0),Math.floor(n(B0,q0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const _h=Wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_h.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):_h);_h.range;const Ri=1e3,br=Ri*60,ki=br*60,zi=ki*24,Mx=zi*7,PN=zi*30,$0=zi*365,_o=Wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCSeconds());_o.range;const Dx=Wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getMinutes());Dx.range;const jx=Wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getUTCMinutes());jx.range;const zx=Wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri-e.getMinutes()*br)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getHours());zx.range;const Lx=Wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCHours());Lx.range;const Nc=Wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*br)/zi,e=>e.getDate()-1);Nc.range;const Em=Wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>e.getUTCDate()-1);Em.range;const JM=Wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>Math.floor(e/zi));JM.range;function Lo(e){return Wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*br)/Mx)}const Tm=Lo(0),Sh=Lo(1),W9=Lo(2),Y9=Lo(3),ll=Lo(4),J9=Lo(5),X9=Lo(6);Tm.range;Sh.range;W9.range;Y9.range;ll.range;J9.range;X9.range;function Uo(e){return Wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Mx)}const Am=Uo(0),Eh=Uo(1),Q9=Uo(2),Z9=Uo(3),ul=Uo(4),eK=Uo(5),tK=Uo(6);Am.range;Eh.range;Q9.range;Z9.range;ul.range;eK.range;tK.range;const Ux=Wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ux.range;const Bx=Wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bx.range;const Li=Wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Li.range;const Ui=Wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ui.range;function XM(e,t,n,r,i,a){const l=[[_o,1,Ri],[_o,5,5*Ri],[_o,15,15*Ri],[_o,30,30*Ri],[a,1,br],[a,5,5*br],[a,15,15*br],[a,30,30*br],[i,1,ki],[i,3,3*ki],[i,6,6*ki],[i,12,12*ki],[r,1,zi],[r,2,2*zi],[n,1,Mx],[t,1,PN],[t,3,3*PN],[e,1,$0]];function u(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const w=p&&typeof p.range=="function"?p:d(f,h,p),E=w?w.range(f,+h+1):[];return v?E.reverse():E}function d(f,h,p){const v=Math.abs(h-f)/p,w=wx(([,,T])=>T).right(l,v);if(w===l.length)return e.every(ob(f/$0,h/$0,p));if(w===0)return _h.every(Math.max(ob(f,h,p),1));const[E,S]=l[v/l[w-1][2]<l[w][2]/v?w-1:w];return E.every(S)}return[u,d]}const[nK,rK]=XM(Ui,Bx,Am,JM,Lx,jx),[iK,aK]=XM(Li,Ux,Tm,Nc,zx,Dx);function H0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function G0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ou(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function oK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Ru(i),h=ku(i),p=Ru(a),v=ku(a),w=Ru(l),E=ku(l),S=Ru(u),T=ku(u),C=Ru(d),R=ku(d),k={a:te,A:ie,b:ue,B:ve,c:null,d:LN,e:LN,f:OK,g:UK,G:qK,H:AK,I:CK,j:NK,L:QM,m:RK,M:kK,p:z,q:Y,Q:qN,s:$N,S:PK,u:IK,U:MK,V:DK,w:jK,W:zK,x:null,X:null,y:LK,Y:BK,Z:$K,"%":BN},P={a:le,A:fe,b:Ee,B:je,c:null,d:UN,e:UN,f:VK,g:nW,G:iW,H:HK,I:GK,j:FK,L:e2,m:KK,M:WK,p:_e,q:lt,Q:qN,s:$N,S:YK,u:JK,U:XK,V:QK,w:ZK,W:eW,x:null,X:null,y:tW,Y:rW,Z:aW,"%":BN},D={a:K,A:X,b:H,B:he,c:ce,d:jN,e:jN,f:_K,g:DN,G:MN,H:zN,I:zN,j:yK,L:wK,m:vK,M:bK,p:L,q:gK,Q:EK,s:TK,S:xK,u:dK,U:fK,V:hK,w:cK,W:mK,x:ge,X:$,y:DN,Y:MN,Z:pK,"%":SK};k.x=O(n,k),k.X=O(r,k),k.c=O(t,k),P.x=O(n,P),P.X=O(r,P),P.c=O(t,P);function O(Z,Ie){return function(Le){var se=[],_t=-1,Be=0,St=Z.length,oe,Q,Me;for(Le instanceof Date||(Le=new Date(+Le));++_t<St;)Z.charCodeAt(_t)===37&&(se.push(Z.slice(Be,_t)),(Q=IN[oe=Z.charAt(++_t)])!=null?oe=Z.charAt(++_t):Q=oe==="e"?" ":"0",(Me=Ie[oe])&&(oe=Me(Le,Q)),se.push(oe),Be=_t+1);return se.push(Z.slice(Be,_t)),se.join("")}}function M(Z,Ie){return function(Le){var se=Ou(1900,void 0,1),_t=B(se,Z,Le+="",0),Be,St;if(_t!=Le.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(Ie&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Be=G0(Ou(se.y,0,1)),St=Be.getUTCDay(),Be=St>4||St===0?Eh.ceil(Be):Eh(Be),Be=Em.offset(Be,(se.V-1)*7),se.y=Be.getUTCFullYear(),se.m=Be.getUTCMonth(),se.d=Be.getUTCDate()+(se.w+6)%7):(Be=H0(Ou(se.y,0,1)),St=Be.getDay(),Be=St>4||St===0?Sh.ceil(Be):Sh(Be),Be=Nc.offset(Be,(se.V-1)*7),se.y=Be.getFullYear(),se.m=Be.getMonth(),se.d=Be.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),St="Z"in se?G0(Ou(se.y,0,1)).getUTCDay():H0(Ou(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(St+5)%7:se.w+se.U*7-(St+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,G0(se)):H0(se)}}function B(Z,Ie,Le,se){for(var _t=0,Be=Ie.length,St=Le.length,oe,Q;_t<Be;){if(se>=St)return-1;if(oe=Ie.charCodeAt(_t++),oe===37){if(oe=Ie.charAt(_t++),Q=D[oe in IN?Ie.charAt(_t++):oe],!Q||(se=Q(Z,Le,se))<0)return-1}else if(oe!=Le.charCodeAt(se++))return-1}return se}function L(Z,Ie,Le){var se=f.exec(Ie.slice(Le));return se?(Z.p=h.get(se[0].toLowerCase()),Le+se[0].length):-1}function K(Z,Ie,Le){var se=w.exec(Ie.slice(Le));return se?(Z.w=E.get(se[0].toLowerCase()),Le+se[0].length):-1}function X(Z,Ie,Le){var se=p.exec(Ie.slice(Le));return se?(Z.w=v.get(se[0].toLowerCase()),Le+se[0].length):-1}function H(Z,Ie,Le){var se=C.exec(Ie.slice(Le));return se?(Z.m=R.get(se[0].toLowerCase()),Le+se[0].length):-1}function he(Z,Ie,Le){var se=S.exec(Ie.slice(Le));return se?(Z.m=T.get(se[0].toLowerCase()),Le+se[0].length):-1}function ce(Z,Ie,Le){return B(Z,t,Ie,Le)}function ge(Z,Ie,Le){return B(Z,n,Ie,Le)}function $(Z,Ie,Le){return B(Z,r,Ie,Le)}function te(Z){return l[Z.getDay()]}function ie(Z){return a[Z.getDay()]}function ue(Z){return d[Z.getMonth()]}function ve(Z){return u[Z.getMonth()]}function z(Z){return i[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function le(Z){return l[Z.getUTCDay()]}function fe(Z){return a[Z.getUTCDay()]}function Ee(Z){return d[Z.getUTCMonth()]}function je(Z){return u[Z.getUTCMonth()]}function _e(Z){return i[+(Z.getUTCHours()>=12)]}function lt(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var Ie=O(Z+="",k);return Ie.toString=function(){return Z},Ie},parse:function(Z){var Ie=M(Z+="",!1);return Ie.toString=function(){return Z},Ie},utcFormat:function(Z){var Ie=O(Z+="",P);return Ie.toString=function(){return Z},Ie},utcParse:function(Z){var Ie=M(Z+="",!0);return Ie.toString=function(){return Z},Ie}}}var IN={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,sK=/^%/,lK=/[\\^$*+?|[\]().{}]/g;function et(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function uK(e){return e.replace(lK,"\\$&")}function Ru(e){return new RegExp("^(?:"+e.map(uK).join("|")+")","i")}function ku(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cK(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function MN(e,t,n){var r=rn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function DN(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gK(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vK(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jN(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zN(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bK(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function wK(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _K(e,t,n){var r=rn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function SK(e,t,n){var r=sK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function EK(e,t,n){var r=rn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function TK(e,t,n){var r=rn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function LN(e,t){return et(e.getDate(),t,2)}function AK(e,t){return et(e.getHours(),t,2)}function CK(e,t){return et(e.getHours()%12||12,t,2)}function NK(e,t){return et(1+Nc.count(Li(e),e),t,3)}function QM(e,t){return et(e.getMilliseconds(),t,3)}function OK(e,t){return QM(e,t)+"000"}function RK(e,t){return et(e.getMonth()+1,t,2)}function kK(e,t){return et(e.getMinutes(),t,2)}function PK(e,t){return et(e.getSeconds(),t,2)}function IK(e){var t=e.getDay();return t===0?7:t}function MK(e,t){return et(Tm.count(Li(e)-1,e),t,2)}function ZM(e){var t=e.getDay();return t>=4||t===0?ll(e):ll.ceil(e)}function DK(e,t){return e=ZM(e),et(ll.count(Li(e),e)+(Li(e).getDay()===4),t,2)}function jK(e){return e.getDay()}function zK(e,t){return et(Sh.count(Li(e)-1,e),t,2)}function LK(e,t){return et(e.getFullYear()%100,t,2)}function UK(e,t){return e=ZM(e),et(e.getFullYear()%100,t,2)}function BK(e,t){return et(e.getFullYear()%1e4,t,4)}function qK(e,t){var n=e.getDay();return e=n>=4||n===0?ll(e):ll.ceil(e),et(e.getFullYear()%1e4,t,4)}function $K(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+et(t/60|0,"0",2)+et(t%60,"0",2)}function UN(e,t){return et(e.getUTCDate(),t,2)}function HK(e,t){return et(e.getUTCHours(),t,2)}function GK(e,t){return et(e.getUTCHours()%12||12,t,2)}function FK(e,t){return et(1+Em.count(Ui(e),e),t,3)}function e2(e,t){return et(e.getUTCMilliseconds(),t,3)}function VK(e,t){return e2(e,t)+"000"}function KK(e,t){return et(e.getUTCMonth()+1,t,2)}function WK(e,t){return et(e.getUTCMinutes(),t,2)}function YK(e,t){return et(e.getUTCSeconds(),t,2)}function JK(e){var t=e.getUTCDay();return t===0?7:t}function XK(e,t){return et(Am.count(Ui(e)-1,e),t,2)}function t2(e){var t=e.getUTCDay();return t>=4||t===0?ul(e):ul.ceil(e)}function QK(e,t){return e=t2(e),et(ul.count(Ui(e),e)+(Ui(e).getUTCDay()===4),t,2)}function ZK(e){return e.getUTCDay()}function eW(e,t){return et(Eh.count(Ui(e)-1,e),t,2)}function tW(e,t){return et(e.getUTCFullYear()%100,t,2)}function nW(e,t){return e=t2(e),et(e.getUTCFullYear()%100,t,2)}function rW(e,t){return et(e.getUTCFullYear()%1e4,t,4)}function iW(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ul(e):ul.ceil(e),et(e.getUTCFullYear()%1e4,t,4)}function aW(){return"+0000"}function BN(){return"%"}function qN(e){return+e}function $N(e){return Math.floor(+e/1e3)}var js,n2,r2;oW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oW(e){return js=oK(e),n2=js.format,js.parse,r2=js.utcFormat,js.utcParse,js}function sW(e){return new Date(e)}function lW(e){return e instanceof Date?+e:+new Date(+e)}function qx(e,t,n,r,i,a,l,u,d,f){var h=Cx(),p=h.invert,v=h.domain,w=f(".%L"),E=f(":%S"),S=f("%I:%M"),T=f("%I %p"),C=f("%a %d"),R=f("%b %d"),k=f("%B"),P=f("%Y");function D(O){return(d(O)<O?w:u(O)<O?E:l(O)<O?S:a(O)<O?T:r(O)<O?i(O)<O?C:R:n(O)<O?k:P)(O)}return h.invert=function(O){return new Date(p(O))},h.domain=function(O){return arguments.length?v(Array.from(O,lW)):v().map(sW)},h.ticks=function(O){var M=v();return e(M[0],M[M.length-1],O??10)},h.tickFormat=function(O,M){return M==null?D:f(M)},h.nice=function(O){var M=v();return(!O||typeof O.range!="function")&&(O=t(M[0],M[M.length-1],O??10)),O?v(HM(M,O)):h},h.copy=function(){return Cc(h,qx(e,t,n,r,i,a,l,u,d,f))},h}function uW(){return Tr.apply(qx(iK,aK,Li,Ux,Tm,Nc,zx,Dx,_o,n2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cW(){return Tr.apply(qx(nK,rK,Ui,Bx,Am,Em,Lx,jx,_o,r2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cm(){var e=0,t=1,n,r,i,a,l=Cn,u=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(l=p,f):l};function h(p){return function(v){var w,E;return arguments.length?([w,E]=v,l=p(w,E),f):[l(0),l(1)]}}return f.range=h(ml),f.rangeRound=h(Ax),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function Ba(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i2(){var e=Ua(Cm()(Cn));return e.copy=function(){return Ba(e,i2())},Wi.apply(e,arguments)}function a2(){var e=Rx(Cm()).domain([1,10]);return e.copy=function(){return Ba(e,a2()).base(e.base())},Wi.apply(e,arguments)}function o2(){var e=kx(Cm());return e.copy=function(){return Ba(e,o2()).constant(e.constant())},Wi.apply(e,arguments)}function $x(){var e=Px(Cm());return e.copy=function(){return Ba(e,$x()).exponent(e.exponent())},Wi.apply(e,arguments)}function dW(){return $x.apply(null,arguments).exponent(.5)}function s2(){var e=[],t=Cn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Tc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Da),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>JV(e,a/r))},n.copy=function(){return s2(t).domain(e)},Wi.apply(n,arguments)}function Nm(){var e=0,t=.5,n=1,r=1,i,a,l,u,d,f=Cn,h,p=!1,v;function w(S){return isNaN(S=+S)?v:(S=.5+((S=+h(S))-a)*(r*S<r*a?u:d),f(p?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([e,t,n]=S,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,w):[e,t,n]},w.clamp=function(S){return arguments.length?(p=!!S,w):p},w.interpolator=function(S){return arguments.length?(f=S,w):f};function E(S){return function(T){var C,R,k;return arguments.length?([C,R,k]=T,f=S9(S,[C,R,k]),w):[f(0),f(.5),f(1)]}}return w.range=E(ml),w.rangeRound=E(Ax),w.unknown=function(S){return arguments.length?(v=S,w):v},function(S){return h=S,i=S(e),a=S(t),l=S(n),u=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),r=a<i?-1:1,w}}function l2(){var e=Ua(Nm()(Cn));return e.copy=function(){return Ba(e,l2())},Wi.apply(e,arguments)}function u2(){var e=Rx(Nm()).domain([.1,1,10]);return e.copy=function(){return Ba(e,u2()).base(e.base())},Wi.apply(e,arguments)}function c2(){var e=kx(Nm());return e.copy=function(){return Ba(e,c2()).constant(e.constant())},Wi.apply(e,arguments)}function Hx(){var e=Px(Nm());return e.copy=function(){return Ba(e,Hx()).exponent(e.exponent())},Wi.apply(e,arguments)}function fW(){return Hx.apply(null,arguments).exponent(.5)}const zu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sx,scaleDiverging:l2,scaleDivergingLog:u2,scaleDivergingPow:Hx,scaleDivergingSqrt:fW,scaleDivergingSymlog:c2,scaleIdentity:$M,scaleImplicit:sb,scaleLinear:qM,scaleLog:GM,scaleOrdinal:_x,scalePoint:ZV,scalePow:Ix,scaleQuantile:KM,scaleQuantize:WM,scaleRadial:VM,scaleSequential:i2,scaleSequentialLog:a2,scaleSequentialPow:$x,scaleSequentialQuantile:s2,scaleSequentialSqrt:dW,scaleSequentialSymlog:o2,scaleSqrt:V9,scaleSymlog:FM,scaleThreshold:YM,scaleTime:uW,scaleUtc:cW,tickFormat:BM},Symbol.toStringTag,{value:"Module"}));var Yi=e=>e.chartData,d2=W([Yi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gx=(e,t,n,r)=>r?d2(e):Yi(e),hW=(e,t,n)=>n?d2(e):Yi(e);function Bi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Je(t)&&Je(n))return!0}return!1}function HN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function f2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Je(n))i=n;else if(typeof n=="function")return;if(Je(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Bi(l))return l}}function mW(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Bi(r))return HN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(we(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&tC.test(i)){var d=tC.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(we(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&nC.test(a)){var h=nC.exec(a);if(h==null||h[1]==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var v=[l,u];if(Bi(v))return t==null?v:HN(v,t,n)}}}var pl=1e9,pW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vx,At=!0,Sr="[DecimalError] ",Ao=Sr+"Invalid argument: ",Fx=Sr+"Exponent out of range: ",gl=Math.floor,mo=Math.pow,gW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,en=1e7,wt=7,h2=9007199254740991,Th=gl(h2/wt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(e){return Pi(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,n=t.constructor;return gt(Pi(t,new n(e),0,1),n.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Gt(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(nr))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(nr)?new r(0):(At=!1,t=Pi(fc(n,a),fc(e,a),a),At=!0,gt(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g2(t,e):m2(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Sr+"NaN");return n.s?(At=!1,t=Pi(n,e,0,1).times(e),At=!0,n.minus(t)):gt(new r(n),i)};be.naturalExponential=be.exp=function(){return p2(this)};be.naturalLogarithm=be.ln=function(){return fc(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?m2(t,e):g2(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ao+e);if(t=Gt(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};be.squareRoot=be.sqrt=function(){var e,t,n,r,i,a,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Sr+"NaN")}for(e=Gt(u),At=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ti(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=gl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(a=r,r=a.plus(Pi(u,a,l+2)).times(.5),ti(a.d).slice(0,l)===(t=ti(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(gt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return At=!0,gt(r,n)};be.times=be.mul=function(e){var t,n,r,i,a,l,u,d,f,h=this,p=h.constructor,v=h.d,w=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,d=v.length,f=w.length,d<f&&(a=v,v=w,w=a,l=d,d=f,f=l),a=[],l=d+f,r=l;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=a[i]+w[r]*v[i-r-1]+t,a[i--]=u%en|0,t=u/en|0;a[i]=(a[i]+t)%en|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,At?gt(e,p.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(si(e,0,pl),t===void 0?t=r.rounding:si(t,0,8),gt(n,e+Gt(n)+1,t))};be.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Io(r,!0):(si(e,0,pl),t===void 0?t=i.rounding:si(t,0,8),r=gt(new i(r),e+1,t),n=Io(r,!0,e+1)),n};be.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Io(i):(si(e,0,pl),t===void 0?t=a.rounding:si(t,0,8),r=gt(new a(i),e+Gt(i)+1,t),n=Io(r.abs(),!1,e+Gt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Gt(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,n,r,i,a,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(nr);if(u=new d(u),!u.s){if(e.s<1)throw Error(Sr+"Infinity");return u}if(u.eq(nr))return u;if(r=d.precision,e.eq(nr))return gt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=h2){for(i=new d(nr),t=Math.ceil(r/wt+4),At=!1;n%2&&(i=i.times(u),FN(i.d,t)),n=gl(n/2),n!==0;)u=u.times(u),FN(u.d,t);return At=!0,e.s<0?new d(nr).div(i):gt(i,r)}}else if(a<0)throw Error(Sr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,At=!1,i=e.times(fc(u,r+f)),At=!0,i=p2(i),i.s=a,i};be.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Gt(i),r=Io(i,n<=a.toExpNeg||n>=a.toExpPos)):(si(e,1,pl),t===void 0?t=a.rounding:si(t,0,8),i=gt(new a(i),e,t),n=Gt(i),r=Io(i,e<=n||n<=a.toExpNeg,e)),r};be.toSignificantDigits=be.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(si(e,1,pl),t===void 0?t=r.rounding:si(t,0,8)),gt(new r(n),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gt(e),n=e.constructor;return Io(e,t<=n.toExpNeg||t>=n.toExpPos)};function m2(e,t){var n,r,i,a,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),At?gt(t,p):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),a=l-i,a){for(a<0?(r=d,a=-a,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(p/wt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,r=f,f=d,d=r),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/en|0,d[a]%=en;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,At?gt(t,p):t}function si(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ao+e)}function ti(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=wt-r.length,n&&(a+=Na(n)),a+=r;l=e[t],r=l+"",n=wt-r.length,n&&(a+=Na(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Pi=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%en|0,l=a/en|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,d;if(a!=l)d=a>l?1:-1;else for(u=d=0;u<a;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*en+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,d,f,h,p,v,w,E,S,T,C,R,k,P,D,O,M,B,L=r.constructor,K=r.s==i.s?1:-1,X=r.d,H=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Sr+"Division by zero");for(d=r.e-i.e,M=H.length,D=X.length,w=new L(K),E=w.d=[],f=0;H[f]==(X[f]||0);)++f;if(H[f]>(X[f]||0)&&--d,a==null?R=a=L.precision:l?R=a+(Gt(r)-Gt(i))+1:R=a,R<0)return new L(0);if(R=R/wt+2|0,f=0,M==1)for(h=0,H=H[0],R++;(f<D||h)&&R--;f++)k=h*en+(X[f]||0),E[f]=k/H|0,h=k%H|0;else{for(h=en/(H[0]+1)|0,h>1&&(H=e(H,h),X=e(X,h),M=H.length,D=X.length),P=M,S=X.slice(0,M),T=S.length;T<M;)S[T++]=0;B=H.slice(),B.unshift(0),O=H[0],H[1]>=en/2&&++O;do h=0,u=t(H,S,M,T),u<0?(C=S[0],M!=T&&(C=C*en+(S[1]||0)),h=C/O|0,h>1?(h>=en&&(h=en-1),p=e(H,h),v=p.length,T=S.length,u=t(p,S,v,T),u==1&&(h--,n(p,M<v?B:H,v))):(h==0&&(u=h=1),p=H.slice()),v=p.length,v<T&&p.unshift(0),n(S,p,T),u==-1&&(T=S.length,u=t(H,S,M,T),u<1&&(h++,n(S,M<T?B:H,T))),T=S.length):u===0&&(h++,S=[0]),E[f++]=h,u&&S[0]?S[T++]=X[P]||0:(S=[X[P]],T=1);while((P++<D||S[0]!==void 0)&&R--)}return E[0]||E.shift(),w.e=d,gt(w,l?a+Gt(w)+1:a)}})();function p2(e,t){var n,r,i,a,l,u,d=0,f=0,h=e.constructor,p=h.precision;if(Gt(e)>16)throw Error(Fx+Gt(e));if(!e.s)return new h(nr);for(At=!1,u=p,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(mo(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new h(nr),h.precision=u;;){if(i=gt(i.times(e),u),n=n.times(++d),l=a.plus(Pi(i,n,u)),ti(l.d).slice(0,u)===ti(a.d).slice(0,u)){for(;f--;)a=gt(a.times(a),u);return h.precision=p,t==null?(At=!0,gt(a,p)):a}a=l}}function Gt(e){for(var t=e.e*wt,n=e.d[0];n>=10;n/=10)t++;return t}function F0(e,t,n){if(t>e.LN10.sd())throw At=!0,n&&(e.precision=n),Error(Sr+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function Na(e){for(var t="";e--;)t+="0";return t}function fc(e,t){var n,r,i,a,l,u,d,f,h,p=1,v=10,w=e,E=w.d,S=w.constructor,T=S.precision;if(w.s<1)throw Error(Sr+(w.s?"NaN":"-Infinity"));if(w.eq(nr))return new S(0);if(t==null?(At=!1,f=T):f=t,w.eq(10))return t==null&&(At=!0),F0(S,f);if(f+=v,S.precision=f,n=ti(E),r=n.charAt(0),a=Gt(w),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=ti(w.d),r=n.charAt(0),p++;a=Gt(w),r>1?(w=new S("0."+n),a++):w=new S(r+"."+n.slice(1))}else return d=F0(S,f+2,T).times(a+""),w=fc(new S(r+"."+n.slice(1)),f-v).plus(d),S.precision=T,t==null?(At=!0,gt(w,T)):w;for(u=l=w=Pi(w.minus(nr),w.plus(nr),f),h=gt(w.times(w),f),i=3;;){if(l=gt(l.times(h),f),d=u.plus(Pi(l,new S(i),f)),ti(d.d).slice(0,f)===ti(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(F0(S,f+2,T).times(a+""))),u=Pi(u,new S(p),f),S.precision=T,t==null?(At=!0,gt(u,T)):u;u=d,i+=2}}function GN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=gl(n/wt),e.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wt;r<i;)e.d.push(+t.slice(r,r+=wt));t=t.slice(r),r=wt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),At&&(e.e>Th||e.e<-Th))throw Error(Fx+n)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,n){var r,i,a,l,u,d,f,h,p=e.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=wt,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/wt),a=p.length,h>=a)return e;for(f=a=p[h],l=1;a>=10;a/=10)l++;r%=wt,i=r-wt+l}if(n!==void 0&&(a=mo(10,l-i-1),u=f/a%10|0,d=t<0||p[h+1]!==void 0||f%a,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/mo(10,l-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return d?(a=Gt(e),p.length=1,t=t-a-1,p[0]=mo(10,(wt-t%wt)%wt),e.e=gl(-t/wt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=mo(10,wt-r),p[h]=i>0?(f/mo(10,l-i)%mo(10,i)|0)*a:0),d)for(;;)if(h==0){(p[0]+=a)==en&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=en)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(At&&(e.e>Th||e.e<-Th))throw Error(Fx+Gt(e));return e}function g2(e,t){var n,r,i,a,l,u,d,f,h,p,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),At?gt(t,w):t;if(d=e.d,p=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=p.length):(n=p,r=f,u=d.length),i=Math.max(Math.ceil(w/wt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=p[i]){h=d[i]<p[i];break}l=0}for(h&&(n=d,d=p,p=n,t.s=-t.s),u=d.length,i=p.length-u;i>0;--i)d[u++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=en-1;--d[a],d[i]+=en}d[i]-=p[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,At?gt(t,w):t):new v(0)}function Io(e,t,n){var r,i=Gt(e),a=ti(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Na(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Na(-i-1)+a,n&&(r=n-l)>0&&(a+=Na(r))):i>=l?(a+=Na(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Na(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Na(r))),e.s<0?"-"+a:a}function FN(e,t){if(e.length>t)return e.length=t,!0}function v2(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ao+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return GN(l,a.toString())}else if(typeof a!="string")throw Error(Ao+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,gW.test(a))GN(l,a);else throw Error(Ao+a)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=v2,i.config=i.set=vW,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function vW(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,n,r,i=["precision",1,pl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(gl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ao+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ao+n+": "+r);return this}var Vx=v2(pW);nr=new Vx(1);const ot=Vx;function y2(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function b2(e,t,n){for(var r=new ot(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var x2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},w2=(e,t,n)=>{if(e.lte(0))return new ot(0);var r=y2(e.toNumber()),i=new ot(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new ot(Math.ceil(a.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new ot(d.toNumber()):new ot(Math.ceil(d.toNumber()))},yW=(e,t,n)=>{var r=new ot(1),i=new ot(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new ot(10).pow(y2(e)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ot(Math.floor(e)))}else e===0?i=new ot(Math.floor((t-1)/2)):n||(i=new ot(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(i.add(new ot(d-l).mul(r)).toNumber());return u},_2=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var l=w2(new ot(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new ot(0):(u=new ot(t).add(n).div(2),u=u.sub(new ot(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new ot(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?_2(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new ot(d).mul(l)),tickMax:u.add(new ot(f).mul(l))})},bW=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=x2([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),d];return n>r?f.reverse():f}if(u===d)return yW(u,i,a);var{step:h,tickMin:p,tickMax:v}=_2(u,d,l,a,0),w=b2(p,v.add(new ot(.1).mul(h)),h);return n>r?w.reverse():w},xW=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=x2([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=w2(new ot(u).sub(l).div(d-1),a,0),h=[...b2(new ot(l),new ot(u),f),u];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},S2=e=>e.rootProps.maxBarSize,wW=e=>e.rootProps.barGap,E2=e=>e.rootProps.barCategoryGap,_W=e=>e.rootProps.barSize,Om=e=>e.rootProps.stackOffset,T2=e=>e.rootProps.reverseStackOrder,Kx=e=>e.options.chartName,Wx=e=>e.rootProps.syncId,A2=e=>e.rootProps.syncMethod,Yx=e=>e.options.eventEmitter,tn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},lo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Xr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Rm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function km(e,t,n){if(n!=="auto")return n;if(e!=null)return Fi(e,t)?"category":"number"}function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){SW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SW(e,t,n){return(t=EW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KN={allowDataOverflow:lo.allowDataOverflow,allowDecimals:lo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:lo.angleAxisId,includeHidden:!1,name:void 0,reversed:lo.reversed,scale:lo.scale,tick:lo.tick,tickCount:void 0,ticks:void 0,type:lo.type,unit:void 0},WN={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:Xr.includeHidden,name:void 0,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},AW=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Jx=W([AW,hM],(e,t)=>{var n;if(e!=null)return e;var r=(n=km(t,"angleAxis",KN.type))!==null&&n!==void 0?n:"category";return Ah(Ah({},KN),{},{type:r})}),CW=(e,t)=>e.polarAxis.radiusAxis[t],Xx=W([CW,hM],(e,t)=>{var n;if(e!=null)return e;var r=(n=km(t,"radiusAxis",WN.type))!==null&&n!==void 0?n:"category";return Ah(Ah({},WN),{},{type:r})}),Pm=e=>e.polarOptions,Qx=W([Vi,Ki,nn],EV),C2=W([Pm,Qx],(e,t)=>{if(e!=null)return qr(e.innerRadius,t,0)}),N2=W([Pm,Qx],(e,t)=>{if(e!=null)return qr(e.outerRadius,t,t*.8)}),NW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},O2=W([Pm],NW);W([Jx,O2],Rm);var R2=W([Qx,C2,N2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});W([Xx,R2],Rm);var k2=W([st,Pm,C2,N2,Vi,Ki],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:qr(l,i,i/2),cy:qr(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),an=(e,t)=>t,Im=(e,t,n)=>n;function Zx(e){return e==null?void 0:e.id}function P2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=Zx(u);f.forEach((p,v)=>{var w=a==null||i?v:String(Ht(p,a,null)),E=Ht(p,u.dataKey,0),S;l.has(w)?S=l.get(w):S={},Object.assign(S,{[h]:E}),l.set(w,S)})}}),Array.from(l.values())}function Mm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Dm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function jm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function OW(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var on=e=>{var t=st(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vl=e=>e.tooltip.settings.axisId;function RW(e){if(e in zu)return zu[e]();var t="scale".concat(bc(e));if(t in zu)return zu[t]()}function YN(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],u=i[1];return l<=u?a>=l&&a<=u:a>=u&&a<=l},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,l)=>{var u=e(a);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var d=e.bandwidth();switch(l.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function JN(e,t,n){if(typeof e=="function")return YN(e.copy().domain(t).range(n));if(e!=null){var r=RW(e);if(r!=null)return r.domain(t).range(n),YN(r)}}var kW=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Bi(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];Je(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){PW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PW(e,t,n){return(t=IW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var db=[0,"auto"],Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},I2=(e,t)=>e.cartesianAxis.xAxis[t],Ji=(e,t)=>{var n=I2(e,t);return n??Qt},Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:db,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_c},M2=(e,t)=>e.cartesianAxis.yAxis[t],Xi=(e,t)=>{var n=M2(e,t);return n??Zt},DW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ew=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??DW},In=(e,t,n)=>{switch(t){case"xAxis":return Ji(e,n);case"yAxis":return Xi(e,n);case"zAxis":return ew(e,n);case"angleAxis":return Jx(e,n);case"radiusAxis":return Xx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jW=(e,t,n)=>{switch(t){case"xAxis":return Ji(e,n);case"yAxis":return Xi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Oc=(e,t,n)=>{switch(t){case"xAxis":return Ji(e,n);case"yAxis":return Xi(e,n);case"angleAxis":return Jx(e,n);case"radiusAxis":return Xx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},D2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function j2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var zm=e=>e.graphicalItems.cartesianItems,zW=W([an,Im],j2),z2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Rc=W([zm,In,zW],z2,{memoizeOptions:{resultEqualityCheck:jm}}),L2=W([Rc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Mm)),U2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),LW=W([Rc],U2),B2=e=>e.map(t=>t.data).filter(Boolean).flat(1),UW=W([Rc],B2,{memoizeOptions:{resultEqualityCheck:jm}}),q2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},tw=W([UW,Gx],q2),$2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ht(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ht(i,r)}))):e.map(r=>({value:r})),Lm=W([tw,In,Rc],$2);function H2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mf(e){if(ai(e)||e instanceof Date){var t=Number(e);if(Je(t))return t}}function QN(e){if(Array.isArray(e)){var t=[Mf(e[0]),Mf(e[1])];return Bi(t)?t:void 0}var n=Mf(e);if(n!=null)return[n,n]}function qi(e){return e.map(Mf).filter($n)}function BW(e,t,n){return!n||typeof t!="number"||ii(t)?[]:n.length?qi(n.flatMap(r=>{var i=Ht(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!Je(a)||!Je(l)))return[t-a,t+l]})):[]}var Yt=e=>{var t=on(e),n=vl(e);return Oc(e,t,n)},kc=W([Yt],e=>e==null?void 0:e.dataKey),qW=W([L2,Gx,Yt],P2),G2=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,h=f.map(Zx);return[u,{stackedData:pG(e,h,n),graphicalItems:f}]}))},fb=W([qW,L2,Om,T2],G2),F2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=xG(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},$W=W([In],e=>e.allowDataOverflow),nw=e=>{var t;if(e==null||!("domain"in e))return db;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=qi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:db},V2=W([In],nw),K2=W([V2,$W],f2),HW=W([fb,Yi,an,K2],F2,{memoizeOptions:{resultEqualityCheck:Dm}}),rw=e=>e.errorBars,GW=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>H2(n,r)),Nh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},W2=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var f,h,p=(f=r[d.id])===null||f===void 0?void 0:f.filter(C=>H2(i,C)),v=Ht(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),w=BW(u,v,p);if(w.length>=2){var E=Math.min(...w),S=Math.max(...w);(a==null||E<a)&&(a=E),(l==null||S>l)&&(l=S)}var T=QN(v);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=QN(Ht(u,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Je(a)&&Je(l))return[a,l]},FW=W([tw,In,LW,rw,an],W2,{memoizeOptions:{resultEqualityCheck:Dm}});function VW(e){var{value:t}=e;if(ai(t)||t instanceof Date)return t}var KW=(e,t,n)=>{var r=e.map(VW).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&cI(r))?kM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Y2=e=>e.referenceElements.dots,yl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),WW=W([Y2,an,Im],yl),J2=e=>e.referenceElements.areas,YW=W([J2,an,Im],yl),X2=e=>e.referenceElements.lines,JW=W([X2,an,Im],yl),Q2=(e,t)=>{if(e!=null){var n=qi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},XW=W(WW,an,Q2),Z2=(e,t)=>{if(e!=null){var n=qi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},QW=W([YW,an],Z2);function ZW(e){var t;if(e.x!=null)return qi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:qi(n)}function e7(e){var t;if(e.y!=null)return qi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:qi(n)}var eD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?ZW(r):e7(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},t7=W([JW,an],eD),n7=W(XW,t7,QW,(e,t,n)=>Nh(e,n,t)),tD=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Nh(r,a,i):Nh(a,i);return mW(t,f,e.allowDataOverflow)},r7=W([In,V2,K2,HW,FW,n7,st,an],tD,{memoizeOptions:{resultEqualityCheck:Dm}}),i7=[0,1],nD=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=Fi(t,a);if(f&&u==null){var h;return kM(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?KW(r,e,f):i==="expand"?i7:l}},iw=W([In,st,tw,Lm,Om,an,r7],nD);function a7(e){return e in zu}var rD=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(bc(r));return a7(a)?a:"point"}}},bl=W([In,D2,Kx],rD);function aw(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?JN(e.scale,n,r):JN(t,n,r)}var iD=(e,t,n)=>{var r=nw(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Bi(e))return bW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Bi(e))return xW(e,t.tickCount,t.allowDecimals)}},ow=W([iw,Oc,bl],iD),aD=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Bi(t)&&Array.isArray(n)&&n.length>0){var i,a,l=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,d=t[1],f=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,u),Math.max(d,f)]}return t},o7=W([In,iw,ow,an],aD),s7=W(Lm,In,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(qi(e.map(p=>p.value))).sort((p,v)=>p-v),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],f=r[u+1];if(!(d==null||f==null)){var h=f-d;n=Math.min(n,h)}}return n/l}}),oD=W(s7,st,E2,nn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Je(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=qr(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),l7=(e,t,n)=>{var r=Ji(e,t);return r==null||typeof r.padding!="string"?0:oD(e,"xAxis",t,n,r.padding)},u7=(e,t,n)=>{var r=Xi(e,t);return r==null||typeof r.padding!="string"?0:oD(e,"yAxis",t,n,r.padding)},c7=W(Ji,l7,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),d7=W(Xi,u7,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),f7=W([nn,c7,pm,mm,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),h7=W([nn,st,d7,pm,mm,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Pc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return f7(e,n,r);case"yAxis":return h7(e,n,r);case"zAxis":return(i=ew(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return O2(e);case"radiusAxis":return R2(e,n);default:return}},sD=W([In,Pc],Rm),m7=W([bl,o7],kW),Um=W([In,bl,m7,sD],aw);W([Rc,rw,an],GW);function lD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bm=(e,t)=>t,qm=(e,t,n)=>n,p7=W(fm,Bm,qm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lD)),g7=W(hm,Bm,qm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lD)),uD=(e,t)=>({width:e.width,height:t.height}),v7=(e,t)=>{var n=typeof t.width=="number"?t.width:_c;return{width:n,height:e.height}},cD=W(nn,Ji,uD),y7=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},b7=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},x7=W(Ki,nn,p7,Bm,qm,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=uD(t,u);l==null&&(l=y7(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),a}),w7=W(Vi,nn,g7,Bm,qm,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var d=v7(t,u);l==null&&(l=b7(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),a}),_7=(e,t)=>{var n=Ji(e,t);if(n!=null)return x7(e,n.orientation,n.mirror)},S7=W([nn,Ji,_7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),E7=(e,t)=>{var n=Xi(e,t);if(n!=null)return w7(e,n.orientation,n.mirror)},T7=W([nn,Xi,E7,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),dD=W(nn,Xi,(e,t)=>{var n=typeof t.width=="number"?t.width:_c;return{width:n,height:e.height}}),ZN=(e,t,n)=>{switch(t){case"xAxis":return cD(e,n).width;case"yAxis":return dD(e,n).height;default:return}},fD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=Fi(e,r),d=t.map(f=>f.value);if(l&&u&&a==="category"&&i&&cI(d))return d}},sw=W([st,Lm,In,an],fD),hD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=Fi(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},lw=W([st,Lm,Oc,an],hD),eO=W([st,jW,bl,Um,sw,lw,Pc,ow,an],(e,t,n,r,i,a,l,u,d)=>{if(t!=null){var f=Fi(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),A7=(e,t,n,r,i,a,l,u,d)=>{if(!(t==null||r==null)){var f=Fi(e,d),{type:h,ticks:p,tickCount:v}=t,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=h==="category"&&r.bandwidth?r.bandwidth()/w:0;E=d==="angleAxis"&&a!=null&&a.length>=2?qn(a[0]-a[1])*2*E:E;var S=p||i;return S?S.map((T,C)=>{var R=l?l.indexOf(T):T,k=r.map(R);return Je(k)?{index:C,coordinate:k+E,value:T,offset:E}:null}).filter($n):f&&u?u.map((T,C)=>{var R=r.map(T);return Je(R)?{coordinate:R+E,value:T,index:C,offset:E}:null}).filter($n):r.ticks?r.ticks(v).map((T,C)=>{var R=r.map(T);return Je(R)?{coordinate:R+E,value:T,index:C,offset:E}:null}).filter($n):r.domain().map((T,C)=>{var R=r.map(T);return Je(R)?{coordinate:R+E,value:l?l[T]:T,index:C,offset:E}:null}).filter($n)}},mD=W([st,Oc,bl,Um,ow,Pc,sw,lw,an],A7),C7=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Fi(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?qn(r[0]-r[1])*2*f:f,u&&a?a.map((h,p)=>{var v=n.map(h);return Je(v)?{coordinate:v+f,value:h,index:p,offset:f}:null}).filter($n):n.ticks?n.ticks(d).map((h,p)=>{var v=n.map(h);return Je(v)?{coordinate:v+f,value:h,index:p,offset:f}:null}).filter($n):n.domain().map((h,p)=>{var v=n.map(h);return Je(v)?{coordinate:v+f,value:i?i[h]:h,index:p,offset:f}:null}).filter($n)}},za=W([st,Oc,Um,Pc,sw,lw,an],C7),La=W(In,Um,(e,t)=>{if(!(e==null||t==null))return Ch(Ch({},e),{},{scale:t})}),N7=W([In,bl,iw,sD],aw);W((e,t,n)=>ew(e,n),N7,(e,t)=>{if(!(e==null||t==null))return Ch(Ch({},e),{},{scale:t})});var O7=W([st,fm,hm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),pD=e=>e.options.defaultTooltipEventType,gD=e=>e.options.validateTooltipEventTypes;function vD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function uw(e,t){var n=pD(e),r=gD(e);return vD(t,n,r)}function R7(e){return Ce(t=>uw(t,e))}var yD=(e,t)=>{var n,r=Number(t);if(!(ii(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},k7=e=>e.tooltip.settings,ka={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},P7={itemInteraction:{click:ka,hover:ka},axisInteraction:{click:ka,hover:ka},keyboardInteraction:ka,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bD=Gn({name:"tooltip",initialState:P7,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=zr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Tt()},removeTooltipEntrySettings:{reducer(e,t){var n=zr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Tt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:I7,replaceTooltipEntrySettings:M7,removeTooltipEntrySettings:D7,setTooltipSettingsState:j7,setActiveMouseOverItemIndex:xD,mouseLeaveItem:z7,mouseLeaveChart:wD,setActiveClickItemIndex:L7,setMouseOverAxisIndex:_D,setMouseClickAxisIndex:U7,setSyncInteraction:hb,setKeyboardInteraction:mb}=bD.actions,B7=bD.reducer;function tO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return(t=$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function F7(e){return e.index!=null}var SD=(e,t,n,r)=>{if(t==null)return ka;var i=G7(e,t,n);if(i==null)return ka;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(F7(i)){if(a)return xf(xf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return xf(xf({},ka),{},{coordinate:i.coordinate})};function V7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function K7(e,t){var n=V7(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function W7(e,t,n){if(n==null||t==null)return!0;var r=Ht(e,t);return r==null||!Bi(n)?!0:K7(r,n)}var cw=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Je(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(a,u)),f=t[d];return f==null||W7(f,n,r)?String(d):null},ED=(e,t,n,r,i,a,l)=>{if(a!=null){var u=l[0],d=u==null?void 0:u.getPosition(a);if(d!=null)return d;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},TD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},AD=e=>e.options.tooltipPayloadSearcher,xl=e=>e.tooltip;function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return(t=J7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q7(e,t){return e??t}var CD=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((v,w)=>{var E,{dataDefinedOnItem:S,settings:T}=w,C=Q7(S,u),R=Array.isArray(C)?nM(C,f,h):C,k=(E=T==null?void 0:T.dataKey)!==null&&E!==void 0?E:r,P=T==null?void 0:T.nameKey,D;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&l==="axis"?D=dI(R,r,i):D=a(R,t,d,P),Array.isArray(D))D.forEach(M=>{var B=rO(rO({},T),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(rC({tooltipEntrySettings:B,dataKey:M.dataKey,payload:M.payload,value:Ht(M.payload,M.dataKey),name:M.name}))});else{var O;v.push(rC({tooltipEntrySettings:T,dataKey:k,payload:D,value:Ht(D,k),name:(O=Ht(D,P))!==null&&O!==void 0?O:T==null?void 0:T.name}))}return v},p)}},dw=W([Yt,D2,Kx],rD),Z7=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eY=W([on,vl],j2),wl=W([Z7,Yt,eY],z2,{memoizeOptions:{resultEqualityCheck:jm}}),tY=W([wl],e=>e.filter(Mm)),nY=W([wl],B2,{memoizeOptions:{resultEqualityCheck:jm}}),_l=W([nY,Yi],q2),rY=W([tY,Yi,Yt],P2),fw=W([_l,Yt,wl],$2),ND=W([Yt],nw),iY=W([Yt],e=>e.allowDataOverflow),OD=W([ND,iY],f2),aY=W([wl],e=>e.filter(Mm)),oY=W([rY,aY,Om,T2],G2),sY=W([oY,Yi,on,OD],F2),lY=W([wl],U2),uY=W([_l,Yt,lY,rw,on],W2,{memoizeOptions:{resultEqualityCheck:Dm}}),cY=W([Y2,on,vl],yl),dY=W([cY,on],Q2),fY=W([J2,on,vl],yl),hY=W([fY,on],Z2),mY=W([X2,on,vl],yl),pY=W([mY,on],eD),gY=W([dY,pY,hY],Nh),vY=W([Yt,ND,OD,sY,uY,gY,st,on],tD),Ic=W([Yt,st,_l,fw,Om,on,vY],nD),yY=W([Ic,Yt,dw],iD),bY=W([Yt,Ic,yY,on],aD),RD=e=>{var t=on(e),n=vl(e),r=!1;return Pc(e,t,n,r)},kD=W([Yt,RD],Rm),PD=W([Yt,dw,bY,kD],aw),xY=W([st,fw,Yt,on],fD),wY=W([st,fw,Yt,on],hD),_Y=(e,t,n,r,i,a,l,u)=>{if(t){var{type:d}=t,f=Fi(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?qn(i[0]-i[1])*2*p:p,f&&l?l.map((v,w)=>{var E=r.map(v);return Je(E)?{coordinate:E+p,value:v,index:w,offset:p}:null}).filter($n):r.domain().map((v,w)=>{var E=r.map(v);return Je(E)?{coordinate:E+p,value:a?a[v]:v,index:w,offset:p}:null}).filter($n)}}},Qi=W([st,Yt,dw,PD,RD,xY,wY,on],_Y),hw=W([pD,gD,k7],(e,t,n)=>vD(n.shared,e,t)),ID=e=>e.tooltip.settings.trigger,mw=e=>e.tooltip.settings.defaultIndex,Mc=W([xl,hw,ID,mw],SD),Mo=W([Mc,_l,kc,Ic],cw),MD=W([Qi,Mo],yD),DD=W([Mc],e=>{if(e)return e.dataKey});W([Mc],e=>{if(e)return e.graphicalItemId});var jD=W([xl,hw,ID,mw],TD),SY=W([Vi,Ki,st,nn,Qi,mw,jD],ED),EY=W([Mc,SY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TY=W([Mc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),AY=W([jD,Mo,Yi,kc,MD,AD,hw],CD),CY=W([AY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(n),!0).forEach(function(r){NY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NY(e,t,n){return(t=OY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=()=>Ce(Yt),PY=()=>{var e=kY(),t=Ce(Qi),n=Ce(PD);return al(!e||!n?void 0:aO(aO({},e),{},{scale:n}),t)};function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(r){IY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IY(e,t,n){return(t=MY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jY=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},zY=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return zs(zs(zs({},r),vn(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:d}=r;return zs(zs(zs({},r),vn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LY(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var zD=(e,t,n,r,i)=>{var a,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,h,p,v,w=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,E=(h=n[u])===null||h===void 0?void 0:h.coordinate,S=u>=l-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,T=void 0;if(!(w==null||E==null||S==null))if(qn(E-w)!==qn(S-E)){var C=[];if(qn(S-E)===qn(i[1]-i[0])){T=S;var R=E+i[1]-i[0];C[0]=Math.min(R,(R+w)/2),C[1]=Math.max(R,(R+w)/2)}else{T=w;var k=S+i[1]-i[0];C[0]=Math.min(E,(k+E)/2),C[1]=Math.max(E,(k+E)/2)}var P=[Math.min(E,(T+E)/2),Math.max(E,(T+E)/2)];if(e>P[0]&&e<=P[1]||e>=C[0]&&e<=C[1]){var D;return(D=n[u])===null||D===void 0?void 0:D.index}}else{var O=Math.min(w,S),M=Math.max(w,S);if(e>(O+E)/2&&e<=(M+E)/2){var B;return(B=n[u])===null||B===void 0?void 0:B.index}}}else if(t)for(var L=0;L<l;L++){var K=t[L];if(K!=null){var X=t[L+1],H=t[L-1];if(L===0&&X!=null&&e<=(K.coordinate+X.coordinate)/2||L===l-1&&H!=null&&e>(K.coordinate+H.coordinate)/2||L>0&&L<l-1&&H!=null&&X!=null&&e>(K.coordinate+H.coordinate)/2&&e<=(K.coordinate+X.coordinate)/2)return K.index}}return-1},UY=()=>Ce(Kx),pw=(e,t)=>t,LD=(e,t,n)=>n,gw=(e,t,n,r)=>r,BY=W(Qi,e=>tm(e,t=>t.coordinate)),vw=W([xl,pw,LD,gw],SD),yw=W([vw,_l,kc,Ic],cw),qY=(e,t,n)=>{if(t!=null){var r=xl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},UD=W([xl,pw,LD,gw],TD),Oh=W([Vi,Ki,st,nn,Qi,gw,UD],ED),$Y=W([vw,Oh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),BD=W([Qi,yw],yD),HY=W([UD,yw,Yi,kc,BD,AD,pw],CD),GY=W([vw,yw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),FY=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&LY(e,l)){var u=wG(e,t),d=zD(u,a,i,n,r),f=jY(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},VY=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=OV(e,n);if(u){var d=_G(u,t),f=zD(d,l,a,r,i),h=zY(t,a,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},KY=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?FY(e,t,r,i,a,l,u):VY(e,t,n,r,i,a,l)},WY=W(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),YY=W(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(tn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:OW}});function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){JY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JY(e,t,n){return(t=XY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZY={},eJ={zIndexMap:Object.values(tn).reduce((e,t)=>lO(lO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ZY)},tJ=new Set(Object.values(tn));function nJ(e){return tJ.has(e)}var qD=Gn({name:"zIndex",initialState:eJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Tt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!nJ(n)&&delete e.zIndexMap[n])},prepare:Tt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Tt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Tt()}}}),{registerZIndexPortal:rJ,unregisterZIndexPortal:iJ,registerZIndexPortalElement:aJ,unregisterZIndexPortalElement:oJ}=qD.actions,sJ=qD.reducer;function Ar(e){var{zIndex:t,children:n}=e,r=eF(),i=r&&t!==void 0&&t!==0,a=Sn(),l=jt();A.useLayoutEffect(()=>i?(l(rJ({zIndex:t})),()=>{l(iJ({zIndex:t}))}):jo,[l,t,i]);var u=Ce(d=>WY(d,t,a));return i?u?VP.createPortal(n,u):null:n}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(null,arguments)}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(r){lJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lJ(e,t,n){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uJ(e){var t=cJ(e,"string");return typeof t=="symbol"?t:t+""}function cJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function fJ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,p=n,v=r,w=i;if(!d||!p||h!=="ScatterChart"&&f!=="axis")return null;var E,S,T;if(h==="ScatterChart")E=p,S=$F,T=tn.cursorLine;else if(h==="BarChart")E=HF(u,p,a,l),S=CM,T=tn.cursorRectangle;else if(u==="radial"&&mI(p)){var{cx:C,cy:R,radius:k,startAngle:P,endAngle:D}=NM(p);E={cx:C,cy:R,startAngle:P,endAngle:D,innerRadius:k,outerRadius:k},S=RM,T=tn.cursorLine}else E={points:IV(u,p,a)},S=_M,T=tn.cursorLine;var O=typeof d=="object"&&"className"in d?d.className:void 0,M=wf(wf(wf(wf({stroke:"#ccc",pointerEvents:"none"},a),E),yc(d)),{},{payload:v,payloadIndex:w,className:mt("recharts-tooltip-cursor",O)});return A.createElement(Ar,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},A.createElement(dJ,{cursor:d,cursorComp:S,cursorProps:M}))}function hJ(e){var t=PY(),n=uM(),r=zo(),i=UY();return t==null||n==null||r==null||i==null?null:A.createElement(fJ,pb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var $D=A.createContext(null),mJ=()=>A.useContext($D),V0={exports:{}},cO;function pJ(){return cO||(cO=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function a(d,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new i(h,p||d,v),E=n?n+f:f;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],w]:d._events[E].push(w):(d._events[E]=w,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,w=p.length,E=new Array(w);v<w;v++)E[v]=p[v].fn;return E},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,v,w,E){var S=n?n+f:f;if(!this._events[S])return!1;var T=this._events[S],C=arguments.length,R,k;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,p),!0;case 4:return T.fn.call(T.context,h,p,v),!0;case 5:return T.fn.call(T.context,h,p,v,w),!0;case 6:return T.fn.call(T.context,h,p,v,w,E),!0}for(k=1,R=new Array(C-1);k<C;k++)R[k-1]=arguments[k];T.fn.apply(T.context,R)}else{var P=T.length,D;for(k=0;k<P;k++)switch(T[k].once&&this.removeListener(f,T[k].fn,void 0,!0),C){case 1:T[k].fn.call(T[k].context);break;case 2:T[k].fn.call(T[k].context,h);break;case 3:T[k].fn.call(T[k].context,h,p);break;case 4:T[k].fn.call(T[k].context,h,p,v);break;default:if(!R)for(D=1,R=new Array(C-1);D<C;D++)R[D-1]=arguments[D];T[k].fn.apply(T[k].context,R)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,v){var w=n?n+f:f;if(!this._events[w])return this;if(!h)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===h&&(!v||E.once)&&(!p||E.context===p)&&l(this,w);else{for(var S=0,T=[],C=E.length;S<C;S++)(E[S].fn!==h||v&&!E[S].once||p&&E[S].context!==p)&&T.push(E[S]);T.length?this._events[w]=T.length===1?T[0]:T:l(this,w)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(V0)),V0.exports}var gJ=pJ();const vJ=li(gJ);var hc=new vJ,gb="recharts.syncEvent.tooltip",dO="recharts.syncEvent.brush",HD=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!ii(n))return e[n]}},yJ={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},GD=Gn({name:"options",initialState:yJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bJ=GD.reducer,{createEventEmitter:xJ}=GD.actions;function wJ(e){return e.tooltip.syncInteraction}var _J={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},FD=Gn({name:"chartData",initialState:_J,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:fO,setDataStartEndIndexes:SJ,setComputedData:wde}=FD.actions,EJ=FD.reducer,TJ=["x","y"];function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(r){AJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AJ(e,t,n){return(t=CJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OJ(e,t){if(e==null)return{};var n,r,i=RJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kJ(){var e=Ce(Wx),t=Ce(Yx),n=jt(),r=Ce(A2),i=Ce(Qi),a=zo(),l=gm(),u=Ce(d=>d.rootProps.className);A.useEffect(()=>{if(e==null)return jo;var d=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var w=h.payload.coordinate,{x:E,y:S}=w,T=OJ(w,TJ),{x:C,y:R,width:k,height:P}=h.payload.sourceViewBox,D=Ls(Ls({},T),{},{x:l.x+(k?(E-C)/k:0)*l.width,y:l.y+(P?(S-R)/P:0)*l.height});n(Ls(Ls({},h),{},{payload:Ls(Ls({},h.payload),{},{coordinate:D})}))}else n(h);return}if(i!=null){var O;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},B=r(i,M);O=i[B]}else r==="value"&&(O=i.find($=>String($.value)===h.payload.label));var{coordinate:L}=h.payload;if(O==null||h.payload.active===!1||L==null||l==null){n(hb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:X}=L,H=Math.min(K,l.x+l.width),he=Math.min(X,l.y+l.height),ce={x:a==="horizontal"?O.coordinate:H,y:a==="horizontal"?he:O.coordinate},ge=hb({active:h.payload.active,coordinate:ce,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ge)}}};return hc.on(gb,d),()=>{hc.off(gb,d)}},[u,n,t,e,r,i,a,l])}function PJ(){var e=Ce(Wx),t=Ce(Yx),n=jt();A.useEffect(()=>{if(e==null)return jo;var r=(i,a,l)=>{t!==l&&e===i&&n(SJ(a))};return hc.on(dO,r),()=>{hc.off(dO,r)}},[n,t,e])}function IJ(){var e=jt();A.useEffect(()=>{e(xJ())},[e]),kJ(),PJ()}function MJ(e,t,n,r,i,a){var l=Ce(w=>qY(w,e,t)),u=Ce(Yx),d=Ce(Wx),f=Ce(A2),h=Ce(wJ),p=h==null?void 0:h.active,v=gm();A.useEffect(()=>{if(!p&&d!=null&&u!=null){var w=hb({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});hc.emit(gb,d,w,u)}},[p,n,l,i,r,u,d,f,a,v])}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){DJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LJ(e){return e.dataKey}function UJ(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(wF,t)}var gO=[],BJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bw(e){var t,n,r=Pn(e,BJ),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:v,position:w,reverseDirection:E,useTranslate3d:S,wrapperStyle:T,cursor:C,shared:R,trigger:k,defaultIndex:P,portal:D,axisId:O}=r,M=jt(),B=typeof P=="number"?String(P):P;A.useEffect(()=>{M(j7({shared:R,trigger:k,axisId:O,active:i,defaultIndex:B}))},[M,R,k,O,i,B]);var L=gm(),K=wM(),X=R7(R),{activeIndex:H,isActive:he}=(t=Ce(_e=>GY(_e,X,k,B)))!==null&&t!==void 0?t:{},ce=Ce(_e=>HY(_e,X,k,B)),ge=Ce(_e=>BD(_e,X,k,B)),$=Ce(_e=>$Y(_e,X,k,B)),te=ce,ie=mJ(),ue=(n=i??he)!==null&&n!==void 0?n:!1,[ve,z]=o6([te,ue]),Y=X==="axis"?ge:void 0;MJ(X,k,$,Y,H,ue);var le=D??ie;if(le==null||L==null||X==null)return null;var fe=te??gO;ue||(fe=gO),f&&fe.length&&(fe=PH(fe.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),v,LJ));var Ee=fe.length>0,je=A.createElement(NF,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ue,coordinate:$,hasPayload:Ee,offset:p,position:w,reverseDirection:E,useTranslate3d:S,viewBox:L,wrapperStyle:T,lastBoundingBox:ve,innerRef:z,hasPortalFromProps:!!D},UJ(d,pO(pO({},r),{},{payload:fe,label:Y,active:ue,activeIndex:H,coordinate:$,accessibilityLayer:K})));return A.createElement(A.Fragment,null,VP.createPortal(je,le),ue&&A.createElement(hJ,{cursor:C,tooltipEventType:X,coordinate:$,payload:fe,index:H}))}var VD=e=>null;VD.displayName="Cell";function qJ(e,t,n){return(t=$J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $J(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GJ{constructor(t){qJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(n),!0).forEach(function(r){VJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VJ(e,t,n){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YJ={cacheSize:2e3,enableCache:!0},KD=FJ({},YJ),yO=new GJ(KD.cacheSize),JJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bO="recharts_measurement_span";function XJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var xO=(e,t)=>{try{var n=document.getElementById(bO);n||(n=document.createElement("span"),n.setAttribute("id",bO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,JJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xm.isSsr)return{width:0,height:0};if(!KD.enableCache)return xO(t,n);var r=XJ(t,n),i=yO.get(r);if(i)return i;var a=xO(t,n);return yO.set(r,a),a},WD;function QJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_O=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iX=["cm","mm","pt","pc","in","Q","px"];function aX(e){return iX.includes(e)}var Vs="NaN";function oX(e,t){return e*rX[t]}class gn{static parse(t){var n,[,r,i]=(n=nX.exec(t))!==null&&n!==void 0?n:[];return r==null?gn.NaN:new gn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ii(t)&&(this.unit=""),n!==""&&!tX.test(n)&&(this.num=NaN,this.unit=""),aX(n)&&(this.num=oX(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gn(NaN,""):new gn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gn(NaN,""):new gn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ii(this.num)}}WD=gn;QJ(gn,"NaN",new WD(NaN,""));function YD(e){if(e==null||e.includes(Vs))return Vs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=wO.exec(t))!==null&&n!==void 0?n:[],l=gn.parse(r??""),u=gn.parse(a??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Vs;t=t.replace(wO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,v]=(f=_O.exec(t))!==null&&f!==void 0?f:[],w=gn.parse(h??""),E=gn.parse(v??""),S=p==="+"?w.add(E):w.subtract(E);if(S.isNaN())return Vs;t=t.replace(_O,S.toString())}return t}var SO=/\(([^()]*)\)/;function sX(e){for(var t=e,n;(n=SO.exec(t))!=null;){var[,r]=n;t=t.replace(SO,YD(r))}return t}function lX(e){var t=e.replace(/\s+/g,"");return t=sX(t),t=YD(t),t}function uX(e){try{return lX(e)}catch{return Vs}}function K0(e){var t=uX(e.slice(5,-1));return t===Vs?"":t}var cX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dX=["dx","dy","angle","className","breakAll"];function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(null,arguments)}function EO(e,t){if(e==null)return{};var n,r,i=fX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JD=/[ \f\n\r\t\v\u2028\u2029]+/,XD=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ct(t)||(n?i=t.toString().split(""):i=t.toString().split(JD));var a=i.map(u=>({word:u,width:Gu(u,r).width})),l=n?0:Gu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function hX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var QD=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),ZD=e=>e.reduce((t,n)=>t.width>n.width?t:n),mX="",TO=(e,t,n,r,i,a,l,u)=>{var d=e.slice(0,t),f=XD({breakAll:n,style:r,children:d+mX});if(!f)return[!1,[]];var h=QD(f.wordsWithComputedWidth,a,l,u),p=h.length>i||ZD(h).width>Number(a);return[p,h]},pX=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:d}=e,f=we(a),h=String(l),p=QD(t,r,n,i);if(!f||i)return p;var v=p.length>a||ZD(p).width>Number(r);if(!v)return p;for(var w=0,E=h.length-1,S=0,T;w<=E&&S<=h.length-1;){var C=Math.floor((w+E)/2),R=C-1,[k,P]=TO(h,R,d,u,a,r,n,i),[D]=TO(h,C,d,u,a,r,n,i);if(!k&&!D&&(w=C+1),k&&D&&(E=C-1),!k&&D){T=P;break}S++}return T||p},AO=e=>{var t=Ct(e)?[]:e.toString().split(JD);return[{words:t,width:void 0}]},gX=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!xm.isSsr){var u,d,f=XD({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,d=p}else return AO(r);return pX({breakAll:a,children:r,maxLines:l,style:i},u,d,t,!!n)}return AO(r)},ej="#808080",vX={angle:0,breakAll:!1,capHeight:"0.71em",fill:ej,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xw=A.forwardRef((e,t)=>{var n=Pn(e,vX),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,p=EO(n,cX),v=A.useMemo(()=>gX({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:w,dy:E,angle:S,className:T,breakAll:C}=p,R=EO(p,dX);if(!ai(r)||!ai(i)||v.length===0)return null;var k=Number(r)+(we(w)?w:0),P=Number(i)+(we(E)?E:0);if(!Je(k)||!Je(P))return null;var D;switch(h){case"start":D=K0("calc(".concat(l,")"));break;case"middle":D=K0("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:D=K0("calc(".concat(v.length-1," * -").concat(a,")"));break}var O=[],M=v[0];if(d&&M!=null){var B=M.width,{width:L}=p;O.push("scale(".concat(we(L)&&we(B)?L/B:1,")"))}return S&&O.push("rotate(".concat(S,", ").concat(k,", ").concat(P,")")),O.length&&(R.transform=O.join(" ")),A.createElement("text",vb({},On(R),{ref:t,x:k,y:P,className:mt("recharts-text",T),textAnchor:f,fill:u.includes("url")?ej:u}),v.map((K,X)=>{var H=K.words.join(C?"":" ");return A.createElement("tspan",{x:k,dy:X===0?D:a,key:"".concat(H,"-").concat(X)},H)}))});xw.displayName="Text";function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(r){yX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yX(e,t,n){return(t=bX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wX=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:l,height:u,upperWidth:d,lowerWidth:f}=yx(t),h=a,p=a+(d-f)/2,v=(h+p)/2,w=(d+f)/2,E=h+d/2,S=u>=0?1:-1,T=S*r,C=S>0?"end":"start",R=S>0?"start":"end",k=d>=0?1:-1,P=k*r,D=k>0?"end":"start",O=k>0?"start":"end",M=i;if(n==="top"){var B={x:h+d/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:C};return M&&(B.height=Math.max(l-M.y,0),B.width=d),B}if(n==="bottom"){var L={x:p+f/2,y:l+u+T,horizontalAnchor:"middle",verticalAnchor:R};return M&&(L.height=Math.max(M.y+M.height-(l+u),0),L.width=f),L}if(n==="left"){var K={x:v-P,y:l+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return M&&(K.width=Math.max(K.x-M.x,0),K.height=u),K}if(n==="right"){var X={x:v+w+P,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return M&&(X.width=Math.max(M.x+M.width-X.x,0),X.height=u),X}var H=M?{width:w,height:u}:{};return n==="insideLeft"?Qr({x:v+P,y:l+u/2,horizontalAnchor:O,verticalAnchor:"middle"},H):n==="insideRight"?Qr({x:v+w-P,y:l+u/2,horizontalAnchor:D,verticalAnchor:"middle"},H):n==="insideTop"?Qr({x:h+d/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:R},H):n==="insideBottom"?Qr({x:p+f/2,y:l+u-T,horizontalAnchor:"middle",verticalAnchor:C},H):n==="insideTopLeft"?Qr({x:h+P,y:l+T,horizontalAnchor:O,verticalAnchor:R},H):n==="insideTopRight"?Qr({x:h+d-P,y:l+T,horizontalAnchor:D,verticalAnchor:R},H):n==="insideBottomLeft"?Qr({x:p+P,y:l+u-T,horizontalAnchor:O,verticalAnchor:C},H):n==="insideBottomRight"?Qr({x:p+f-P,y:l+u-T,horizontalAnchor:D,verticalAnchor:C},H):n&&typeof n=="object"&&(we(n.x)||Oo(n.x))&&(we(n.y)||Oo(n.y))?Qr({x:a+qr(n.x,w),y:l+qr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},H):Qr({x:E,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},H)},_X=["labelRef"],SX=["content"];function NO(e,t){if(e==null)return{};var n,r,i=EX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(n),!0).forEach(function(r){TX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}var tj=A.createContext(null),NX=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,d=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return A.createElement(tj.Provider,{value:d},u)},nj=()=>{var e=A.useContext(tj),t=gm();return e||(t?yx(t):void 0)},OX=A.createContext(null),RX=()=>{var e=A.useContext(OX),t=Ce(k2);return e||t},kX=e=>{var{value:t,formatter:n}=e,r=Ct(e.children)?t:e.children;return typeof n=="function"?n(r):r},ww=e=>e!=null&&typeof e=="function",PX=(e,t)=>{var n=qn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},IX=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,clockWise:w}=i,E=(f+h)/2,S=PX(p,v),T=S>=0?1:-1,C,R;switch(t){case"insideStart":C=p+T*a,R=w;break;case"insideEnd":C=v-T*a,R=!w;break;case"end":C=v+T*a,R=w;break;default:throw new Error("Unsupported position ".concat(t))}R=S<=0?R:!R;var k=vn(u,d,E,C),P=vn(u,d,E,C+(R?1:-1)*359),D="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(P.x,",").concat(P.y),O=Ct(e.id)?ec("recharts-radial-line-"):e.id;return A.createElement("text",Oi({},r,{dominantBaseline:"central",className:mt("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:O,d:D})),A.createElement("textPath",{xlinkHref:"#".concat(O)},n))},MX=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:p}=vn(r,i,l+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:w,y:E}=vn(r,i,v,f);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Df=e=>e!=null&&"cx"in e&&we(e.cx),DX={angle:0,offset:5,zIndex:tn.label,position:"middle",textBreakAll:!1};function jX(e){if(!Df(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Oa(e){var t=Pn(e,DX),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:u,className:d="",textBreakAll:f,labelRef:h}=t,p=RX(),v=nj(),w=i==="center"?v:p??v,E,S,T;n==null?E=w:Df(n)?E=n:E=yx(n);var C=jX(E);if(!E||Ct(a)&&Ct(l)&&!A.isValidElement(u)&&typeof u!="function")return null;var R=Lu(Lu({},t),{},{viewBox:E});if(A.isValidElement(u)){var{labelRef:k}=R,P=NO(R,_X);return A.cloneElement(u,P)}if(typeof u=="function"){var{content:D}=R,O=NO(R,SX);if(S=A.createElement(u,O),A.isValidElement(S))return S}else S=kX(t);var M=On(t);if(Df(E)){if(i==="insideStart"||i==="insideEnd"||i==="end")return IX(t,i,S,M,E);T=MX(E,t.offset,t.position)}else{if(!C)return null;var B=wX({viewBox:C,position:i,offset:t.offset,parentViewBox:Df(r)?void 0:r});T=Lu(Lu({x:B.x,y:B.y,textAnchor:B.horizontalAnchor,verticalAnchor:B.verticalAnchor},B.width!==void 0?{width:B.width}:{}),B.height!==void 0?{height:B.height}:{})}return A.createElement(Ar,{zIndex:t.zIndex},A.createElement(xw,Oi({ref:h,className:mt("recharts-label",d)},M,T,{textAnchor:hX(M.textAnchor)?M.textAnchor:T.textAnchor,breakAll:f}),S))}Oa.displayName="Label";var zX=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Oa,Oi({key:"label-implicit"},r)):ai(e)?A.createElement(Oa,Oi({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Oa?A.cloneElement(e,Lu({key:"label-implicit"},r)):A.createElement(Oa,Oi({key:"label-implicit",content:e},r)):ww(e)?A.createElement(Oa,Oi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Oa,Oi({},e,{key:"label-implicit"},r)):null};function LX(e){var{label:t,labelRef:n}=e,r=nj();return zX(t,r,n)||null}var W0={},Y0={},RO;function UX(){return RO||(RO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Y0)),Y0}var J0={},kO;function BX(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(J0)),J0}var PO;function qX(){return PO||(PO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UX(),n=BX(),r=ox();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(W0)),W0}var X0,IO;function $X(){return IO||(IO=1,X0=qX().last),X0}var HX=$X();const GX=li(HX);var FX=["valueAccessor"],VX=["dataKey","clockWise","id","textBreakAll","zIndex"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function MO(e,t){if(e==null)return{};var n,r,i=KX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WX=e=>Array.isArray(e.value)?GX(e.value):e.value,rj=A.createContext(void 0),ij=rj.Provider,aj=A.createContext(void 0);aj.Provider;function YX(){return A.useContext(rj)}function JX(){return A.useContext(aj)}function jf(e){var{valueAccessor:t=WX}=e,n=MO(e,FX),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,d=MO(n,VX),f=YX(),h=JX(),p=f||h;return!p||!p.length?null:A.createElement(Ar,{zIndex:u??tn.label},A.createElement(wr,{className:"recharts-label-list"},p.map((v,w)=>{var E,S=Ct(r)?t(v,w):Ht(v.payload,r),T=Ct(a)?{}:{id:"".concat(a,"-").concat(w)};return A.createElement(Oa,Rh({key:"label-".concat(w)},On(v),d,T,{fill:(E=n.fill)!==null&&E!==void 0?E:v.fill,parentViewBox:v.parentViewBox,value:S,textBreakAll:l,viewBox:v.viewBox,index:w,zIndex:0}))})))}jf.displayName="LabelList";function oj(e){var{label:t}=e;return t?t===!0?A.createElement(jf,{key:"labelList-implicit"}):A.isValidElement(t)||ww(t)?A.createElement(jf,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(jf,Rh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(null,arguments)}var sj=e=>{var{cx:t,cy:n,r,className:i}=e,a=mt("recharts-dot",i);return we(t)&&we(n)&&we(r)?A.createElement("circle",yb({},Br(e),ix(e),{className:a,cx:t,cy:n,r})):null},XX={radiusAxis:{},angleAxis:{}},lj=Gn({name:"polarAxis",initialState:XX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:_de,removeRadiusAxis:Sde,addAngleAxis:Ede,removeAngleAxis:Tde}=lj.actions,QX=lj.reducer;function ZX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Q0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DO;function eQ(){if(DO)return ht;DO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case e:switch(S=S.type,S){case n:case i:case r:case d:case f:case v:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case p:case h:return S;case a:return S;default:return T}}case t:return T}}}return ht.ContextConsumer=a,ht.ContextProvider=l,ht.Element=e,ht.ForwardRef=u,ht.Fragment=n,ht.Lazy=p,ht.Memo=h,ht.Portal=t,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(S){return E(S)===a},ht.isContextProvider=function(S){return E(S)===l},ht.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},ht.isForwardRef=function(S){return E(S)===u},ht.isFragment=function(S){return E(S)===n},ht.isLazy=function(S){return E(S)===p},ht.isMemo=function(S){return E(S)===h},ht.isPortal=function(S){return E(S)===t},ht.isProfiler=function(S){return E(S)===i},ht.isStrictMode=function(S){return E(S)===r},ht.isSuspense=function(S){return E(S)===d},ht.isSuspenseList=function(S){return E(S)===f},ht.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===l||S.$$typeof===a||S.$$typeof===u||S.$$typeof===w||S.getModuleId!==void 0)},ht.typeOf=E,ht}var jO;function tQ(){return jO||(jO=1,Q0.exports=eQ()),Q0.exports}var nQ=tQ(),zO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",LO=null,Z0=null,uj=e=>{if(e===LO&&Array.isArray(Z0))return Z0;var t=[];return A.Children.forEach(e,n=>{Ct(n)||(nQ.isFragment(n)?t=t.concat(uj(n.props.children)):t.push(n))}),Z0=t,LO=e,t};function rQ(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>zO(i)):r=[zO(t)],uj(e).forEach(i=>{var a=rl(i,"type.displayName")||rl(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var cj=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ey={},UO;function iQ(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(ey)),ey}var ty,BO;function aQ(){return BO||(BO=1,ty=iQ().isPlainObject),ty}var oQ=aQ();const sQ=li(oQ);var qO,$O,HO,GO,FO;function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(r){lQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lQ(e,t,n){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(null,arguments)}function Pu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WO=(e,t,n,r,i)=>{var a=n-r,l;return l=Pt(qO||(qO=Pu(["M ",",",""])),e,t),l+=Pt($O||($O=Pu(["L ",",",""])),e+n,t),l+=Pt(HO||(HO=Pu(["L ",",",""])),e+n-a/2,t+i),l+=Pt(GO||(GO=Pu(["L ",",",""])),e+n-a/2-r,t+i),l+=Pt(FO||(FO=Pu(["L ",","," Z"])),e,t),l},dQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fQ=e=>{var t=Pn(e,dQ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,v=A.useRef(null),[w,E]=A.useState(-1),S=A.useRef(i),T=A.useRef(a),C=A.useRef(l),R=A.useRef(n),k=A.useRef(r),P=_m(e,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ce=v.current.getTotalLength();ce&&E(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var D=mt("recharts-trapezoid",u);if(!p)return A.createElement("g",null,A.createElement("path",kh({},On(t),{className:D,d:WO(n,r,i,a,l)})));var O=S.current,M=T.current,B=C.current,L=R.current,K=k.current,X="0px ".concat(w===-1?1:w,"px"),H="".concat(w,"px 0px"),he=SM(["strokeDasharray"],f,d);return A.createElement(wm,{animationId:P,key:P,canBegin:w>0,duration:f,easing:d,isActive:p,begin:h},ce=>{var ge=It(O,i,ce),$=It(M,a,ce),te=It(B,l,ce),ie=It(L,n,ce),ue=It(K,r,ce);v.current&&(S.current=ge,T.current=$,C.current=te,R.current=ie,k.current=ue);var ve=ce>0?{transition:he,strokeDasharray:H}:{strokeDasharray:X};return A.createElement("path",kh({},On(t),{className:D,d:WO(ie,ue,ge,$,te),ref:v,style:KO(KO({},ve),t.style)}))})},hQ=["option","shapeType","activeClassName"];function mQ(e,t){if(e==null)return{};var n,r,i=pQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(r){gQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gQ(e,t,n){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bQ(e,t){return Ph(Ph({},t),e)}function xQ(e,t){return e==="symbols"}function JO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(CM,n);case"trapezoid":return A.createElement(fQ,n);case"sector":return A.createElement(RM,n);case"symbols":if(xQ(t))return A.createElement(hI,n);break;case"curve":return A.createElement(_M,n);default:return null}}function wQ(e){return A.isValidElement(e)?e.props:e}function dj(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=mQ(e,hQ),a;if(A.isValidElement(t))a=A.cloneElement(t,Ph(Ph({},i),wQ(t)));else if(typeof t=="function")a=t(i,i.index);else if(sQ(t)&&typeof t!="boolean"){var l=bQ(t,i);a=A.createElement(JO,{shapeType:n,elementProps:l})}else{var u=i;a=A.createElement(JO,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(wr,{className:r},a):a}var fj=(e,t,n)=>{var r=jt();return(i,a)=>l=>{e==null||e(i,a,l),r(xD({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},hj=e=>{var t=jt();return(n,r)=>i=>{e==null||e(n,r,i),t(z7())}},mj=(e,t,n)=>{var r=jt();return(i,a)=>l=>{e==null||e(i,a,l),r(L7({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function pj(e){var{tooltipEntrySettings:t}=e,n=jt(),r=Sn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(I7(t)):i.current!==t&&n(M7({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(D7(i.current)),i.current=null)},[n]),null}function gj(e){var{legendPayload:t}=e,n=jt(),r=Sn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(hF(t)):i.current!==t&&n(mF({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(pF(i.current)),i.current=null)},[n]),null}var ny,_Q=()=>{var[e]=A.useState(()=>ec("uid-"));return e},SQ=(ny=y4.useId)!==null&&ny!==void 0?ny:_Q;function EQ(e,t){var n=SQ();return t||(e?"".concat(e,"-").concat(n):n)}var TQ=A.createContext(void 0),vj=e=>{var{id:t,type:n,children:r}=e,i=EQ("recharts-".concat(n),t);return A.createElement(TQ.Provider,{value:i},r(i))},AQ={cartesianItems:[],polarItems:[]},yj=Gn({name:"graphicalItems",initialState:AQ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=zr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Tt()},removeCartesianGraphicalItem:{reducer(e,t){var n=zr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Tt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tt()},removePolarGraphicalItem:{reducer(e,t){var n=zr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Tt()}}}),{addCartesianGraphicalItem:CQ,replaceCartesianGraphicalItem:NQ,removeCartesianGraphicalItem:OQ,addPolarGraphicalItem:Ade,removePolarGraphicalItem:Cde}=yj.actions,RQ=yj.reducer,kQ=e=>{var t=jt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(CQ(e)):n.current!==e&&t(NQ({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(OQ(n.current)),n.current=null)},[t]),null},bj=A.memo(kQ),PQ=["points"];function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}function jQ(e,t){if(e==null)return{};var n,r,i=zQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function LQ(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=mt(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=jQ(a,PQ);return A.createElement(sj,Ih({},u,{className:i}))}function UQ(e,t){return e==null?!1:t?!0:e.length===1}function BQ(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:d,zIndex:f=tn.scatter}=e;if(!UQ(t,n))return null;var h=cj(n),p=i8(n),v=t.map((E,S)=>{var T,C,R=ry(ry(ry({r:3},l),p),{},{index:S,cx:(T=E.x)!==null&&T!==void 0?T:void 0,cy:(C=E.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:E.value,payload:E.payload,points:t});return A.createElement(LQ,{key:"dot-".concat(S),option:n,dotProps:R,className:i})}),w={};return u&&d!=null&&(w.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),A.createElement(Ar,{zIndex:f},A.createElement(wr,Ih({className:r},w),v))}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Q(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xj=0,GQ={xAxis:{},yAxis:{},zAxis:{}},wj=Gn({name:"cartesianAxis",initialState:GQ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Tt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Tt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Tt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...l,r].slice(-3);e.yAxis[n]=ZO(ZO({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:FQ,replaceXAxis:VQ,removeXAxis:KQ,addYAxis:WQ,replaceYAxis:YQ,removeYAxis:JQ,addZAxis:Nde,replaceZAxis:Ode,removeZAxis:Rde,updateYAxisWidth:XQ}=wj.actions,QQ=wj.reducer,ZQ=W([nn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),eZ=W([ZQ,Vi,Ki],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),_w=()=>Ce(eZ),tZ=()=>Ce(CY);function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){nZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nZ(e,t,n){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aZ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=iy(iy(iy({},u),yc(i)),ix(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,d):typeof i=="function"?f=i(d):f=A.createElement(sj,d),A.createElement(wr,{className:"recharts-active-dot",clipPath:l},f)};function oZ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=tn.activeDot}=e,u=Ce(Mo),d=tZ();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return Ct(f)?null:A.createElement(Ar,{zIndex:l},A.createElement(aZ,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var tR=(e,t,n)=>{var r=n??e;if(!Ct(r))return qr(r,t,0)},sZ=(e,t,n)=>{var r={},i=e.filter(Mm),a=e.filter(f=>f.stackId==null),l=i.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},r),u=Object.entries(l).map(f=>{var h,[p,v]=f,w=v.map(S=>S.dataKey),E=tR(t,n,(h=v[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:w,barSize:E}}),d=a.map(f=>{var h=[f.dataKey].filter(v=>v!=null),p=tR(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...d]};function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){lZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dZ(e,t,n,r,i){var a,l=r.length;if(!(l<1)){var u=qr(e,n,0,!0),d,f=[];if(Je((a=r[0])===null||a===void 0?void 0:a.barSize)){var h=!1,p=n/l,v=r.reduce((R,k)=>R+(k.barSize||0),0);v+=(l-1)*u,v>=n&&(v-=(l-1)*u,u=0),v>=n&&p>0&&(h=!0,p*=.9,v=l*p);var w=(n-v)/2>>0,E={offset:w-u,size:0};d=r.reduce((R,k)=>{var P,D={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:E.offset+E.size+u,size:h?p:(P=k.barSize)!==null&&P!==void 0?P:0}},O=[...R,D];return E=D.position,O},f)}else{var S=qr(t,n,0,!0);n-2*S-(l-1)*u<=0&&(u=0);var T=(n-2*S-(l-1)*u)/l;T>1&&(T>>=0);var C=Je(i)?Math.min(T,i):T;d=r.reduce((R,k,P)=>[...R,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:S+(T+u)*P+(T-C)/2,size:C}}],f)}return d}}var fZ=(e,t,n,r,i,a,l)=>{var u=Ct(l)?t:l,d=dZ(n,r,i!==a?i:a,e,u);return i!==a&&d!=null&&(d=d.map(f=>_f(_f({},f),{},{position:_f(_f({},f.position),{},{offset:f.position.offset-i/2})}))),d},hZ=(e,t)=>{var n=Zx(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},mZ=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function pZ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Je(e.zIndex)?e.zIndex:t}var gZ=e=>{var{chartData:t}=e,n=jt(),r=Sn();return A.useEffect(()=>r?()=>{}:(n(fO(t)),()=>{n(fO(void 0))}),[t,n,r]),null},rR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_j=Gn({name:"brush",initialState:rR,reducers:{setBrushSettings(e,t){return t.payload==null?rR:t.payload}}}),{setBrushSettings:kde}=_j.actions,vZ=_j.reducer;function yZ(e){return(e%180+180)%180}var bZ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yZ(i),l=a*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},xZ={dots:[],areas:[],lines:[]},Sj=Gn({name:"referenceElements",initialState:xZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=zr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=zr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=zr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Pde,removeDot:Ide,addArea:Mde,removeArea:Dde,addLine:jde,removeLine:zde}=Sj.actions,wZ=Sj.reducer,_Z=A.createContext(void 0),SZ=e=>{var{children:t}=e,[n]=A.useState("".concat(ec("recharts"),"-clip")),r=_w();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return A.createElement(_Z.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function Ej(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function EZ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return bZ(r,n)}function TZ(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function mc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function AZ(e,t){return Ej(e,t+1)}function CZ(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,p=function(){var E=r==null?void 0:r[d];if(E===void 0)return{v:Ej(r,f)};var S=d,T,C=()=>(T===void 0&&(T=n(E,S)),T),R=E.coordinate,k=d===0||mc(e,R,C,h,u);k||(d=0,h=l,f+=1),k&&(h=R+e*(C()/2+i),d+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function NZ(e,t,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var h=(l-1)%f,p=u,v=!0,w=function(){var P=r[S];if(P==null)return 0;var D=S,O,M=()=>(O===void 0&&(O=n(P,D)),O),B=P.coordinate,L=S===h||mc(e,B,M,p,d);if(!L)return v=!1,1;L&&(p=B+e*(M()/2+i))},E,S=h;S<l&&(E=w(),!(E!==0&&E===1));S+=f);if(v){for(var T=[],C=h;C<l;C+=f){var R=r[C];R!=null&&T.push(R)}return T}}return[]}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(r){OZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PZ(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:d}=t,f=function(v){var w=a[v];if(w==null)return 1;var E=w,S,T=()=>(S===void 0&&(S=n(w,v)),S);if(v===l-1){var C=e*(E.coordinate+e*T()/2-d);a[v]=E=xn(xn({},E),{},{tickCoord:C>0?E.coordinate-C*e:E.coordinate})}else a[v]=E=xn(xn({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var R=mc(e,E.tickCoord,T,u,d);R&&(d=E.tickCoord-e*(T()/2+i),a[v]=xn(xn({},E),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return a}function IZ(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(a){var h=r[u-1];if(h!=null){var p=n(h,u-1),v=e*(h.coordinate+e*p/2-f);if(l[u-1]=h=xn(xn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var w=mc(e,h.tickCoord,()=>p,d,f);w&&(f=h.tickCoord-e*(p/2+i),l[u-1]=xn(xn({},h),{},{isShow:!0}))}}}for(var E=a?u-1:u,S=function(R){var k=l[R];if(k==null)return 1;var P=k,D,O=()=>(D===void 0&&(D=n(k,R)),D);if(R===0){var M=e*(P.coordinate-e*O()/2-d);l[R]=P=xn(xn({},P),{},{tickCoord:M<0?P.coordinate-M*e:P.coordinate})}else l[R]=P=xn(xn({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var B=mc(e,P.tickCoord,O,d,f);B&&(d=P.tickCoord+e*(O()/2+i),l[R]=xn(xn({},P),{},{isShow:!0}))}},T=0;T<E;T++)S(T);return l}function Sw(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(we(d)||xm.isSsr){var v;return(v=AZ(i,we(d)?d:0))!==null&&v!==void 0?v:[]}var w=[],E=u==="top"||u==="bottom"?"width":"height",S=h&&E==="width"?Gu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(D,O)=>{var M=typeof f=="function"?f(D.value,O):D.value;return E==="width"?EZ(Gu(M,{fontSize:t,letterSpacing:n}),S,p):Gu(M,{fontSize:t,letterSpacing:n})[E]},C=i[0],R=i[1],k=i.length>=2&&C!=null&&R!=null?qn(R.coordinate-C.coordinate):1,P=TZ(a,k,E);return d==="equidistantPreserveStart"?CZ(k,P,T,i,l):d==="equidistantPreserveEnd"?NZ(k,P,T,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=IZ(k,P,T,i,l,d==="preserveStartEnd"):w=PZ(k,P,T,i,l),w.filter(D=>D.isShow))}var MZ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+a,f=l+d+u+(n?r:0);return Math.round(f)}return 0},DZ=["axisLine","width","height","className","hide","ticks","axisType"];function jZ(e,t){if(e==null)return{};var n,r,i=zZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(null,arguments)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){LZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LZ(e,t,n){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ii={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tn.axis};function qZ(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=kt(kt(kt({},d),Br(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);f=kt(kt({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);f=kt(kt({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return A.createElement("line",Do({},f,{className:mt("recharts-cartesian-axis-line",rl(u,"className"))}))}function $Z(e,t,n,r,i,a,l,u,d){var f,h,p,v,w,E,S=u?-1:1,T=e.tickSize||l,C=we(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,v=n+ +!u*i,p=v-S*T,E=p-S*d,w=C;break;case"left":p=v=e.coordinate,h=t+ +!u*r,f=h-S*T,w=f-S*d,E=C;break;case"right":p=v=e.coordinate,h=t+ +u*r,f=h+S*T,w=f+S*d,E=C;break;default:f=h=e.coordinate,v=n+ +u*i,p=v+S*T,E=p+S*d,w=C;break}return{line:{x1:f,y1:p,x2:h,y2:v},tick:{x:w,y:E}}}function HZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function GZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function FZ(e){var{option:t,tickProps:n,value:r}=e,i,a=mt(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,kt(kt({},n),{},{className:a}));else if(typeof t=="function")i=t(kt(kt({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=mt(l,ZX(t))),i=A.createElement(xw,Do({},n,{className:l}),r)}return i}var VZ=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:p,x:v,y:w,width:E,height:S,tickSize:T,tickMargin:C,fontSize:R,letterSpacing:k,getTicksConfig:P,events:D,axisType:O}=e,M=Sw(kt(kt({},P),{},{ticks:n}),R,k),B=HZ(h,p),L=GZ(h,p),K=Br(P),X=yc(r),H={};typeof i=="object"&&(H=i);var he=kt(kt({},K),{},{fill:"none"},H),ce=M.map(te=>kt({entry:te},$Z(te,v,w,E,S,h,T,p,C))),ge=ce.map(te=>{var{entry:ie,line:ue}=te;return A.createElement(wr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&A.createElement("line",Do({},he,ue,{className:mt("recharts-cartesian-axis-tick-line",rl(i,"className"))})))}),$=ce.map((te,ie)=>{var ue,ve,{entry:z,tick:Y}=te,le=kt(kt(kt(kt({verticalAnchor:L},K),{},{textAnchor:B,stroke:"none",fill:a},Y),{},{index:ie,payload:z,visibleTicksCount:M.length,tickFormatter:l,padding:d},f),{},{angle:(ue=(ve=f==null?void 0:f.angle)!==null&&ve!==void 0?ve:K.angle)!==null&&ue!==void 0?ue:0}),fe=kt(kt({},le),X);return A.createElement(wr,Do({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},ax(D,z,ie)),r&&A.createElement(FZ,{option:r,tickProps:fe,value:"".concat(typeof l=="function"?l(z.value,ie):z.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},$.length>0&&A.createElement(Ar,{zIndex:tn.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},$)),ge.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ge))}),KZ=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:d}=e,f=jZ(e,DZ),[h,p]=A.useState(""),[v,w]=A.useState(""),E=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return MZ({ticks:E.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=A.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var R=C[0];if(R){var k=window.getComputedStyle(R),P=k.fontSize,D=k.letterSpacing;(P!==h||D!==v)&&(p(P),w(D))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Ar,{zIndex:e.zIndex},A.createElement(wr,{className:mt("recharts-cartesian-axis",a)},A.createElement(qZ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Br(e)}),A.createElement(VZ,{ref:S,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(NX,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(LX,{label:e.label,labelRef:e.labelRef}),e.children)))}),Ew=A.forwardRef((e,t)=>{var n=Pn(e,Ii);return A.createElement(KZ,Do({},n,{ref:t}))});Ew.displayName="CartesianAxis";var WZ=["x1","y1","x2","y2","key"],YZ=["offset"],JZ=["xAxisId","yAxisId"],XZ=["xAxisId","yAxisId"];function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(null,arguments)}function Mh(e,t){if(e==null)return{};var n,r,i=tee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nee=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Tj(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:d,key:f}=n,h=Mh(n,WZ),p=(i=Br(h))!==null&&i!==void 0?i:{},{offset:v}=p,w=Mh(p,YZ);r=A.createElement("line",So({},w,{x1:a,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function ree(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Mh(e,JZ),d=i.map((f,h)=>{var p=wn(wn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return A.createElement(Tj,{key:"line-".concat(h),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function iee(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Mh(e,XZ),d=i.map((f,h)=>{var p=wn(wn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return A.createElement(Tj,{option:r,lineItemProps:p,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function aee(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var w=f[v+1],E=w==null,S=E?i+l-p:w-p;if(S<=0)return null;var T=v%t.length;return A.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:S,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function oee(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==f[0]&&f.unshift(0);var h=f.map((p,v)=>{var w=f[v+1],E=w==null,S=E?i+l-p:w-p;if(S<=0)return null;var T=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:S,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var see=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return rM(Sw(wn(wn(wn({},Ii),n),{},{ticks:iM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},lee=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return rM(Sw(wn(wn(wn({},Ii),n),{},{ticks:iM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},uee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tn.grid};function $m(e){var t=cM(),n=dM(),r=uM(),i=wn(wn({},Pn(e,uee)),{},{x:we(e.x)?e.x:r.left,y:we(e.y)?e.y:r.top,width:we(e.width)?e.width:r.width,height:we(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:p,horizontalValues:v,verticalValues:w}=i,E=Sn(),S=Ce(L=>eO(L,"xAxis",a,E)),T=Ce(L=>eO(L,"yAxis",l,E));if(!oi(f)||!oi(h)||!we(u)||!we(d))return null;var C=i.verticalCoordinatesGenerator||see,R=i.horizontalCoordinatesGenerator||lee,{horizontalPoints:k,verticalPoints:P}=i;if((!k||!k.length)&&typeof R=="function"){var D=v&&v.length,O=R({yAxis:T?wn(wn({},T),{},{ticks:D?v:T.ticks}):void 0,width:t??f,height:n??h,offset:r},D?!0:p);oh(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(k=O)}if((!P||!P.length)&&typeof C=="function"){var M=w&&w.length,B=C({xAxis:S?wn(wn({},S),{},{ticks:M?w:S.ticks}):void 0,width:t??f,height:n??h,offset:r},M?!0:p);oh(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(P=B)}return A.createElement(Ar,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(nee,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(aee,So({},i,{horizontalPoints:k})),A.createElement(oee,So({},i,{verticalPoints:P})),A.createElement(ree,So({},i,{offset:r,horizontalPoints:k,xAxis:S,yAxis:T})),A.createElement(iee,So({},i,{offset:r,verticalPoints:P,xAxis:S,yAxis:T}))))}$m.displayName="CartesianGrid";var cee={},Aj=Gn({name:"errorBars",initialState:cee,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Lde,replaceErrorBar:Ude,removeErrorBar:Bde}=Aj.actions,dee=Aj.reducer,fee=["children"];function hee(e,t){if(e==null)return{};var n,r,i=mee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pee={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gee=A.createContext(pee);function Cj(e){var{children:t}=e,n=hee(e,fee);return A.createElement(gee.Provider,{value:n},t)}function Tw(e,t){var n,r,i=Ce(f=>Ji(f,e)),a=Ce(f=>Xi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Qt.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Zt.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Nj(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=_w(),{needClipX:a,needClipY:l,needClip:u}=Tw(t,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?d:d-h/2,y:l?f:f-p/2,width:a?h:h*2,height:l?p:p*2}))}var Oj=(e,t,n,r)=>La(e,"xAxis",t,r),Rj=(e,t,n,r)=>za(e,"xAxis",t,r),kj=(e,t,n,r)=>La(e,"yAxis",n,r),Pj=(e,t,n,r)=>za(e,"yAxis",n,r),vee=W([st,Oj,kj,Rj,Pj],(e,t,n,r,i)=>Fi(e,"xAxis")?al(t,r,!1):al(n,i,!1)),yee=(e,t,n,r,i)=>i;function bee(e){return e.type==="line"}var xee=W([zm,yee],(e,t)=>e.filter(bee).find(n=>n.id===t)),wee=W([st,Oj,kj,Rj,Pj,xee,vee,Gx],(e,t,n,r,i,a,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=u;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:v}=a,w;if(v!=null&&v.length>0?w=v:w=d==null?void 0:d.slice(f,h+1),w!=null)return ote({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:w})}});function _ee(e){var t=yc(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var ay={exports:{}},oy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function See(){if(sR)return oy;sR=1;var e=cl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return oy.useSyncExternalStoreWithSelector=function(d,f,h,p,v){var w=i(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function T(D){if(!C){if(C=!0,R=D,D=p(D),v!==void 0&&E.hasValue){var O=E.value;if(v(O,D))return k=O}return k=D}if(O=k,n(R,D))return O;var M=p(D);return v!==void 0&&v(O,M)?(R=D,O):(R=D,k=M)}var C=!1,R,k,P=h===void 0?null:h;return[function(){return T(f())},P===null?void 0:function(){return T(P())}]},[f,h,p,v]);var S=r(d,w[0],w[1]);return a(function(){E.hasValue=!0,E.value=S},[S]),u(S),S},oy}var lR;function Eee(){return lR||(lR=1,ay.exports=See()),ay.exports}Eee();function Tee(e){e()}function Aee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Tee(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var uR={notify(){},get:()=>[]};function Cee(e,t){let n,r=uR,i=0,a=!1;function l(S){h();const T=r.subscribe(S);let C=!1;return()=>{C||(C=!0,T(),p())}}function u(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function f(){return a}function h(){i++,n||(n=e.subscribe(d),r=Aee())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uR)}function v(){a||(a=!0,h())}function w(){a&&(a=!1,p())}const E={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:w,getListeners:()=>r};return E}var Nee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oee=Nee(),Ree=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kee=Ree(),Pee=()=>Oee||kee?A.useLayoutEffect:A.useEffect,Iee=Pee();function cR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Mee(e,t){if(cR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!cR(e[n[i]],t[n[i]]))return!1;return!0}var sy=Symbol.for("react-redux-context"),ly=typeof globalThis<"u"?globalThis:{};function Dee(){if(!A.createContext)return{};const e=ly[sy]??(ly[sy]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var jee=Dee();function zee(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const d=Cee(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);Iee(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const u=n||jee;return A.createElement(u.Provider,{value:a},t)}var Lee=zee,Uee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Bee(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Hm(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Uee.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Mee(e[r],t[r]))return!1}else if(!Bee(e[r],t[r]))return!1;return!0}var qee=["id"],$ee=["type","layout","connectNulls","needClip","shape"],Hee=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(null,arguments)}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){Gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=Vee(e,"string");return typeof t=="symbol"?t:t+""}function Vee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aw(e,t){if(e==null)return{};var n,r,i=Kee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wee=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:dm(n,t),payload:e}]},Yee=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:d,tooltipType:f,id:h}=e,p={dataDefinedOnItem:n,getPosition:jo,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:dm(l,t),hide:u,type:f,color:r,unit:d,graphicalItemId:h}};return A.createElement(pj,{tooltipEntrySettings:p})}),Ij=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Jee(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Xee=(e,t,n)=>{var r=n.reduce((w,E)=>w+E);if(!r)return Ij(t,e);for(var i=Math.floor(e/r),a=e%r,l=t-e,u=[],d=0,f=0;d<n.length;f+=(h=n[d])!==null&&h!==void 0?h:0,++d){var h,p=n[d];if(p!=null&&f+p>a){u=[...n.slice(0,d),a-f];break}}var v=u.length%2===0?[0,l]:[l];return[...Jee(n,i),...u,...v].map(w=>"".concat(w,"px")).join(", ")};function Qee(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:l}=r,{id:u}=r,d=Aw(r,qee),f=Br(d);return A.createElement(BQ,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:l,clipPathId:t})}function Zee(e){var{showLabels:t,children:n,points:r}=e,i=A.useMemo(()=>r==null?void 0:r.map(a=>{var l,u,d={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Zr(Zr({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(ij,{value:t?i:void 0},n)}function fR(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:l,layout:u,connectNulls:d,needClip:f,shape:h}=a,p=Aw(a,$ee),v=Zr(Zr({},On(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(dj,pc({shapeType:"curve",option:h},v,{pathRef:n})),A.createElement(Qee,{points:r,clipPathId:t,props:a}))}function ete(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function tte(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:v,width:w,height:E,onAnimationEnd:S,onAnimationStart:T}=n,C=i.current,R=_m(l,"recharts-line-"),k=A.useRef(R),[P,D]=A.useState(!1),O=!P,M=A.useCallback(()=>{typeof S=="function"&&S(),D(!1)},[S]),B=A.useCallback(()=>{typeof T=="function"&&T(),D(!0)},[T]),L=ete(r.current),K=A.useRef(0);k.current!==R&&(K.current=a.current,k.current=R);var X=K.current;return A.createElement(Zee,{points:l,showLabels:O},n.children,A.createElement(wm,{animationId:R,begin:f,duration:h,isActive:d,easing:p,onAnimationEnd:M,onAnimationStart:B,key:R},H=>{var he=It(X,L+X,H),ce=Math.min(he,L),ge;if(d)if(u){var $="".concat(u).split(/[,\s]+/gim).map(ue=>parseFloat(ue));ge=Xee(ce,L,$)}else ge=Ij(L,ce);else ge=u==null?void 0:String(u);if(H>0&&L>0&&(i.current=l,a.current=Math.max(a.current,ce)),C){var te=C.length/l.length,ie=H===1?l:l.map((ue,ve)=>{var z=Math.floor(ve*te);if(C[z]){var Y=C[z];return Zr(Zr({},ue),{},{x:It(Y.x,ue.x,H),y:It(Y.y,ue.y,H)})}return v?Zr(Zr({},ue),{},{x:It(w*2,ue.x,H),y:It(E/2,ue.y,H)}):Zr(Zr({},ue),{},{x:ue.x,y:ue.y})});return i.current=ie,A.createElement(fR,{props:n,points:ie,clipPathId:t,pathRef:r,strokeDasharray:ge})}return A.createElement(fR,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:ge})}),A.createElement(oj,{label:n.label}))}function nte(e){var{clipPathId:t,props:n}=e,r=A.useRef(null),i=A.useRef(0),a=A.useRef(null);return A.createElement(tte,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var rte=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Ht(e.payload,t)}};class ite extends A.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:l,top:u,left:d,width:f,height:h,id:p,needClip:v,zIndex:w}=this.props;if(t)return null;var E=mt("recharts-line",i),S=p,{r:T,strokeWidth:C}=_ee(n),R=cj(n),k=T*2+C,P=v?"url(#clipPath-".concat(R?"":"dots-").concat(S,")"):void 0;return A.createElement(Ar,{zIndex:w},A.createElement(wr,{className:E},v&&A.createElement("defs",null,A.createElement(Nj,{clipPathId:S,xAxisId:a,yAxisId:l}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:d-k/2,y:u-k/2,width:f+k,height:h+k}))),A.createElement(Cj,{xAxisId:a,yAxisId:l,data:r,dataPointFormatter:rte,errorBarOffset:0},A.createElement(nte,{props:this.props,clipPathId:S}))),A.createElement(oZ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var Mj={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:tn.line,type:"linear"};function ate(e){var t=Pn(e,Mj),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:d,hide:f,isAnimationActive:h,label:p,legendType:v,xAxisId:w,yAxisId:E,id:S}=t,T=Aw(t,Hee),{needClip:C}=Tw(w,E),R=_w(),k=zo(),P=Sn(),D=Ce(K=>wee(K,w,E,P,S));if(k!=="horizontal"&&k!=="vertical"||D==null||R==null)return null;var{height:O,width:M,x:B,y:L}=R;return A.createElement(ite,pc({},T,{id:S,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:h,hide:f,label:p,legendType:v,xAxisId:w,yAxisId:E,points:D,layout:k,height:O,width:M,left:B,top:L,needClip:C}))}function ote(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:u,displayedData:d}=e;return d.map((f,h)=>{var p=Ht(f,l);if(t==="horizontal"){var v=Z1({axis:n,ticks:i,bandSize:u,entry:f,index:h}),w=Ct(p)?null:r.scale.map(p);return{x:v,y:w??null,value:p,payload:f}}var E=Ct(p)?null:n.scale.map(p),S=Z1({axis:r,ticks:a,bandSize:u,entry:f,index:h});return E==null||S==null?null:{x:E,y:S,value:p,payload:f}}).filter(Boolean)}function ste(e){var t=Pn(e,Mj),n=Sn();return A.createElement(vj,{id:t.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(gj,{legendPayload:Wee(t)}),A.createElement(Yee,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),A.createElement(bj,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),A.createElement(ate,pc({},t,{id:r}))))}var Dj=A.memo(ste,Hm);Dj.displayName="Line";function Bo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:xj}function qo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:xj}var lte="Invariant failed";function ute(e,t){throw new Error(lte)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function Dh(e){return A.createElement(dj,bb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var cte=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(we(t))return t;var a=we(r)||Ct(r);return a?t(r,i):(a||ute(),n)}},dte=(e,t,n)=>n,fte=(e,t)=>t,Dc=W([zm,fte],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),hte=W([Dc],e=>e==null?void 0:e.maxBarSize),mte=(e,t,n,r)=>r,pte=W([st,zm,Bo,qo,dte],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),gte=(e,t,n)=>{var r=st(e),i=Bo(e,t),a=qo(e,t);if(!(i==null||a==null))return r==="horizontal"?fb(e,"yAxis",a,n):fb(e,"xAxis",i,n)},vte=(e,t)=>{var n=st(e),r=Bo(e,t),i=qo(e,t);if(!(r==null||i==null))return n==="horizontal"?ZN(e,"xAxis",r):ZN(e,"yAxis",i)},yte=W([pte,_W,vte],sZ),bte=(e,t,n)=>{var r,i,a=Dc(e,t);if(a==null)return 0;var l=Bo(e,t),u=qo(e,t);if(l==null||u==null)return 0;var d=st(e),f=S2(e),{maxBarSize:h}=a,p=Ct(h)?f:h,v,w;return d==="horizontal"?(v=La(e,"xAxis",l,n),w=za(e,"xAxis",l,n)):(v=La(e,"yAxis",u,n),w=za(e,"yAxis",u,n)),(r=(i=al(v,w,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0},jj=(e,t,n)=>{var r=st(e),i=Bo(e,t),a=qo(e,t);if(!(i==null||a==null)){var l,u;return r==="horizontal"?(l=La(e,"xAxis",i,n),u=za(e,"xAxis",i,n)):(l=La(e,"yAxis",a,n),u=za(e,"yAxis",a,n)),al(l,u)}},xte=W([yte,S2,wW,E2,bte,jj,hte],fZ),wte=(e,t,n)=>{var r=Bo(e,t);if(r!=null)return La(e,"xAxis",r,n)},_te=(e,t,n)=>{var r=qo(e,t);if(r!=null)return La(e,"yAxis",r,n)},Ste=(e,t,n)=>{var r=Bo(e,t);if(r!=null)return za(e,"xAxis",r,n)},Ete=(e,t,n)=>{var r=qo(e,t);if(r!=null)return za(e,"yAxis",r,n)},Tte=W([xte,Dc],mZ),Ate=W([gte,Dc],hZ),Cte=W([nn,px,wte,_te,Ste,Ete,Tte,st,hW,jj,Ate,Dc,mte],(e,t,n,r,i,a,l,u,d,f,h,p,v)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:S}=d;if(!(p==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||f==null)){var{data:T}=p,C;if(T!=null&&T.length>0?C=T:C=w==null?void 0:w.slice(E,S+1),C!=null)return tne({layout:u,barSettings:p,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:E})}}),Nte=["index"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function Ote(e,t){if(e==null)return{};var n,r,i=Rte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zj=A.createContext(void 0),kte=e=>{var t=A.useContext(zj);if(t!=null)return t.stackId;if(e!=null)return gG(e)},Pte=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Ite=e=>{var t=A.useContext(zj);if(t!=null){var{stackId:n}=t;return"url(#".concat(Pte(n,e),")")}},Lj=e=>{var{index:t}=e,n=Ote(e,Nte),r=Ite(t);return A.createElement(wr,xb({className:"recharts-bar-stack-layer",clipPath:r},n))},Mte=["onMouseEnter","onMouseLeave","onClick"],Dte=["value","background","tooltipPosition"],jte=["id"],zte=["onMouseEnter","onClick","onMouseLeave"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){Lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lte(e,t,n){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ute(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jh(e,t){if(e==null)return{};var n,r,i=qte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $te=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:dm(n,t),payload:e}]},Hte=A.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u,tooltipType:d,id:f}=e,h={dataDefinedOnItem:void 0,getPosition:jo,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:dm(a,t),hide:l,type:d,color:i,unit:u,graphicalItemId:f}};return A.createElement(pj,{tooltipEntrySettings:h})});function Gte(e){var t=Ce(Mo),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=a,f=jh(a,Mte),h=fj(l,r,a.id),p=hj(u),v=mj(d,r,a.id);if(!i||n==null)return null;var w=yc(i);return A.createElement(Ar,{zIndex:pZ(i,tn.barBackground)},n.map((E,S)=>{var{value:T,background:C,tooltipPosition:R}=E,k=jh(E,Dte);if(!C)return null;var P=h(E,S),D=p(E,S),O=v(E,S),M=An(An(An(An(An({option:i,isActive:String(S)===t},k),{},{fill:"#eee"},C),w),ax(f,E,S)),{},{onMouseEnter:P,onMouseLeave:D,onClick:O,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return A.createElement(Dh,$i({key:"background-bar-".concat(S)},M))}))}function Fte(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return An(An({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return A.createElement(ij,{value:t?i:void 0},n)}function Vte(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=e,u=Ce(Mo),d=Ce(DD),f=n&&String(a)===u&&(d==null||l===d),h=f?n:t;return f?A.createElement(Ar,{zIndex:tn.activeBar},A.createElement(Lj,{index:a},A.createElement(Dh,$i({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:l})))):A.createElement(Dh,$i({},r,{name:String(r.name)},i,{isActive:f,option:h,index:a,dataKey:l}))}function Kte(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return A.createElement(Dh,$i({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function Wte(e){var t,{data:n,props:r}=e,i=(t=Br(r))!==null&&t!==void 0?t:{},{id:a}=i,l=jh(i,jte),{shape:u,dataKey:d,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:v}=r,w=jh(r,zte),E=fj(h,d,a),S=hj(v),T=mj(p,d,a);return n?A.createElement(A.Fragment,null,n.map((C,R)=>A.createElement(Lj,$i({index:R,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(R),className:"recharts-bar-rectangle"},ax(w,C,R),{onMouseEnter:E(C,R),onMouseLeave:S(C,R),onClick:T(C,R)}),f?A.createElement(Vte,{shape:u,activeBar:f,baseProps:l,entry:C,index:R,dataKey:d}):A.createElement(Kte,{shape:u,baseProps:l,entry:C,index:R,dataKey:d})))):null}function Yte(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,p=n.current,v=_m(t,"recharts-bar-"),[w,E]=A.useState(!1),S=!w,T=A.useCallback(()=>{typeof f=="function"&&f(),E(!1)},[f]),C=A.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return A.createElement(Fte,{showLabels:S,rects:r},A.createElement(wm,{animationId:v,begin:l,duration:u,isActive:a,easing:d,onAnimationEnd:T,onAnimationStart:C,key:v},R=>{var k=R===1?r:r==null?void 0:r.map((P,D)=>{var O=p&&p[D];if(O)return An(An({},P),{},{x:It(O.x,P.x,R),y:It(O.y,P.y,R),width:It(O.width,P.width,R),height:It(O.height,P.height,R)});if(i==="horizontal"){var M=It(0,P.height,R),B=It(P.stackedBarStart,P.y,R);return An(An({},P),{},{y:B,height:M})}var L=It(0,P.width,R),K=It(P.stackedBarStart,P.x,R);return An(An({},P),{},{width:L,x:K})});return R>0&&(n.current=k??null),k==null?null:A.createElement(wr,null,A.createElement(Wte,{props:t,data:k}))}),A.createElement(oj,{label:t.label}),t.children)}function Jte(e){var t=A.useRef(null);return A.createElement(Yte,{previousRectanglesRef:t,props:e})}var Uj=0,Xte=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ht(e,t)}};class Qte extends A.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var h=mt("recharts-bar",i),p=f;return A.createElement(wr,{className:h,id:f},u&&A.createElement("defs",null,A.createElement(Nj,{clipPathId:p,xAxisId:a,yAxisId:l})),A.createElement(wr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},A.createElement(Gte,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),A.createElement(Jte,this.props)))}}var Zte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Uj,xAxisId:0,yAxisId:0,zIndex:tn.bar};function ene(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:p}=Tw(t,n),v=zo(),w=Sn(),E=rQ(e.children,VD),S=Ce(R=>Cte(R,e.id,w,E));if(v!=="vertical"&&v!=="horizontal")return null;var T,C=S==null?void 0:S[0];return C==null||C.height==null||C.width==null?T=0:T=v==="vertical"?C.height/2:C.width/2,A.createElement(Cj,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:Xte,errorBarOffset:T},A.createElement(Qte,$i({},e,{layout:v,needClip:p,data:S,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function tne(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:v,cells:w,parentViewBox:E,dataStartIndex:S}=e,T=t==="horizontal"?u:l,C=h?T.scale.domain():null,R=vG({numericAxis:T}),k=T.scale.map(R);return p.map((P,D)=>{var O,M,B,L,K,X;if(h){var H=h[D+S];if(H==null)return null;O=dG(H,C)}else O=Ht(P,n),Array.isArray(O)||(O=[R,O]);var he=cte(r,Uj)(O[1],D);if(t==="horizontal"){var ce,ge=u.scale.map(O[0]),$=u.scale.map(O[1]);if(ge==null||$==null)return null;M=eC({axis:l,ticks:d,bandSize:a,offset:i.offset,entry:P,index:D}),B=(ce=$??ge)!==null&&ce!==void 0?ce:void 0,L=i.size;var te=ge-$;if(K=ii(te)?0:te,X={x:M,y:v.top,width:L,height:v.height},Math.abs(he)>0&&Math.abs(K)<Math.abs(he)){var ie=qn(K||he)*(Math.abs(he)-Math.abs(K));B-=ie,K+=ie}}else{var ue=l.scale.map(O[0]),ve=l.scale.map(O[1]);if(ue==null||ve==null)return null;if(M=ue,B=eC({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:P,index:D}),L=ve-ue,K=i.size,X={x:v.left,y:B,width:v.width,height:K},Math.abs(he)>0&&Math.abs(L)<Math.abs(he)){var z=qn(L||he)*(Math.abs(he)-Math.abs(L));L+=z}}if(M==null||B==null||L==null||K==null)return null;var Y=An(An({},P),{},{stackedBarStart:k,x:M,y:B,width:L,height:K,value:h?O:O[1],payload:P,background:X,tooltipPosition:{x:M+L/2,y:B+K/2},parentViewBox:E},w&&w[D]&&w[D].props);return Y}).filter(Boolean)}function nne(e){var t=Pn(e,Zte),n=kte(t.stackId),r=Sn();return A.createElement(vj,{id:t.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(gj,{legendPayload:$te(t)}),A.createElement(Hte,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),A.createElement(bj,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),A.createElement(Ar,{zIndex:t.zIndex},A.createElement(ene,$i({},t,{id:i})))))}var Cw=A.memo(nne,Hm);Cw.displayName="Bar";var rne=["domain","range"],ine=["domain","range"];function mR(e,t){if(e==null)return{};var n,r,i=ane(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ane(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Bj(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=mR(e,rne),{domain:a,range:l}=t,u=mR(t,ine);return!pR(n,a)||!pR(r,l)?!1:Hm(i,u)}var one=["type"],sne=["dangerouslySetInnerHTML","ticks","scale"],lne=["id","scale"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cne(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _b(e,t){if(e==null)return{};var n,r,i=fne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hne(e){var t=jt(),n=A.useRef(null),r=fM(),{type:i}=e,a=_b(e,one),l=km(r,"xAxis",i),u=A.useMemo(()=>{if(l!=null)return vR(vR({},a),{},{type:l})},[a,l]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(FQ(u)):n.current!==u&&t(VQ({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(KQ(n.current)),n.current=null)},[t]),null}var mne=e=>{var{xAxisId:t,className:n}=e,r=Ce(px),i=Sn(),a="xAxis",l=Ce(C=>mD(C,a,t,i)),u=Ce(C=>cD(C,t)),d=Ce(C=>S7(C,t)),f=Ce(C=>I2(C,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:v}=e,w=_b(e,sne),{id:E,scale:S}=f,T=_b(f,lne);return A.createElement(Ew,wb({},w,T,{x:d.x,y:d.y,width:u.width,height:u.height,className:mt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},pne={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:Ii.axisLine,height:Qt.height,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,label:!1,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:Ii.tickLine,tickSize:Ii.tickSize,type:Qt.type,xAxisId:0},gne=e=>{var t=Pn(e,pne);return A.createElement(A.Fragment,null,A.createElement(hne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(mne,t))},Gm=A.memo(gne,Bj);Gm.displayName="XAxis";var vne=["type"],yne=["dangerouslySetInnerHTML","ticks","scale"],bne=["id","scale"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(null,arguments)}function yR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(n),!0).forEach(function(r){xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xne(e,t,n){return(t=wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wne(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eb(e,t){if(e==null)return{};var n,r,i=Sne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ene(e){var t=jt(),n=A.useRef(null),r=fM(),{type:i}=e,a=Eb(e,vne),l=km(r,"yAxis",i),u=A.useMemo(()=>{if(l!=null)return bR(bR({},a),{},{type:l})},[l,a]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(WQ(u)):n.current!==u&&t(YQ({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(JQ(n.current)),n.current=null)},[t]),null}function Tne(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),l=A.useRef(null),u=Ce(px),d=Sn(),f=jt(),h="yAxis",p=Ce(O=>dD(O,t)),v=Ce(O=>T7(O,t)),w=Ce(O=>mD(O,h,t,d)),E=Ce(O=>M2(O,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!p||ww(i)||A.isValidElement(i)||E==null)){var O=a.current;if(O){var M=O.getCalculatedWidth();Math.round(p.width)!==Math.round(M)&&f(XQ({id:t,width:M}))}}},[w,p,f,i,t,r,E]),p==null||v==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:T,scale:C}=e,R=Eb(e,yne),{id:k,scale:P}=E,D=Eb(E,bne);return A.createElement(Ew,Sb({},R,D,{ref:a,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:mt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:w,axisType:h}))}var Ane={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Ii.axisLine,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,label:!1,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Ii.tickLine,tickSize:Ii.tickSize,type:Zt.type,width:Zt.width,yAxisId:0},Cne=e=>{var t=Pn(e,Ane);return A.createElement(A.Fragment,null,A.createElement(Ene,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(Tne,t))},Nw=A.memo(Cne,Bj);Nw.displayName="YAxis";var Nne=(e,t)=>t,Ow=W([Nne,st,k2,on,kD,Qi,BY,nn],KY),Rw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},qj=_r("mouseClick"),$j=wc();$j.startListening({actionCreator:qj,effect:(e,t)=>{var n=e.payload,r=Ow(t.getState(),Rw(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(U7({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Tb=_r("mouseMove"),Hj=wc(),Sf=null;Hj.startListening({actionCreator:Tb,effect:(e,t)=>{var n=e.payload;Sf!==null&&cancelAnimationFrame(Sf);var r=Rw(n);Sf=requestAnimationFrame(()=>{var i=t.getState(),a=uw(i,i.tooltip.settings.shared);if(a==="axis"){var l=Ow(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(_D({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(wD())}Sf=null})}});function One(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var xR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Gj=Gn({name:"rootProps",initialState:xR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:xR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Rne=Gj.reducer,{updateOptions:kne}=Gj.actions,Pne=null,Ine={updatePolarOptions:(e,t)=>t.payload},Fj=Gn({name:"polarOptions",initialState:Pne,reducers:Ine}),{updatePolarOptions:qde}=Fj.actions,Mne=Fj.reducer,Vj=_r("keyDown"),Kj=_r("focus"),kw=wc();kw.startListening({actionCreator:Vj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=cw(i,_l(n),kc(n),Ic(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Qi(n);if(a==="Enter"){var f=Oh(n,"axis","hover",String(i.index));t.dispatch(mb({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=O7(n),p=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,w=u+v*p;if(!(d==null||w>=d.length||w<0)){var E=Oh(n,"axis","hover",String(w));t.dispatch(mb({active:!0,activeIndex:w.toString(),activeCoordinate:E}))}}}}}});kw.startListening({actionCreator:Kj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Oh(n,"axis","hover",String(a));t.dispatch(mb({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var yr=_r("externalEvent"),Wj=wc(),uy=new Map;Wj.startListening({actionCreator:yr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=uy.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:EY(u),activeDataKey:DD(u),activeIndex:Mo(u),activeLabel:MD(u),activeTooltipIndex:Mo(u),isTooltipActive:TY(u)};n(d,r)}finally{uy.delete(i)}});uy.set(i,l)}}});var Dne=W([xl],e=>e.tooltipItemPayloads),jne=W([Dne,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),Yj=_r("touchMove"),Jj=wc();Jj.startListening({actionCreator:Yj,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=uw(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=Ow(r,Rw({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(_D({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(EG),p=(u=f.getAttribute(TG))!==null&&u!==void 0?u:void 0,v=wl(r).find(S=>S.id===p);if(h==null||v==null||p==null)return;var{dataKey:w}=v,E=jne(r,h,p);t.dispatch(xD({activeDataKey:w,activeIndex:h,activeCoordinate:E,activeGraphicalItemId:p}))}}}});var zne=NI({brush:vZ,cartesianAxis:QQ,chartData:EJ,errorBars:dee,graphicalItems:RQ,layout:oG,legend:gF,options:bJ,polarAxis:QX,polarOptions:Mne,referenceElements:wZ,rootProps:Rne,tooltip:B7,zIndex:sJ}),Lne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return k6({reducer:zne,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$j.middleware,Hj.middleware,kw.middleware,Wj.middleware,Jj.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(HI({type:"raf"}))},devTools:{serialize:{replacer:One},name:"recharts-".concat(n)}})};function Une(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Sn(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=Lne(t,r));var l=lx;return A.createElement(Lee,{context:l,store:a.current},n)}function Bne(e){var{layout:t,margin:n}=e,r=jt(),i=Sn();return A.useEffect(()=>{i||(r(rG(t)),r(nG(n)))},[r,i,t,n]),null}var qne=A.memo(Bne,Hm);function $ne(e){var t=jt();return A.useEffect(()=>{t(kne(e))},[t,e]),null}function wR(e){var{zIndex:t,isPanorama:n}=e,r=A.useRef(null),i=jt();return A.useLayoutEffect(()=>(r.current&&i(aJ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(oJ({zIndex:t,isPanorama:n}))}),[i,t,n]),A.createElement("g",{tabIndex:-1,ref:r})}function _R(e){var{children:t,isPanorama:n}=e,r=Ce(YY);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(wR,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>A.createElement(wR,{key:l,zIndex:l,isPanorama:n})))}var Hne=["children"];function Gne(e,t){if(e==null)return{};var n,r,i=Fne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(null,arguments)}var Vne={width:"100%",height:"100%",display:"block"},Kne=A.forwardRef((e,t)=>{var n=cM(),r=dM(),i=wM();if(!oi(n)||!oi(r))return null;var{children:a,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),A.createElement(FP,zh({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:Vne,ref:t}),a)}),Wne=e=>{var{children:t}=e,n=Ce(pm);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return A.createElement(FP,{width:r,height:i,x:l,y:a},t)},SR=A.forwardRef((e,t)=>{var{children:n}=e,r=Gne(e,Hne),i=Sn();return i?A.createElement(Wne,null,A.createElement(_R,{isPanorama:!0},n)):A.createElement(Kne,zh({ref:t},r),A.createElement(_R,{isPanorama:!1},n))});function Yne(){var e=jt(),[t,n]=A.useState(null),r=Ce(SG);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Je(a)&&a!==r&&e(aG(a))}},[t,e,r]),n}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){Xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xne(e,t,n){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(null,arguments)}var ere=()=>(IJ(),null);function Lh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var tre=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,l]=A.useState({containerWidth:Lh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Lh((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{l(p=>{var v=Math.round(f),w=Math.round(h);return p.containerWidth===v&&p.containerHeight===w?p:{containerWidth:v,containerHeight:w}})},[]),d=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var v=E=>{var S=E[0];if(S!=null){var{width:T,height:C}=S.contentRect;u(T,C)}},w=new ResizeObserver(v);w.observe(f),i.current=w}},[t,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(Sc,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",ja({ref:d},e)))}),nre=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:Lh(n),containerHeight:Lh(r)}),l=A.useCallback((d,f)=>{a(h=>{var p=Math.round(d),v=Math.round(f);return h.containerWidth===p&&h.containerHeight===v?h:{containerWidth:p,containerHeight:v}})},[]),u=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(Sc,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",ja({ref:u},e)))}),rre=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(Sc,{width:n,height:r}),A.createElement("div",ja({ref:t},e)))}),ire=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?A.createElement(nre,ja({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?A.createElement(rre,ja({},e,{width:n,height:r,ref:t})):A.createElement(A.Fragment,null,A.createElement(Sc,{width:n,height:r}),A.createElement("div",ja({ref:t},e)))});function are(e){return e?tre:ire}var ore=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:v,onTouchEnd:w,onTouchMove:E,onTouchStart:S,style:T,width:C,responsive:R,dispatchTouchEvents:k=!0}=e,P=A.useRef(null),D=jt(),[O,M]=A.useState(null),[B,L]=A.useState(null),K=Yne(),X=gx(),H=(X==null?void 0:X.width)>0?X.width:C,he=(X==null?void 0:X.height)>0?X.height:i,ce=A.useCallback(Z=>{K(Z),typeof t=="function"&&t(Z),M(Z),L(Z),Z!=null&&(P.current=Z)},[K,t,M,L]),ge=A.useCallback(Z=>{D(qj(Z)),D(yr({handler:a,reactEvent:Z}))},[D,a]),$=A.useCallback(Z=>{D(Tb(Z)),D(yr({handler:f,reactEvent:Z}))},[D,f]),te=A.useCallback(Z=>{D(wD()),D(yr({handler:h,reactEvent:Z}))},[D,h]),ie=A.useCallback(Z=>{D(Tb(Z)),D(yr({handler:p,reactEvent:Z}))},[D,p]),ue=A.useCallback(()=>{D(Kj())},[D]),ve=A.useCallback(Z=>{D(Vj(Z.key))},[D]),z=A.useCallback(Z=>{D(yr({handler:l,reactEvent:Z}))},[D,l]),Y=A.useCallback(Z=>{D(yr({handler:u,reactEvent:Z}))},[D,u]),le=A.useCallback(Z=>{D(yr({handler:d,reactEvent:Z}))},[D,d]),fe=A.useCallback(Z=>{D(yr({handler:v,reactEvent:Z}))},[D,v]),Ee=A.useCallback(Z=>{D(yr({handler:S,reactEvent:Z}))},[D,S]),je=A.useCallback(Z=>{k&&D(Yj(Z)),D(yr({handler:E,reactEvent:Z}))},[D,k,E]),_e=A.useCallback(Z=>{D(yr({handler:w,reactEvent:Z}))},[D,w]),lt=are(R);return A.createElement($D.Provider,{value:O},A.createElement(d8.Provider,{value:B},A.createElement(lt,{width:H??(T==null?void 0:T.width),height:he??(T==null?void 0:T.height),className:mt("recharts-wrapper",r),style:Jne({position:"relative",cursor:"default",width:H,height:he},T),onClick:ge,onContextMenu:z,onDoubleClick:Y,onFocus:ue,onKeyDown:ve,onMouseDown:le,onMouseEnter:$,onMouseLeave:te,onMouseMove:ie,onMouseUp:fe,onTouchEnd:_e,onTouchMove:je,onTouchStart:Ee,ref:ce},A.createElement(ere,null),n)))}),sre=["width","height","responsive","children","className","style","compact","title","desc"];function lre(e,t){if(e==null)return{};var n,r,i=ure(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cre=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:d,title:f,desc:h}=e,p=lre(e,sre),v=Br(p);return d?A.createElement(A.Fragment,null,A.createElement(Sc,{width:n,height:r}),A.createElement(SR,{otherAttributes:v,title:f,desc:h},a)):A.createElement(ore,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(SR,{otherAttributes:v,title:f,desc:h,ref:t},A.createElement(SZ,null,a)))});function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}var dre={top:5,right:5,bottom:5,left:5},fre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xj=A.forwardRef(function(t,n){var r,i=Pn(t.categoricalChartProps,fre),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return A.createElement(Une,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},A.createElement(gZ,{chartData:f.data}),A.createElement(qne,{layout:i.layout,margin:i.margin}),A.createElement($ne,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(cre,Ab({},i,{ref:n})))}),hre=["axis"],mre=A.forwardRef((e,t)=>A.createElement(Xj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hre,tooltipPayloadSearcher:HD,categoricalChartProps:e,ref:t})),pre=["axis","item"],Qj=A.forwardRef((e,t)=>A.createElement(Xj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pre,tooltipPayloadSearcher:HD,categoricalChartProps:e,ref:t}));const gre=({athleteId:e})=>{const[t,n]=A.useState({attendance:0,completionRate:0,lastActive:"",totalWorkouts:0}),[r,i]=A.useState([]),[a,l]=A.useState(!0);A.useEffect(()=>{u()},[e]);const u=async()=>{const{count:d}=await de.from("attendance").select("*",{count:"exact",head:!0}).eq("user_id",e),{data:f}=await de.from("workouts").select("*, workout_exercises(*)").eq("athlete_id",e).limit(20);let h=0,p=0,v=null;f&&f.forEach(E=>{const S=E.workout_exercises||[];if(S.length>0){const T=S.filter(C=>C.completed).length;p+=S.length,h+=T}(!v||new Date(E.date)>new Date(v))&&(v=E.date)});const{data:w}=await qP(e);n({attendance:d||0,completionRate:p>0?Math.round(h/p*100):0,lastActive:v||"Never",totalWorkouts:(f==null?void 0:f.length)||0}),i(w||[]),l(!1)};return a?y.jsx("div",{className:"p-4 text-zinc-500",children:"Loading stats..."}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(Mi,{size:16,className:"text-lime-400"}),y.jsx("span",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Attendance"})]}),y.jsxs("div",{className:"text-2xl font-black text-white",children:[t.attendance," ",y.jsx("span",{className:"text-sm font-medium text-zinc-600",children:"days"})]})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(Fb,{size:16,className:"text-blue-400"}),y.jsx("span",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Completion"})]}),y.jsxs("div",{className:"text-2xl font-black text-white",children:[t.completionRate,"%"]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(dl,{size:16,className:"text-orange-400"}),y.jsx("span",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Last Active"})]}),y.jsx("div",{className:"text-sm font-bold text-white",children:t.lastActive!=="Never"?Ye(new Date(t.lastActive),"MMM d"):"Never"})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(Vu,{size:16,className:"text-yellow-400"}),y.jsx("span",{className:"text-zinc-400 text-xs font-bold uppercase",children:"Total PRs"})]}),y.jsx("div",{className:"text-2xl font-black text-white",children:r.length})]})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800",children:[y.jsx("h4",{className:"font-bold text-white mb-3 text-sm uppercase tracking-wider",children:"Recent Records"}),r.length>0?y.jsx("div",{className:"space-y-2",children:r.slice(0,3).map(d=>y.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-zinc-800 pb-2 last:border-0 last:pb-0",children:[y.jsx("span",{className:"text-zinc-300",children:d.exercise_name}),y.jsxs("span",{className:"font-bold text-lime-400",children:[d.max_weight," kg"]})]},d.id))}):y.jsx("p",{className:"text-zinc-500 text-xs",children:"No records yet."})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800 h-48",children:[y.jsx("h4",{className:"font-bold text-white mb-2 text-sm uppercase tracking-wider",children:"Activity"}),y.jsx(vx,{width:"100%",height:"80%",children:y.jsxs(Qj,{data:[{name:"Mon",val:1},{name:"Tue",val:0},{name:"Wed",val:1},{name:"Thu",val:1},{name:"Fri",val:0},{name:"Sat",val:1},{name:"Sun",val:0}],children:[y.jsx($m,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),y.jsx(Gm,{dataKey:"name",stroke:"#666",fontSize:10,tickLine:!1,axisLine:!1}),y.jsx(bw,{cursor:{fill:"#333"},contentStyle:{backgroundColor:"#000",border:"none"}}),y.jsx(Cw,{dataKey:"val",fill:"#a3e635",radius:[4,4,0,0],barSize:20})]})})]})]})},TR=({user:e,onSelectCoach:t,onChatWithCoach:n,unreadCount:r,onViewAssignedWorkouts:i,onOpenTimer:a})=>{var R,k;const l=new Date,[u,d]=A.useState([]),[f,h]=A.useState(void 0),p=r||0,[v,w]=A.useState([]),[E,S]=A.useState(null);A.useEffect(()=>{e.role==="COACH"?C():T()},[e.role]),A.useEffect(()=>{if(e.selectedCoachId&&u.length>0){const P=u.find(D=>D.id===e.selectedCoachId);h(P)}else h(void 0)},[e.selectedCoachId,u]);const T=async()=>{const{data:P,error:D}=await de.from("profiles").select("*").eq("role","COACH");if(P){const O=P.map(M=>({id:M.id,name:M.name,bio:M.bio||"Professional GymSmart Coach ready to help you reach your goals.",specialty:M.gym_code||"Elite Fitness",avatarUrl:M.avatar_url}));d(O)}},C=async()=>{const{data:P}=await de.from("profiles").select("*").eq("selected_coach_id",e.id);P&&w(P)};return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Hello, ",e.name]}),y.jsx("p",{className:"text-zinc-400 text-sm",children:Ye(l,"EEEE, MMMM d")})]}),y.jsx("img",{src:e.avatarUrl,alt:"Profile",className:"w-10 h-10 rounded-full border border-zinc-700"})]}),e.role==="COACH"?y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[y.jsx(Di,{className:"text-lime-400"})," My Athletes"]}),E&&y.jsx("button",{onClick:()=>S(null),className:"text-sm text-zinc-400 hover:text-white",children:"Back to List"})]}),E?y.jsxs("div",{className:"animate-slide-up",children:[y.jsxs("div",{className:"bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800 mb-4 flex items-center gap-3",children:[y.jsx("img",{src:(R=v.find(P=>P.id===E))==null?void 0:R.avatar_url,className:"w-12 h-12 rounded-full"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white",children:(k=v.find(P=>P.id===E))==null?void 0:k.name}),y.jsx("p",{className:"text-zinc-400 text-xs",children:"Viewing Progress"})]})]}),y.jsx(gre,{athleteId:E})]}):y.jsx("div",{className:"grid grid-cols-1 gap-3",children:v.length===0?y.jsx("p",{className:"text-zinc-500 text-center py-8",children:"No athletes assigned yet."}):v.map(P=>y.jsxs("div",{onClick:()=>S(P.id),className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex items-center justify-between hover:border-lime-500/50 cursor-pointer transition-all",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:P.avatar_url||"https://via.placeholder.com/40",alt:P.name,className:"w-10 h-10 rounded-full object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white",children:P.name}),y.jsxs("p",{className:"text-xs text-zinc-500",children:["Streak: ",P.streak," Days"]})]})]}),y.jsx(gy,{className:"text-zinc-600"})]},P.id))})]}):y.jsxs(y.Fragment,{children:[y.jsx(e8,{startDate:e.membershipStart||"2026-02-01T00:00:00Z",endDate:e.membershipEnd||"2026-02-28T23:59:59Z"}),y.jsx("div",{className:"bg-gradient-to-r from-lime-400 to-lime-500 rounded-3xl p-5 text-black shadow-lg shadow-lime-400/20",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(Vb,{size:24,fill:"black"}),y.jsx("span",{className:"font-bold text-lg",children:"Daily Streak"})]}),y.jsx("p",{className:"font-medium opacity-80",children:"You're on fire! Keep it up."})]}),y.jsx("div",{className:"text-4xl font-bold",children:e.streak})]})}),f?y.jsxs("div",{className:"bg-zinc-900 p-5 rounded-3xl border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"font-bold text-white",children:"Your Coach"}),y.jsx("span",{className:"bg-lime-400/10 text-lime-400 text-xs px-2 py-1 rounded-full font-bold",children:"Active"})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:f.avatarUrl,alt:f.name,className:"w-12 h-12 rounded-full"}),p>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-zinc-900 animate-pulse"})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-white",children:f.name}),y.jsx("p",{className:"text-xs text-zinc-400",children:f.bio}),y.jsx("button",{onClick:n,className:"mt-2 text-xs font-bold text-lime-400 hover:text-white transition-colors flex items-center",children:"Chat Now "})]}),y.jsx("button",{className:"bg-zinc-800 p-2 rounded-full text-white hover:bg-zinc-700",children:y.jsx(Uf,{size:18})})]})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[y.jsx(Di,{size:20,className:"mr-2 text-lime-400"}),"Select Your Coach"]}),y.jsx("div",{className:"space-y-3",children:u.length===0?y.jsx("p",{className:"text-zinc-500 text-sm text-center py-8 bg-zinc-900/40 rounded-3xl",children:"No coaches available yet. Check back soon!"}):u.map(P=>y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800 flex items-start space-x-4",children:[y.jsx("img",{src:P.avatarUrl,alt:P.name,className:"w-16 h-16 rounded-2xl object-cover"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-white text-lg",children:P.name}),y.jsx("p",{className:"text-xs text-lime-400 font-bold mb-1",children:P.specialty}),y.jsx("p",{className:"text-xs text-zinc-400 leading-relaxed mb-3",children:P.bio}),y.jsx("button",{onClick:()=>t(P.id),className:"bg-white text-black text-xs font-bold px-4 py-2 rounded-full hover:bg-zinc-200 transition-colors",children:"Select Coach"})]})]},P.id))})]}),y.jsxs("div",{onClick:i,className:"bg-zinc-900 rounded-3xl p-5 border border-zinc-800 cursor-pointer hover:border-lime-400/50 transition-all hover:shadow-lg hover:shadow-lime-400/10",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-white",children:"Coach Assigned Workouts"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"View your personalized training plan"})]}),y.jsx("div",{className:"w-10 h-10 bg-lime-400/10 rounded-full flex items-center justify-center",children:y.jsx(gy,{size:20,className:"text-lime-400"})})]}),y.jsxs("div",{className:"flex items-center space-x-2 text-lime-400 bg-lime-400/5 p-3 rounded-2xl",children:[y.jsx(Fh,{size:20}),y.jsx("span",{className:"font-bold text-sm",children:"Tap to view your workout plans"})]})]})]})]})},vre=({coachId:e})=>{const[t,n]=A.useState([]),[r,i]=A.useState(!1),[a,l]=A.useState(null),[u,d]=A.useState({name:"",description:"",exercises:[]}),[f,h]=A.useState(""),[p,v]=A.useState(3),[w,E]=A.useState(10);A.useEffect(()=>{S()},[e]);const S=async()=>{const{data:O}=await de.from("workout_templates").select("*").eq("coach_id",e);O&&n(O)},T=async()=>{const O=a||u;if(O.name)if(a){const{error:M}=await de.from("workout_templates").update({name:O.name,description:O.description,exercises:O.exercises}).eq("id",a.id);M||(l(null),S())}else{const{error:M}=await de.from("workout_templates").insert({coach_id:e,name:O.name,description:O.description,exercises:O.exercises});M||(i(!1),d({name:"",description:"",exercises:[]}),S())}},C=async O=>{confirm("Delete this template?")&&(await de.from("workout_templates").delete().eq("id",O),S())},R=()=>{if(!f)return;const O={name:f,sets:p,reps:w};a?l({...a,exercises:[...a.exercises,O]}):d({...u,exercises:[...u.exercises,O]}),h(""),v(3),E(10)},k=O=>{if(a){const M=[...a.exercises];M.splice(O,1),l({...a,exercises:M})}else{const M=[...u.exercises];M.splice(O,1),d({...u,exercises:M})}},P=O=>{l(O)},D=a||(r?u:null);return y.jsxs("div",{className:"space-y-4 pb-24",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Your Templates"}),!D&&y.jsx("button",{onClick:()=>i(!0),className:"bg-zinc-800 text-white p-2 rounded-full hover:bg-zinc-700 transition-colors",children:y.jsx(Ys,{size:20})})]}),D&&y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-xl border border-zinc-700 animate-slide-up space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"font-bold text-white",children:a?"Edit Template":"New Template"}),y.jsx("button",{onClick:()=>{i(!1),l(null)},children:y.jsx(Ir,{className:"text-zinc-500"})})]}),y.jsx("input",{className:"w-full bg-black border border-zinc-800 p-3 rounded-lg text-white",placeholder:"Template Name",value:D.name,onChange:O=>a?l({...a,name:O.target.value}):d({...u,name:O.target.value})}),y.jsx("input",{className:"w-full bg-black border border-zinc-800 p-3 rounded-lg text-white",placeholder:"Description",value:D.description,onChange:O=>a?l({...a,description:O.target.value}):d({...u,description:O.target.value})}),y.jsxs("div",{className:"bg-black p-3 rounded-lg border border-zinc-800 space-y-3",children:[y.jsx("h4",{className:"text-zinc-400 text-xs uppercase font-bold",children:"Exercises"}),D.exercises.length===0&&y.jsx("p",{className:"text-zinc-600 text-sm italic",children:"No exercises added."}),D.exercises.map((O,M)=>y.jsxs("div",{className:"flex justify-between items-center bg-zinc-900 p-2 rounded border border-zinc-800",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-white text-sm",children:O.name}),y.jsxs("p",{className:"text-zinc-500 text-xs",children:[O.sets," Sets x ",O.reps," Reps"]})]}),y.jsx("button",{onClick:()=>k(M),className:"text-zinc-600 hover:text-red-400",children:y.jsx(Ir,{size:16})})]},M)),y.jsxs("div",{className:"flex gap-2 items-end pt-2 border-t border-zinc-800 mt-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-[10px] text-zinc-500 uppercase",children:"Exercise"}),y.jsx("input",{className:"w-full bg-zinc-900 border border-zinc-700 p-2 rounded text-white text-sm",value:f,onChange:O=>h(O.target.value),placeholder:"Name"})]}),y.jsxs("div",{className:"w-16",children:[y.jsx("label",{className:"text-[10px] text-zinc-500 uppercase",children:"Sets"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-700 p-2 rounded text-white text-sm",value:p,onChange:O=>v(Number(O.target.value))})]}),y.jsxs("div",{className:"w-16",children:[y.jsx("label",{className:"text-[10px] text-zinc-500 uppercase",children:"Reps"}),y.jsx("input",{type:"number",className:"w-full bg-zinc-900 border border-zinc-700 p-2 rounded text-white text-sm",value:w,onChange:O=>E(Number(O.target.value))})]}),y.jsx("button",{onClick:R,className:"bg-zinc-800 text-lime-400 p-2 rounded hover:bg-zinc-700 mb-[1px]",children:y.jsx(Ys,{size:20})})]})]}),y.jsx("button",{onClick:T,className:"w-full bg-lime-400 text-black font-bold py-3 rounded-xl hover:scale-105 transition-transform",children:a?"Update Template":"Create Template"})]}),!D&&y.jsxs("div",{className:"space-y-3",children:[t.map(O=>{var M;return y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-xl border border-zinc-800 flex justify-between items-center group hover:border-lime-500/30 transition-colors",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white",children:O.name}),y.jsx("p",{className:"text-zinc-500 text-xs",children:O.description||"No description"}),y.jsxs("p",{className:"text-zinc-600 text-[10px] mt-1",children:[((M=O.exercises)==null?void 0:M.length)||0," Exercises"]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>P(O),className:"p-2 bg-zinc-800 text-zinc-400 rounded-lg hover:text-white",children:y.jsx(D3,{size:16})}),y.jsx("button",{onClick:()=>C(O.id),className:"p-2 bg-zinc-800 text-zinc-400 rounded-lg hover:text-red-400",children:y.jsx(Ma,{size:16})})]})]},O.id)}),t.length===0&&y.jsx("p",{className:"text-center text-zinc-500 py-8",children:"No templates found. Create one to get started."})]})]})},AR=({coachName:e,coachId:t,onChatAthlete:n,onAssignWorkout:r,onViewWorkoutHistory:i,unreadCount:a=0})=>{const l=new Date,[u,d]=A.useState([]),[f,h]=A.useState(!0);A.useEffect(()=>{p()},[t]);const p=async()=>{h(!0);const{data:E,error:S}=await de.from("profiles").select("*").eq("selected_coach_id",t);if(E){const T=await Promise.all(E.map(async C=>{const{count:R}=await de.from("messages").select("*",{count:"exact",head:!0}).eq("sender_id",C.id).eq("receiver_id",t).eq("is_read",!1),{count:k}=await de.from("workout_plans").select("*",{count:"exact",head:!0}).eq("athlete_id",C.id).lt("date",new Date().toISOString());return{...C,unread_count:R||0,completed_workouts:k||0,adherence:Math.floor(Math.random()*20)+80}}));d(T)}h(!1)},v=u.reduce((E,S)=>E+(S.completed_workouts||0),0),w=u.length>0?Math.floor(u.reduce((E,S)=>E+(S.adherence||0),0)/u.length):0;return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Welcome, ",e]}),y.jsx("p",{className:"text-zinc-400 text-sm",children:Ye(l,"EEEE, MMMM d")})]}),y.jsxs("button",{className:"relative p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:[y.jsx(Uf,{size:24,className:"text-zinc-300"}),a>0&&y.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-zinc-900 animate-pulse"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-zinc-900 p-5 rounded-3xl border border-zinc-800 shadow-xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-lime-400/5 rounded-full -mr-10 -mt-10 blur-2xl group-hover:bg-lime-400/10 transition-colors"}),y.jsxs("div",{className:"flex items-center space-x-2 text-lime-400 mb-2",children:[y.jsx("span",{className:"bg-lime-400/10 p-1 rounded-lg",children:y.jsx(Di,{size:16})}),y.jsx("span",{className:"font-bold text-[10px] uppercase tracking-wider",children:"Active Clients"})]}),y.jsx("p",{className:"text-4xl font-bold text-white tracking-tight",children:u.length}),y.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 font-medium italic",children:"Athletes assigned to you"})]}),y.jsxs("div",{className:"bg-zinc-900 p-5 rounded-3xl border border-zinc-800 shadow-xl overflow-hidden relative group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-400/5 rounded-full -mr-10 -mt-10 blur-2xl group-hover:bg-blue-400/10 transition-colors"}),y.jsxs("div",{className:"flex items-center space-x-2 text-blue-400 mb-2",children:[y.jsx("span",{className:"bg-blue-400/10 p-1 rounded-lg",children:y.jsx(Fu,{size:16})}),y.jsx("span",{className:"font-bold text-[10px] uppercase tracking-wider",children:"Avg Adherence"})]}),y.jsxs("p",{className:"text-4xl font-bold text-white tracking-tight",children:[w,"%"]}),y.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 font-medium italic",children:"Team consistency"})]})]}),y.jsx(vre,{coachId:t}),y.jsxs("div",{className:"bg-zinc-900 p-5 rounded-3xl border border-zinc-800 shadow-xl overflow-hidden relative group",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center",children:[y.jsx(Vh,{size:18,className:"mr-2 text-lime-400"}),"Total Workouts Completed"]}),y.jsx("span",{className:"text-2xl font-bold text-white",children:v})]}),y.jsx("div",{className:"w-full bg-zinc-800 h-2 rounded-full overflow-hidden",children:y.jsx("div",{className:"bg-lime-400 h-full rounded-full",style:{width:"65%"}})}),y.jsx("p",{className:"text-[10px] text-zinc-500 mt-2 font-medium italic text-right",children:"Across all athletes"})]}),y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 border border-zinc-800 shadow-xl",children:[y.jsx("div",{className:"flex justify-between items-center mb-6",children:y.jsxs("h3",{className:"text-lg font-bold text-white flex items-center tracking-tight",children:[y.jsx(Fu,{className:"mr-2 text-lime-400",size:20}),"Volume Load (Weekly)"]})}),y.jsx("div",{className:"flex items-end space-x-2 h-32 mb-4",children:[40,70,45,90,65,85,95].map((E,S)=>y.jsxs("div",{className:"flex-1 bg-zinc-800/50 rounded-t-xl relative group overflow-hidden",children:[y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-lime-500 to-lime-400 rounded-t-xl transition-all duration-700 ease-out",style:{height:`${E}%`}}),y.jsx("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},S))}),y.jsxs("div",{className:"flex justify-between px-1 text-[10px] text-zinc-500 font-bold uppercase tracking-widest",children:[y.jsx("span",{children:"Mon"}),y.jsx("span",{children:"Tue"}),y.jsx("span",{children:"Wed"}),y.jsx("span",{children:"Thu"}),y.jsx("span",{children:"Fri"}),y.jsx("span",{children:"Sat"}),y.jsx("span",{children:"Sun"})]})]})]})},yre=[{id:"e1",name:"Barbell Squat",description:"Compound leg exercise",suggestedEquipment:"Barbell",defaultSets:4,defaultReps:8},{id:"e2",name:"Bench Press",description:"Compound chest exercise",suggestedEquipment:"Barbell",defaultSets:3,defaultReps:10},{id:"e3",name:"Deadlift",description:"Full body compound",suggestedEquipment:"Barbell",defaultSets:3,defaultReps:5},{id:"e4",name:"Pull Ups",description:"Back and biceps",suggestedEquipment:"Bar",defaultSets:3,defaultReps:12},{id:"e5",name:"Dumbbell Lunge",description:"Unilateral leg work",suggestedEquipment:"Dumbbells",defaultSets:3,defaultReps:12},{id:"e6",name:"Plank",description:"Core stability",suggestedEquipment:"Mat",defaultSets:3,defaultReps:60},{id:"e7",name:"Push Ups",description:"Chest and triceps",suggestedEquipment:"Bodyweight",defaultSets:3,defaultReps:15},{id:"e8",name:"Lat Pulldown",description:"Back width",suggestedEquipment:"Cable Machine",defaultSets:3,defaultReps:12},{id:"e9",name:"Leg Press",description:"Leg strength",suggestedEquipment:"Machine",defaultSets:4,defaultReps:12},{id:"e10",name:"Shoulder Press",description:"Shoulder strength",suggestedEquipment:"Dumbbells",defaultSets:3,defaultReps:10}],CR=({athleteId:e,isCoachView:t,onBack:n})=>{const[r,i]=A.useState(new Date),[a,l]=A.useState([]),[u,d]=A.useState(yre),[f,h]=A.useState(!1),[p,v]=A.useState(null),[w,E]=A.useState(!1),[S,T]=A.useState(""),[C,R]=A.useState(!0),[k,P]=A.useState(e||null),[D,O]=A.useState(!1),[M,B]=A.useState({name:"",weight:0}),[L,K]=A.useState([]),[X,H]=A.useState(!1),[he,ce]=A.useState(3),[ge,$]=A.useState(10),[te,ie]=A.useState(0),[ue,ve]=A.useState(""),[z,Y]=A.useState(""),le=Co(r,{weekStartsOn:1}),fe=Array.from({length:7}).map((Q,Me)=>yo(le,Me));A.useEffect(()=>{k||de.auth.getUser().then(({data:Q})=>{Q.user&&P(Q.user.id)})},[e]),A.useEffect(()=>{k&&Ee()},[k,le.toISOString()]);const Ee=async()=>{if(!k)return;R(!0);const Q=Ye(le,"yyyy-MM-dd"),Me=Ye(yo(le,6),"yyyy-MM-dd"),{data:ae,error:pe}=await W$(k,Q,Me);if(ae){const ye=ae.map(Ae=>({id:Ae.id,athleteId:Ae.athlete_id,date:Ae.date,completed:Ae.completed,exercises:Ae.exercises.map(Ke=>({id:Ke.id,workoutId:Ke.workout_id,exerciseName:Ke.exercise_name,sets:Ke.sets,reps:Ke.reps,weight:Ke.weight,completed:Ke.completed}))}));l(ye)}R(!1)},_e=(()=>{const Q=Ye(r,"yyyy-MM-dd");return a.find(Me=>Me.date===Q)})(),lt=()=>{h(!0)},Z=()=>{if(!ue.trim())return;const Q={id:`custom_${Date.now()}`,name:ue.trim(),description:"Custom exercise",suggestedEquipment:z.trim()||"Other",defaultSets:3,defaultReps:10};d(Me=>[...Me,Q]),ve(""),Y(""),E(!1),Ie(Q)},Ie=Q=>{v(Q),ce(Q.defaultSets),$(Q.defaultReps),ie(0)},Le=async()=>{if(!p||!k)return;const Q=Ye(r,"yyyy-MM-dd"),Me={exerciseName:p.name,sets:he,reps:ge,weight:te,completed:!1},ae=_e?[..._e.exercises,Me]:[Me],{error:pe}=await Cv(k,Q,ae);pe||(Ee(),v(null),h(!1))},se=async Q=>{if(t||!Q.id)return;const{error:Me}=await Y$(Q.id,!Q.completed);Me||(!Q.completed&&Q.weight>0&&k&&J$(k,Q.exerciseName,Q.weight).then(({isNewPR:ae})=>{ae&&(B({name:Q.exerciseName,weight:Q.weight}),O(!0),navigator.vibrate&&navigator.vibrate([100,50,100]))}),l(ae=>ae.map(pe=>({...pe,exercises:pe.exercises.map(ye=>ye.id===Q.id?{...ye,completed:!ye.completed}:ye)}))))},_t=async Q=>{if(!_e||!k)return;const Me=_e.exercises.filter((ye,Ae)=>Ae!==Q),ae=Ye(r,"yyyy-MM-dd"),{error:pe}=await Cv(k,ae,Me);pe||Ee()},Be=u.filter(Q=>Q.name.toLowerCase().includes(S.toLowerCase())),St=async()=>{const{data:{user:Q}}=await de.auth.getUser();if(Q){const{data:Me}=await X$(Q.id);Me&&K(Me),H(!0)}},oe=async Q=>{if(!k||!Q.exercises)return;const Me=Ye(r,"yyyy-MM-dd"),ae=Q.exercises.map(ye=>({exerciseName:ye.name,sets:ye.sets||3,reps:ye.reps||10,weight:0,completed:!1})),{error:pe}=await Cv(k,Me,ae);pe||(Ee(),H(!1))};return f?y.jsxs("div",{className:"pb-24 animate-fade-in min-h-screen bg-zinc-950 absolute inset-0 z-50 overflow-y-auto",children:[y.jsxs("div",{className:"sticky top-0 bg-zinc-950/90 backdrop-blur p-4 border-b border-zinc-800 flex items-center justify-between z-10",children:[y.jsxs("div",{className:"flex items-center space-x-2 w-full mr-4",children:[y.jsx(Js,{size:20,className:"text-zinc-500"}),y.jsx("input",{type:"text",placeholder:"Search exercises...",value:S,onChange:Q=>T(Q.target.value),className:"bg-transparent text-white w-full outline-none placeholder:text-zinc-600 font-medium"})]}),y.jsx("button",{onClick:()=>h(!1),className:"bg-zinc-800 p-2 rounded-full text-white",children:y.jsx(Ir,{size:20})})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[w?y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-700 animate-slide-up space-y-3",children:[y.jsx("h4",{className:"text-white font-bold mb-1",children:"New Exercise Details"}),y.jsx("input",{type:"text",placeholder:"Exercise Name",value:ue,onChange:Q=>ve(Q.target.value),className:"w-full bg-black p-3 rounded-xl text-white outline-none border border-zinc-800 focus:border-lime-400",autoFocus:!0}),y.jsx("input",{type:"text",placeholder:"Equipment (Optional)",value:z,onChange:Q=>Y(Q.target.value),className:"w-full bg-black p-3 rounded-xl text-white outline-none border border-zinc-800 focus:border-lime-400"}),y.jsxs("div",{className:"flex space-x-2 pt-2",children:[y.jsx("button",{onClick:Z,disabled:!ue.trim(),className:"flex-1 bg-lime-400 text-black font-bold py-3 rounded-xl disabled:opacity-50",children:"Save & Configure"}),y.jsx("button",{onClick:()=>E(!1),className:"flex-1 bg-zinc-800 text-white font-bold py-3 rounded-xl",children:"Cancel"})]})]}):y.jsxs("button",{onClick:()=>E(!0),className:"w-full py-4 bg-zinc-900 rounded-2xl text-lime-400 font-bold border border-zinc-800 hover:border-lime-400 transition-colors flex items-center justify-center space-x-2",children:[y.jsx(Ys,{size:20}),y.jsx("span",{children:"Create Custom Exercise"})]}),y.jsx("h3",{className:"text-zinc-500 font-bold text-sm uppercase tracking-wider ml-1",children:"Library"}),Be.map(Q=>y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex justify-between items-center group active:scale-95 transition-transform cursor-pointer hover:border-zinc-600",onClick:()=>Ie(Q),children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-white text-lg",children:Q.name}),y.jsx("p",{className:"text-zinc-400 text-sm",children:Q.suggestedEquipment})]}),y.jsx("button",{className:"bg-zinc-800 text-lime-400 p-2 rounded-full",children:y.jsx(Ys,{size:20})})]},Q.id))]}),p&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-end justify-center z-50 animate-slide-up",children:y.jsxs("div",{className:"bg-zinc-900 w-full rounded-t-3xl p-6 border-t border-zinc-800 shadow-2xl pb-10",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:p.name}),y.jsxs("p",{className:"text-zinc-400 text-sm",children:["Configure for ",Ye(r,"MMM d")]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsxs("button",{onClick:Le,className:"bg-lime-400 text-black font-bold px-4 py-2 rounded-xl text-sm hover:brightness-110 transition-all shadow-lg shadow-lime-400/20 flex items-center space-x-1",children:[y.jsx(Kb,{size:16}),y.jsx("span",{children:t?"Assign":"Add"})]}),y.jsx("button",{onClick:()=>v(null),className:"text-zinc-400 p-2 bg-zinc-800 rounded-full hover:text-white",children:y.jsx(Ir,{size:20})})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[y.jsxs("div",{className:"bg-black p-4 rounded-2xl text-center border border-zinc-800",children:[y.jsx("label",{className:"text-zinc-500 text-xs font-bold uppercase block mb-2",children:"Sets"}),y.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[y.jsx("button",{onClick:()=>ce(Q=>Math.max(1,Q-1)),className:"text-lime-400 text-xl font-bold w-8 h-8 flex items-center justify-center bg-lime-400/10 rounded-full",children:"-"}),y.jsx("span",{className:"text-2xl font-bold text-white w-8",children:he}),y.jsx("button",{onClick:()=>ce(Q=>Q+1),className:"text-lime-400 text-xl font-bold w-8 h-8 flex items-center justify-center bg-lime-400/10 rounded-full",children:"+"})]})]}),y.jsxs("div",{className:"bg-black p-4 rounded-2xl text-center border border-zinc-800",children:[y.jsx("label",{className:"text-zinc-500 text-xs font-bold uppercase block mb-2",children:"Reps"}),y.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[y.jsx("button",{onClick:()=>$(Q=>Math.max(1,Q-1)),className:"text-lime-400 text-xl font-bold w-8 h-8 flex items-center justify-center bg-lime-400/10 rounded-full",children:"-"}),y.jsx("span",{className:"text-2xl font-bold text-white w-8",children:ge}),y.jsx("button",{onClick:()=>$(Q=>Q+1),className:"text-lime-400 text-xl font-bold w-8 h-8 flex items-center justify-center bg-lime-400/10 rounded-full",children:"+"})]})]}),y.jsxs("div",{className:"bg-black p-4 rounded-2xl text-center border border-zinc-800",children:[y.jsx("label",{className:"text-zinc-500 text-xs font-bold uppercase block mb-2",children:"Weight"}),y.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[y.jsx("button",{onClick:()=>ie(Q=>Math.max(0,Q-2.5)),className:"text-lime-400 text-xl font-bold w-8 h-8 flex items-center justify-center bg-lime-400/10 rounded-full",children:"-"}),y.jsx("span",{className:"text-2xl font-bold text-white w-12",children:te}),y.jsx("button",{onClick:()=>ie(Q=>Q+2.5),className:"text-lime-400 text-xl font-bold w-8 h-8 flex items-center justify-center bg-lime-400/10 rounded-full",children:"+"})]})]})]})]})})]}):y.jsxs("div",{className:"pb-24 animate-fade-in flex flex-col h-[calc(100vh-100px)]",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:t?"Assign Workouts":"My Workouts"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:Ye(r,"EEEE, MMMM d, yyyy")})]}),n&&y.jsx("button",{onClick:n,className:"bg-zinc-900 p-2 rounded-full text-zinc-400 hover:text-white transition-colors",children:y.jsx(Ir,{size:20})})]}),y.jsxs("div",{className:"flex justify-between items-center bg-zinc-900 p-2 rounded-2xl border border-zinc-800",children:[y.jsx("button",{onClick:()=>i(yo(r,-7)),className:"p-2 text-zinc-500",children:y.jsx(Gb,{size:20})}),fe.map(Q=>{const Me=eB(Q,r),ae=Ye(Q,"yyyy-MM-dd"),pe=a.some(ye=>ye.date===ae&&ye.exercises.length>0);return y.jsxs("button",{onClick:()=>i(Q),className:`flex flex-col items-center justify-center w-10 h-14 rounded-xl transition-all ${Me?"bg-lime-400 text-black shadow-lg shadow-lime-400/20":"text-zinc-500 hover:bg-zinc-800"}`,children:[y.jsx("span",{className:"text-[10px] font-bold uppercase",children:Ye(Q,"EEE")}),y.jsx("span",{className:`text-lg font-bold ${Me?"text-black":"text-zinc-400"}`,children:Ye(Q,"d")}),pe&&!Me&&y.jsx("div",{className:"w-1 h-1 bg-lime-400 rounded-full mt-1"})]},Q.toString())}),y.jsx("button",{onClick:()=>i(yo(r,7)),className:"p-2 text-zinc-500",children:y.jsx(gy,{size:20})})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-hide",children:C?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[y.jsx("div",{className:"w-10 h-10 border-4 border-lime-400/20 border-t-lime-400 rounded-full animate-spin"}),y.jsx("p",{className:"text-zinc-500 font-bold text-xs uppercase tracking-widest",children:"Fetching schedule..."})]}):_e&&_e.exercises.length>0?y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"text-white font-bold text-lg",children:t?"Planned Program":"Daily Plan"}),y.jsxs("span",{className:"text-lime-400 text-xs font-bold bg-lime-400/10 px-3 py-1 rounded-full",children:[_e.exercises.filter(Q=>Q.completed).length,"/",_e.exercises.length," ",t?"Items":"Completed"]})]}),_e.exercises.map((Q,Me)=>y.jsx("div",{className:`bg-zinc-900 p-4 rounded-3xl border ${Q.completed?"border-lime-500/30 bg-lime-900/10":"border-zinc-800"} transition-all group`,children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:`p-3 rounded-2xl ${Q.completed?"bg-lime-400 text-black":"bg-zinc-800 text-zinc-400"}`,children:y.jsx(fl,{size:20})}),y.jsxs("div",{children:[y.jsx("h4",{className:`font-bold text-lg ${Q.completed?"text-lime-400":"text-white"}`,children:Q.exerciseName}),y.jsxs("p",{className:"text-zinc-500 text-xs",children:[Q.sets," Sets  ",Q.reps," Reps  ",Q.weight>0?Q.weight+"kg":"Bodyweight"]})]})]}),t?y.jsx("button",{onClick:()=>_t(Me),className:"text-zinc-600 hover:text-red-400 p-2 transition-colors",children:y.jsx(Ir,{size:18})}):y.jsx("button",{onClick:()=>se(Q),className:`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-colors ${Q.completed?"bg-lime-400 border-lime-400 text-black":"border-zinc-600 text-transparent hover:border-lime-400"}`,children:y.jsx(Fb,{size:16})})]})},Me)),y.jsxs("button",{onClick:lt,className:"w-full py-4 rounded-2xl border-2 border-dashed border-zinc-700 text-zinc-400 font-bold hover:border-lime-400 hover:text-lime-400 transition-colors flex items-center justify-center space-x-2",children:[y.jsx(Ys,{size:20}),y.jsx("span",{children:t?"Add Exercise":"Add Custom Exercise"})]}),t&&y.jsxs("button",{onClick:St,className:"w-full py-4 mt-2 rounded-2xl bg-zinc-800 text-zinc-400 font-bold hover:bg-zinc-700 hover:text-white transition-colors flex items-center justify-center space-x-2",children:[y.jsx(JT,{size:20}),y.jsx("span",{children:"Load from Template"})]})]}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-6 text-center p-6",children:[y.jsx("div",{className:"w-24 h-24 bg-zinc-900 rounded-full flex items-center justify-center mb-2",children:y.jsx(Mi,{size:40,className:"text-zinc-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t?"No Plan Set":"No Workout Planned"}),y.jsx("p",{className:"text-zinc-400",children:t?`Assign a program for ${Ye(r,"EEEE")}.`:`Take a rest day or create a plan for ${Ye(r,"EEEE")}.`})]}),y.jsx("button",{onClick:lt,className:"bg-lime-400 text-black px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform shadow-lg shadow-lime-400/20",children:t?"Build Day Plan":"Create Plan for Today"}),t&&y.jsxs("button",{onClick:St,className:"mt-4 text-zinc-400 text-sm font-bold flex items-center gap-2 hover:text-white",children:[y.jsx(JT,{size:16})," Load Template"]})]})}),D&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[60] bg-black/80 backdrop-blur-sm animate-fade-in",onClick:()=>O(!1),children:y.jsxs("div",{className:"bg-zinc-900 border border-lime-400 p-8 rounded-3xl text-center shadow-2xl shadow-lime-400/20 transform scale-100 animate-slide-up",onClick:Q=>Q.stopPropagation(),children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("h2",{className:"text-3xl font-black text-white italic uppercase tracking-tighter mb-2",children:"New Record!"}),y.jsx("p",{className:"text-zinc-400 mb-6",children:"You just crushed your PR for"}),y.jsxs("div",{className:"bg-lime-400/10 p-4 rounded-xl border border-lime-400/30 mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:M.name}),y.jsxs("div",{className:"text-4xl font-black text-lime-400 mt-1",children:[M.weight," ",y.jsx("span",{className:"text-lg text-lime-400/70",children:"kg"})]})]}),y.jsx("button",{onClick:()=>O(!1),className:"bg-lime-400 text-black font-bold px-8 py-3 rounded-xl hover:scale-105 transition-transform",children:"Awesome!"})]})}),X&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4",onClick:()=>H(!1),children:y.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-3xl p-6 border border-zinc-800 animate-slide-up",onClick:Q=>Q.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Template"}),y.jsx("button",{onClick:()=>H(!1),children:y.jsx(Ir,{className:"text-zinc-500"})})]}),y.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:L.length===0?y.jsx("p",{className:"text-zinc-500 text-center",children:"No templates found."}):L.map(Q=>{var Me;return y.jsxs("button",{onClick:()=>oe(Q),className:"w-full text-left bg-black p-4 rounded-xl border border-zinc-800 hover:border-lime-400 transition-colors",children:[y.jsx("h4",{className:"font-bold text-white",children:Q.name}),y.jsx("p",{className:"text-zinc-500 text-xs",children:Q.description}),y.jsxs("p",{className:"text-zinc-600 text-[10px] mt-1",children:[((Me=Q.exercises)==null?void 0:Me.length)||0," Exercises"]})]},Q.id)})})]})})]})},bre=Object.prototype.toString,xre=e=>bre.call(e)==="[object Error]",wre=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function _re(e){if(!(e&&xre(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:n,stack:r}=e;return n==="Load failed"?r===void 0||"__sentry_captured__"in e:n.startsWith("error sending request for url")?!0:wre.has(n)}function Sre(e){if(typeof e=="number"){if(e<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(e))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(e!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ef(e,t,{min:n=0,allowInfinity:r=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${e}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(t))throw new TypeError(`Expected \`${e}\` to be a finite number.`);if(t<n)throw new TypeError(`Expected \`${e}\` to be  ${n}.`)}}class Zj extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function Ere(e,t){const n=Math.max(1,e+1),r=t.randomize?Math.random()+1:1;let i=Math.round(r*t.minTimeout*t.factor**(n-1));return i=Math.min(i,t.maxTimeout),i}function NR(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function Tre({error:e,attemptNumber:t,retriesConsumed:n,startTime:r,options:i}){var w,E,S,T;const a=e instanceof Error?e:new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(a instanceof Zj)throw a.originalError;const l=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,u=i.maxRetryTime??Number.POSITIVE_INFINITY,d=Object.freeze({error:a,attemptNumber:t,retriesLeft:l,retriesConsumed:n});if(await i.onFailedAttempt(d),NR(r,u)<=0)throw a;const f=await i.shouldConsumeRetry(d),h=NR(r,u);if(h<=0||l<=0)throw a;if(a instanceof TypeError&&!_re(a)){if(f)throw a;return(w=i.signal)==null||w.throwIfAborted(),!1}if(!await i.shouldRetry(d))throw a;if(!f)return(E=i.signal)==null||E.throwIfAborted(),!1;const p=Ere(n,i),v=Math.min(p,h);return(S=i.signal)==null||S.throwIfAborted(),v>0&&await new Promise((C,R)=>{var D,O;const k=()=>{var M;clearTimeout(P),(M=i.signal)==null||M.removeEventListener("abort",k),R(i.signal.reason)},P=setTimeout(()=>{var M;(M=i.signal)==null||M.removeEventListener("abort",k),C()},v);i.unref&&((D=P.unref)==null||D.call(P)),(O=i.signal)==null||O.addEventListener("abort",k,{once:!0})}),(T=i.signal)==null||T.throwIfAborted(),!0}async function Are(e,t={}){var a,l,u;if(t={...t},Sre(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),Ef("factor",t.factor,{min:0,allowInfinity:!1}),Ef("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),Ef("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),Ef("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(a=t.signal)==null||a.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(t.retries)||r<=t.retries;){n++;try{(l=t.signal)==null||l.throwIfAborted();const d=await e(n);return(u=t.signal)==null||u.throwIfAborted(),d}catch(d){await Tre({error:d,attemptNumber:n,retriesConsumed:r,startTime:i,options:t})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Cre={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nre,Ore;function Rre(){return{geminiUrl:Nre,vertexUrl:Ore}}function kre(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const l=Rre();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zi{}function me(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];b(h,t.slice(a+1),n[f])}else for(const f of d)b(f,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];b(d[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Pre(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&a.length>u)for(let d=u;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Cb(e,i,a,0,l)}}function Cb(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Cb(d,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const p=[];for(const v of n.slice(r))v==="*"?p.push(f):p.push(v);b(l,p,h)}for(const f of u)delete l[f]}}else{const l=e;a in l&&Cb(l[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pw(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ire(e){const t={},n=g(e,["operationName"]);n!=null&&b(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&b(t,["_url","resourceName"],r),t}function Mre(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["metadata"]);r!=null&&b(t,["metadata"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);a!=null&&b(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&b(t,["response"],jre(l)),t}function Dre(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["metadata"]);r!=null&&b(t,["metadata"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);a!=null&&b(t,["error"],a);const l=g(e,["response"]);return l!=null&&b(t,["response"],zre(l)),t}function jre(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Lre(l))),b(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&b(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&b(t,["raiMediaFilteredReasons"],i),t}function zre(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Ure(l))),b(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&b(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&b(t,["raiMediaFilteredReasons"],i),t}function Lre(e){const t={},n=g(e,["video"]);return n!=null&&b(t,["video"],Fre(n)),t}function Ure(e){const t={},n=g(e,["_self"]);return n!=null&&b(t,["video"],Vre(n)),t}function Bre(e){const t={},n=g(e,["operationName"]);return n!=null&&b(t,["_url","operationName"],n),t}function qre(e){const t={},n=g(e,["operationName"]);return n!=null&&b(t,["_url","operationName"],n),t}function $re(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["metadata"]);r!=null&&b(t,["metadata"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);a!=null&&b(t,["error"],a);const l=g(e,["response"]);return l!=null&&b(t,["response"],Hre(l)),t}function Hre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&b(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&b(t,["documentName"],i),t}function ez(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["metadata"]);r!=null&&b(t,["metadata"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);a!=null&&b(t,["error"],a);const l=g(e,["response"]);return l!=null&&b(t,["response"],Gre(l)),t}function Gre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&b(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&b(t,["documentName"],i),t}function Fre(e){const t={},n=g(e,["uri"]);n!=null&&b(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&b(t,["videoBytes"],Pw(r));const i=g(e,["encoding"]);return i!=null&&b(t,["mimeType"],i),t}function Vre(e){const t={},n=g(e,["gcsUri"]);n!=null&&b(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&b(t,["videoBytes"],Pw(r));const i=g(e,["mimeType"]);return i!=null&&b(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OR;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OR||(OR={}));var RR;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(RR||(RR={}));var kR;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(kR||(kR={}));var Ia;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ia||(Ia={}));var PR;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(PR||(PR={}));var IR;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(IR||(IR={}));var MR;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(MR||(MR={}));var DR;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(DR||(DR={}));var jR;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(jR||(jR={}));var zR;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(zR||(zR={}));var LR;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(LR||(LR={}));var UR;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(UR||(UR={}));var BR;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(BR||(BR={}));var qR;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(qR||(qR={}));var $R;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})($R||($R={}));var HR;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(HR||(HR={}));var GR;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(GR||(GR={}));var FR;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(FR||(FR={}));var VR;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(VR||(VR={}));var KR;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(KR||(KR={}));var WR;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(WR||(WR={}));var Uh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Uh||(Uh={}));var YR;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(YR||(YR={}));var JR;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(JR||(JR={}));var XR;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(XR||(XR={}));var Nb;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nb||(Nb={}));var QR;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(QR||(QR={}));var ZR;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ZR||(ZR={}));var Ob;(function(e){e.COLLECTION="COLLECTION"})(Ob||(Ob={}));var ek;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(ek||(ek={}));var tk;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(tk||(tk={}));var nk;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(nk||(nk={}));var rk;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(rk||(rk={}));var ik;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ik||(ik={}));var ak;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ak||(ak={}));var ok;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ok||(ok={}));var sk;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(sk||(sk={}));var lk;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lk||(lk={}));var uk;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(uk||(uk={}));var ck;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ck||(ck={}));var dk;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(dk||(dk={}));var fk;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(fk||(fk={}));var hk;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(hk||(hk={}));var mk;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(mk||(mk={}));var pk;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(pk||(pk={}));var gk;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(gk||(gk={}));var vk;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(vk||(vk={}));var yk;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(yk||(yk={}));var bk;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bk||(bk={}));var xk;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(xk||(xk={}));var wk;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wk||(wk={}));var _k;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(_k||(_k={}));var Sk;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Sk||(Sk={}));var Ek;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ek||(Ek={}));var Tk;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Tk||(Tk={}));var Ak;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Ak||(Ak={}));var Ks;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ks||(Ks={}));class Rb{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Iu{get text(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const v of(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[w,E]of Object.entries(v))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(w);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,f+=v.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[v,w]of Object.entries(p))v!=="inlineData"&&(w!==null||w!==void 0)&&h.push(v);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,a,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,a,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,a,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class Ck{}class Nk{}class Kre{}class Wre{}class Yre{}class Jre{}class Ok{}class Rk{}class kk{}class Xre{}class Bh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Bh;let i;const a=t;return n?i=Dre(a):i=Mre(a),Object.assign(r,i),r}}class Pk{}class Ik{}class Mk{}class Dk{}class Qre{}class Zre{}class eie{}class Iw{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Iw,a=$re(t);return Object.assign(r,a),r}}class tie{}class nie{}class rie{}class iie{}class jk{}class aie{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class oie{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Mw{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Mw,a=ez(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tz(e,t){const n=tt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function nz(e){return Array.isArray(e)?e.map(t=>qh(t)):[qh(e)]}function qh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function rz(e){const t=qh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function iz(e){const t=qh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zk(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function az(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>zk(t)):[zk(e)]}function kb(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Lk(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Uk(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function _n(e){if(e==null)throw new Error("ContentUnion is required");return kb(e)?e:{role:"user",parts:az(e)}}function Dw(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=_n(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=_n(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>_n(n)):[_n(t)]}function xr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Lk(e)||Uk(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_n(e)]}const t=[],n=[],r=kb(e[0]);for(const i of e){const a=kb(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(Lk(i)||Uk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:az(n)}),t}function sie(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ia).includes(n[0].toUpperCase())?n[0].toUpperCase():Ia.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ia).includes(r.toUpperCase())?r.toUpperCase():Ia.TYPE_UNSPECIFIED})}}function el(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&sie(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ia).includes(u.toUpperCase())?u.toUpperCase():Ia.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=el(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(el(f))}t[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=el(h);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function jw(e){return el(e)}function zw(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Lw(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Sl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=el(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=el(t.response));return e}function El(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function lie(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ea(e,t){if(typeof t!="string")throw new Error("name must be a string");return lie(e,t,"cachedContents")}function oz(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function qa(e){return Pw(e)}function uie(e){return e!=null&&typeof e=="object"&&"name"in e}function cie(e){return e!=null&&typeof e=="object"&&"video"in e}function die(e){return e!=null&&typeof e=="object"&&"uri"in e}function sz(e){var t;let n;if(uie(e)&&(n=e.name),!(die(e)&&(n=e.uri,n===void 0))&&!(cie(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function lz(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function uz(e){for(const t of["models","tunedModels","publisherModels"])if(fie(e,t))return e[t];return[]}function fie(e,t){return e!==null&&typeof e=="object"&&t in e}function hie(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function mie(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=hie(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function cz(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function pie(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function dz(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Tl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function fz(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gie(e){const t={},n=g(e,["responsesFile"]);n!=null&&b(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Jie(l))),b(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["inlinedEmbedContentResponses"],a)}return t}function vie(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&b(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&b(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&b(t,["bigqueryUri"],i),t}function yie(e){const t={},n=g(e,["format"]);n!=null&&b(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&b(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&b(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zf(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&b(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&b(t,["state"],fz(i));const a=g(e,["metadata","createTime"]);a!=null&&b(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&b(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&b(t,["updateTime"],u);const d=g(e,["metadata","model"]);d!=null&&b(t,["model"],d);const f=g(e,["metadata","output"]);return f!=null&&b(t,["dest"],gie(dz(f))),t}function Pb(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["displayName"]);r!=null&&b(t,["displayName"],r);const i=g(e,["state"]);i!=null&&b(t,["state"],fz(i));const a=g(e,["error"]);a!=null&&b(t,["error"],a);const l=g(e,["createTime"]);l!=null&&b(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&b(t,["startTime"],u);const d=g(e,["endTime"]);d!=null&&b(t,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&b(t,["updateTime"],f);const h=g(e,["model"]);h!=null&&b(t,["model"],h);const p=g(e,["inputConfig"]);p!=null&&b(t,["src"],bie(p));const v=g(e,["outputConfig"]);v!=null&&b(t,["dest"],vie(dz(v)));const w=g(e,["completionStats"]);return w!=null&&b(t,["completionStats"],w),t}function bie(e){const t={},n=g(e,["instancesFormat"]);n!=null&&b(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&b(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&b(t,["bigqueryUri"],i),t}function xie(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&b(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Yie(e,l))),b(n,["requests","requests"],a)}return n}function wie(e){const t={},n=g(e,["format"]);n!=null&&b(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&b(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&b(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function _ie(e){const t={},n=g(e,["data"]);if(n!=null&&b(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function Sie(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],Tl(e,r)),n}function Eie(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],Tl(e,r)),n}function Tie(e){const t={},n=g(e,["content"]);n!=null&&b(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&b(t,["citationMetadata"],Aie(r));const i=g(e,["tokenCount"]);i!=null&&b(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&b(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&b(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&b(t,["groundingMetadata"],u);const d=g(e,["index"]);d!=null&&b(t,["index"],d);const f=g(e,["logprobsResult"]);f!=null&&b(t,["logprobsResult"],f);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),b(t,["safetyRatings"],v)}const p=g(e,["urlContextMetadata"]);return p!=null&&b(t,["urlContextMetadata"],p),t}function Aie(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(t,["citations"],r)}return t}function hz(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rae(a))),b(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&b(t,["role"],r),t}function Cie(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&b(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Nie(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&b(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&b(t,["outputConfig"],yie(pie(i))),n}function Bk(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["_url","model"],tt(e,r));const i=g(t,["src"]);i!=null&&b(n,["batch","inputConfig"],xie(e,cz(e,i)));const a=g(t,["config"]);return a!=null&&Cie(a,n),n}function Oie(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["model"],tt(e,r));const i=g(t,["src"]);i!=null&&b(n,["inputConfig"],wie(cz(e,i)));const a=g(t,["config"]);return a!=null&&Nie(a,n),n}function Rie(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&b(t,["batch","displayName"],r),n}function kie(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["_url","model"],tt(e,r));const i=g(t,["src"]);i!=null&&b(n,["batch","inputConfig"],Lie(e,i));const a=g(t,["config"]);return a!=null&&Rie(a,n),n}function Pie(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],Tl(e,r)),n}function Iie(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],Tl(e,r)),n}function Mie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&b(t,["name"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);return a!=null&&b(t,["error"],a),t}function Die(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&b(t,["name"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);return a!=null&&b(t,["error"],a),t}function jie(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=Dw(e,r);Array.isArray(a)&&(a=a.map(l=>l)),b(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(b(n,["_self"],zie(i,n)),Pre(n,{"requests[].*":"requests[].request.*"})),n}function zie(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&b(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&b(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&b(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Lie(e,t){const n={},r=g(t,["fileName"]);r!=null&&b(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&b(n,["requests"],jie(e,i)),n}function Uie(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&b(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function Bie(e){const t={},n=g(e,["id"]);n!=null&&b(t,["id"],n);const r=g(e,["args"]);r!=null&&b(t,["args"],r);const i=g(e,["name"]);if(i!=null&&b(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qie(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&b(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&b(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function $ie(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],hz(_n(i)));const a=g(t,["temperature"]);a!=null&&b(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&b(r,["topP"],l);const u=g(t,["topK"]);u!=null&&b(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&b(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=g(t,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const v=g(t,["logprobs"]);v!=null&&b(r,["logprobs"],v);const w=g(t,["presencePenalty"]);w!=null&&b(r,["presencePenalty"],w);const E=g(t,["frequencyPenalty"]);E!=null&&b(r,["frequencyPenalty"],E);const S=g(t,["seed"]);S!=null&&b(r,["seed"],S);const T=g(t,["responseMimeType"]);T!=null&&b(r,["responseMimeType"],T);const C=g(t,["responseSchema"]);C!=null&&b(r,["responseSchema"],jw(C));const R=g(t,["responseJsonSchema"]);if(R!=null&&b(r,["responseJsonSchema"],R),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=g(t,["safetySettings"]);if(n!==void 0&&k!=null){let he=k;Array.isArray(he)&&(he=he.map(ce=>iae(ce))),b(n,["safetySettings"],he)}const P=g(t,["tools"]);if(n!==void 0&&P!=null){let he=El(P);Array.isArray(he)&&(he=he.map(ce=>oae(Sl(ce)))),b(n,["tools"],he)}const D=g(t,["toolConfig"]);if(n!==void 0&&D!=null&&b(n,["toolConfig"],aae(D)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=g(t,["cachedContent"]);n!==void 0&&O!=null&&b(n,["cachedContent"],ea(e,O));const M=g(t,["responseModalities"]);M!=null&&b(r,["responseModalities"],M);const B=g(t,["mediaResolution"]);B!=null&&b(r,["mediaResolution"],B);const L=g(t,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],zw(L)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=g(t,["thinkingConfig"]);K!=null&&b(r,["thinkingConfig"],K);const X=g(t,["imageConfig"]);X!=null&&b(r,["imageConfig"],Wie(X));const H=g(t,["enableEnhancedCivicAnswers"]);if(H!=null&&b(r,["enableEnhancedCivicAnswers"],H),g(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Hie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Tie(f))),b(t,["candidates"],d)}const i=g(e,["modelVersion"]);i!=null&&b(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&b(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&b(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&b(t,["usageMetadata"],u),t}function Gie(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],Tl(e,r)),n}function Fie(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],Tl(e,r)),n}function Vie(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&b(t,["enableWidget"],n),t}function Kie(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&b(t,["timeRangeFilter"],n),t}function Wie(e){const t={},n=g(e,["aspectRatio"]);n!=null&&b(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&b(t,["imageSize"],r),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Yie(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["request","model"],tt(e,r));const i=g(t,["contents"]);if(i!=null){let u=xr(i);Array.isArray(u)&&(u=u.map(d=>hz(d))),b(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&b(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&b(n,["request","generationConfig"],$ie(e,l,g(n,["request"],{}))),n}function Jie(e){const t={},n=g(e,["response"]);n!=null&&b(t,["response"],Hie(n));const r=g(e,["metadata"]);r!=null&&b(t,["metadata"],r);const i=g(e,["error"]);return i!=null&&b(t,["error"],i),t}function Xie(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&b(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Qie(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&b(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&b(t,["_query","filter"],a),n}function Zie(e){const t={},n=g(e,["config"]);return n!=null&&Xie(n,t),t}function eae(e){const t={},n=g(e,["config"]);return n!=null&&Qie(n,t),t}function tae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>zf(l))),b(t,["batchJobs"],a)}return t}function nae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Pb(l))),b(t,["batchJobs"],a)}return t}function rae(e){const t={},n=g(e,["mediaResolution"]);n!=null&&b(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&b(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&b(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&b(t,["fileData"],Uie(a));const l=g(e,["functionCall"]);l!=null&&b(t,["functionCall"],Bie(l));const u=g(e,["functionResponse"]);u!=null&&b(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&b(t,["inlineData"],_ie(d));const f=g(e,["text"]);f!=null&&b(t,["text"],f);const h=g(e,["thought"]);h!=null&&b(t,["thought"],h);const p=g(e,["thoughtSignature"]);p!=null&&b(t,["thoughtSignature"],p);const v=g(e,["videoMetadata"]);return v!=null&&b(t,["videoMetadata"],v),t}function iae(e){const t={},n=g(e,["category"]);if(n!=null&&b(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&b(t,["threshold"],r),t}function aae(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&b(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&b(t,["functionCallingConfig"],qie(r)),t}function oae(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&b(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&b(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&b(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),b(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],Vie(l));const u=g(e,["googleSearch"]);u!=null&&b(t,["googleSearch"],Kie(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&b(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&b(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Hi||(Hi={}));class $o{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sae extends Zi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $o(Hi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Bk(this.apiClient,t),r=n._url,i=me("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const p=Object.assign({},h);if(p.systemInstruction){const v=p.systemInstruction;delete p.systemInstruction;const w=p.request;w.systemInstruction=v,p.request=w}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Oie(this.apiClient,t);return u=me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Pb(h))}else{const f=Bk(this.apiClient,t);return u=me("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>zf(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kie(this.apiClient,t);return a=me("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>zf(d))}}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Fie(this.apiClient,t);return u=me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Pb(h))}else{const f=Gie(this.apiClient,t);return u=me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>zf(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const d=Eie(this.apiClient,t);l=me("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=Sie(this.apiClient,t);l=me("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=eae(t);return u=me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=nae(h),v=new jk;return Object.assign(v,p),v})}else{const f=Zie(t);return u=me("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=tae(h),v=new jk;return Object.assign(v,p),v})}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Iie(this.apiClient,t);return u=me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>Die(h))}else{const f=Pie(this.apiClient,t);return u=me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>Mie(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lae(e){const t={},n=g(e,["data"]);if(n!=null&&b(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function qk(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>kae(a))),b(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&b(t,["role"],r),t}function uae(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&b(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&b(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&b(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=xr(l);Array.isArray(h)&&(h=h.map(p=>qk(p))),b(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&b(t,["systemInstruction"],qk(_n(u)));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>Iae(p))),b(t,["tools"],h)}const f=g(e,["toolConfig"]);if(t!==void 0&&f!=null&&b(t,["toolConfig"],Pae(f)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function cae(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&b(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&b(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&b(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let p=xr(l);Array.isArray(p)&&(p=p.map(v=>v)),b(t,["contents"],p)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&b(t,["systemInstruction"],_n(u));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>Mae(v))),b(t,["tools"],p)}const f=g(e,["toolConfig"]);t!==void 0&&f!=null&&b(t,["toolConfig"],f);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&b(t,["encryption_spec","kmsKeyName"],h),n}function dae(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["model"],tz(e,r));const i=g(t,["config"]);return i!=null&&uae(i,n),n}function fae(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["model"],tz(e,r));const i=g(t,["config"]);return i!=null&&cae(i,n),n}function hae(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],ea(e,r)),n}function mae(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],ea(e,r)),n}function pae(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&b(t,["sdkHttpResponse"],n),t}function gae(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&b(t,["sdkHttpResponse"],n),t}function vae(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&b(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function yae(e){const t={},n=g(e,["id"]);n!=null&&b(t,["id"],n);const r=g(e,["args"]);r!=null&&b(t,["args"],r);const i=g(e,["name"]);if(i!=null&&b(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bae(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&b(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&b(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function xae(e){const t={},n=g(e,["description"]);n!=null&&b(t,["description"],n);const r=g(e,["name"]);r!=null&&b(t,["name"],r);const i=g(e,["parameters"]);i!=null&&b(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&b(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&b(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&b(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function wae(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],ea(e,r)),n}function _ae(e,t){const n={},r=g(t,["name"]);return r!=null&&b(n,["_url","name"],ea(e,r)),n}function Sae(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&b(t,["enableWidget"],n),t}function Eae(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&b(t,["timeRangeFilter"],n),t}function Tae(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&b(t,["_query","pageToken"],i),n}function Aae(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&b(t,["_query","pageToken"],i),n}function Cae(e){const t={},n=g(e,["config"]);return n!=null&&Tae(n,t),t}function Nae(e){const t={},n=g(e,["config"]);return n!=null&&Aae(n,t),t}function Oae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["cachedContents"],a)}return t}function Rae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["cachedContents"],a)}return t}function kae(e){const t={},n=g(e,["mediaResolution"]);n!=null&&b(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&b(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&b(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&b(t,["fileData"],vae(a));const l=g(e,["functionCall"]);l!=null&&b(t,["functionCall"],yae(l));const u=g(e,["functionResponse"]);u!=null&&b(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&b(t,["inlineData"],lae(d));const f=g(e,["text"]);f!=null&&b(t,["text"],f);const h=g(e,["thought"]);h!=null&&b(t,["thought"],h);const p=g(e,["thoughtSignature"]);p!=null&&b(t,["thoughtSignature"],p);const v=g(e,["videoMetadata"]);return v!=null&&b(t,["videoMetadata"],v),t}function Pae(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&b(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&b(t,["functionCallingConfig"],bae(r)),t}function Iae(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&b(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&b(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&b(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),b(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],Sae(l));const u=g(e,["googleSearch"]);u!=null&&b(t,["googleSearch"],Eae(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&b(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&b(t,["urlContext"],f),t}function Mae(e){const t={},n=g(e,["retrieval"]);n!=null&&b(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&b(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&b(t,["codeExecution"],i);const a=g(e,["enterpriseWebSearch"]);a!=null&&b(t,["enterpriseWebSearch"],a);const l=g(e,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>xae(v))),b(t,["functionDeclarations"],p)}const u=g(e,["googleMaps"]);u!=null&&b(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&b(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&b(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&b(t,["urlContext"],h),t}function Dae(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&b(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&b(t,["expireTime"],i),n}function jae(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&b(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&b(t,["expireTime"],i),n}function zae(e,t){const n={},r=g(t,["name"]);r!=null&&b(n,["_url","name"],ea(e,r));const i=g(t,["config"]);return i!=null&&Dae(i,n),n}function Lae(e,t){const n={},r=g(t,["name"]);r!=null&&b(n,["_url","name"],ea(e,r));const i=g(t,["config"]);return i!=null&&jae(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uae extends Zi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $o(Hi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=fae(this.apiClient,t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=dae(this.apiClient,t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=_ae(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=wae(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mae(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=gae(h),v=new Mk;return Object.assign(v,p),v})}else{const f=hae(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=pae(h),v=new Mk;return Object.assign(v,p),v})}}async update(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Lae(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=zae(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Nae(t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Rae(h),v=new Dk;return Object.assign(v,p),v})}else{const f=Cae(t);return u=me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Oae(h),v=new Dk;return Object.assign(v,p),v})}}}function $h(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $k(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(e){return this instanceof ze?(this.v=e,this):new ze(e)}function Lr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(w){return function(E){return Promise.resolve(E).then(w,p)}}function u(w,E){r[w]&&(i[w]=function(S){return new Promise(function(T,C){a.push([w,S,T,C])>1||d(w,S)})},E&&(i[w]=E(i[w])))}function d(w,E){try{f(r[w](E))}catch(S){v(a[0][3],S)}}function f(w){w.value instanceof ze?Promise.resolve(w.value.v).then(h,p):v(a[0][2],w)}function h(w){d("next",w)}function p(w){d("throw",w)}function v(w,E){w(E),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Ur(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $k=="function"?$k(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,d){l=e[a](l),i(u,d,l.done,l.value)})}}function i(a,l,u,d){Promise.resolve(d).then(function(f){a({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bae(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:mz(n)}function mz(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function qae(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Hk(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!mz(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class $ae{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Hae(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}let Hae=class{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),qae(a)}async sendMessage(t){var n;await this.sendPromise;const r=_n(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const d=await i,f=(l=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(p))!==null&&u!==void 0?u:[]);const w=f?[f]:[];this.recordHistory(r,w,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=_n(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?Hk(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Lr(this,arguments,function*(){var i,a,l,u,d,f;const h=[];try{for(var p=!0,v=Ur(t),w;w=yield ze(v.next()),i=w.done,!i;p=!0){u=w.value,p=!1;const E=u;if(Bae(E)){const S=(f=(d=E.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;S!==void 0&&h.push(S)}yield yield ze(E)}}catch(E){a={error:E}}finally{try{!p&&!i&&(l=v.return)&&(yield ze(l.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Hk(r)):this.history.push(t),this.history.push(...i)}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gc extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,gc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gae(e){const t={},n=g(e,["file"]);return n!=null&&b(t,["file"],n),t}function Fae(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&b(t,["sdkHttpResponse"],n),t}function Vae(e){const t={},n=g(e,["name"]);return n!=null&&b(t,["_url","file"],sz(n)),t}function Kae(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&b(t,["sdkHttpResponse"],n),t}function Wae(e){const t={},n=g(e,["name"]);return n!=null&&b(t,["_url","file"],sz(n)),t}function Yae(e){const t={},n=g(e,["uris"]);return n!=null&&b(t,["uris"],n),t}function Jae(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&b(t,["_query","pageToken"],i),n}function Xae(e){const t={},n=g(e,["config"]);return n!=null&&Jae(n,t),t}function Qae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["files"],a)}return t}function Zae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),b(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eoe extends Zi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $o(Hi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xae(t);return a=me("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Qae(d),h=new tie;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gae(t);return a=me("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Fae(d),h=new nie;return Object.assign(h,f),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wae(t);return a=me("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vae(t);return a=me("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Kae(d),h=new rie;return Object.assign(h,f),h})}}async registerFilesInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yae(t);return a=me("files:register",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Zae(d),h=new iie;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lf(e){const t={},n=g(e,["data"]);if(n!=null&&b(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function toe(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>voe(a))),b(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&b(t,["role"],r),t}function noe(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&b(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function roe(e){const t={},n=g(e,["id"]);n!=null&&b(t,["id"],n);const r=g(e,["args"]);r!=null&&b(t,["args"],r);const i=g(e,["name"]);if(i!=null&&b(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ioe(e){const t={},n=g(e,["description"]);n!=null&&b(t,["description"],n);const r=g(e,["name"]);r!=null&&b(t,["name"],r);const i=g(e,["parameters"]);i!=null&&b(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&b(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&b(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&b(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function aoe(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&b(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&b(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&b(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&b(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&b(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&b(t,["frequencyPenalty"],u);const d=g(e,["logprobs"]);d!=null&&b(t,["logprobs"],d);const f=g(e,["maxOutputTokens"]);f!=null&&b(t,["maxOutputTokens"],f);const h=g(e,["mediaResolution"]);h!=null&&b(t,["mediaResolution"],h);const p=g(e,["presencePenalty"]);p!=null&&b(t,["presencePenalty"],p);const v=g(e,["responseLogprobs"]);v!=null&&b(t,["responseLogprobs"],v);const w=g(e,["responseMimeType"]);w!=null&&b(t,["responseMimeType"],w);const E=g(e,["responseModalities"]);E!=null&&b(t,["responseModalities"],E);const S=g(e,["responseSchema"]);S!=null&&b(t,["responseSchema"],S);const T=g(e,["routingConfig"]);T!=null&&b(t,["routingConfig"],T);const C=g(e,["seed"]);C!=null&&b(t,["seed"],C);const R=g(e,["speechConfig"]);R!=null&&b(t,["speechConfig"],R);const k=g(e,["stopSequences"]);k!=null&&b(t,["stopSequences"],k);const P=g(e,["temperature"]);P!=null&&b(t,["temperature"],P);const D=g(e,["thinkingConfig"]);D!=null&&b(t,["thinkingConfig"],D);const O=g(e,["topK"]);O!=null&&b(t,["topK"],O);const M=g(e,["topP"]);if(M!=null&&b(t,["topP"],M),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ooe(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&b(t,["enableWidget"],n),t}function soe(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&b(t,["timeRangeFilter"],n),t}function loe(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&b(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&b(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&b(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&b(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&b(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&b(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&b(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&b(t,["setup","generationConfig","seed"],h);const p=g(e,["speechConfig"]);t!==void 0&&p!=null&&b(t,["setup","generationConfig","speechConfig"],Lw(p));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&b(t,["setup","generationConfig","thinkingConfig"],v);const w=g(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&b(t,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(e,["systemInstruction"]);t!==void 0&&E!=null&&b(t,["setup","systemInstruction"],toe(_n(E)));const S=g(e,["tools"]);if(t!==void 0&&S!=null){let O=El(S);Array.isArray(O)&&(O=O.map(M=>boe(Sl(M)))),b(t,["setup","tools"],O)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&b(t,["setup","sessionResumption"],yoe(T));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&b(t,["setup","inputAudioTranscription"],C);const R=g(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&b(t,["setup","outputAudioTranscription"],R);const k=g(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&b(t,["setup","realtimeInputConfig"],k);const P=g(e,["contextWindowCompression"]);t!==void 0&&P!=null&&b(t,["setup","contextWindowCompression"],P);const D=g(e,["proactivity"]);if(t!==void 0&&D!=null&&b(t,["setup","proactivity"],D),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uoe(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&b(t,["setup","generationConfig"],aoe(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&b(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&b(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&b(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&b(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&b(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&b(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&b(t,["setup","generationConfig","seed"],h);const p=g(e,["speechConfig"]);t!==void 0&&p!=null&&b(t,["setup","generationConfig","speechConfig"],Lw(p));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&b(t,["setup","generationConfig","thinkingConfig"],v);const w=g(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&b(t,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(e,["systemInstruction"]);t!==void 0&&E!=null&&b(t,["setup","systemInstruction"],_n(E));const S=g(e,["tools"]);if(t!==void 0&&S!=null){let M=El(S);Array.isArray(M)&&(M=M.map(B=>xoe(Sl(B)))),b(t,["setup","tools"],M)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&b(t,["setup","sessionResumption"],T);const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&b(t,["setup","inputAudioTranscription"],C);const R=g(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&b(t,["setup","outputAudioTranscription"],R);const k=g(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&b(t,["setup","realtimeInputConfig"],k);const P=g(e,["contextWindowCompression"]);t!==void 0&&P!=null&&b(t,["setup","contextWindowCompression"],P);const D=g(e,["proactivity"]);t!==void 0&&D!=null&&b(t,["setup","proactivity"],D);const O=g(e,["explicitVadSignal"]);return t!==void 0&&O!=null&&b(t,["setup","explicitVadSignal"],O),n}function coe(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["setup","model"],tt(e,r));const i=g(t,["config"]);return i!=null&&b(n,["config"],loe(i,n)),n}function doe(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["setup","model"],tt(e,r));const i=g(t,["config"]);return i!=null&&b(n,["config"],uoe(i,n)),n}function foe(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&b(t,["musicGenerationConfig"],n),t}function hoe(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(t,["weightedPrompts"],r)}return t}function moe(e){const t={},n=g(e,["media"]);if(n!=null){let f=nz(n);Array.isArray(f)&&(f=f.map(h=>Lf(h))),b(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&b(t,["audio"],Lf(iz(r)));const i=g(e,["audioStreamEnd"]);i!=null&&b(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&b(t,["video"],Lf(rz(a)));const l=g(e,["text"]);l!=null&&b(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&b(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&b(t,["activityEnd"],d),t}function poe(e){const t={},n=g(e,["media"]);if(n!=null){let f=nz(n);Array.isArray(f)&&(f=f.map(h=>h)),b(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&b(t,["audio"],iz(r));const i=g(e,["audioStreamEnd"]);i!=null&&b(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&b(t,["video"],rz(a));const l=g(e,["text"]);l!=null&&b(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&b(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&b(t,["activityEnd"],d),t}function goe(e){const t={},n=g(e,["setupComplete"]);n!=null&&b(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&b(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&b(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&b(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&b(t,["usageMetadata"],woe(l));const u=g(e,["goAway"]);u!=null&&b(t,["goAway"],u);const d=g(e,["sessionResumptionUpdate"]);d!=null&&b(t,["sessionResumptionUpdate"],d);const f=g(e,["voiceActivityDetectionSignal"]);f!=null&&b(t,["voiceActivityDetectionSignal"],f);const h=g(e,["voiceActivity"]);return h!=null&&b(t,["voiceActivity"],_oe(h)),t}function voe(e){const t={},n=g(e,["mediaResolution"]);n!=null&&b(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&b(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&b(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&b(t,["fileData"],noe(a));const l=g(e,["functionCall"]);l!=null&&b(t,["functionCall"],roe(l));const u=g(e,["functionResponse"]);u!=null&&b(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&b(t,["inlineData"],Lf(d));const f=g(e,["text"]);f!=null&&b(t,["text"],f);const h=g(e,["thought"]);h!=null&&b(t,["thought"],h);const p=g(e,["thoughtSignature"]);p!=null&&b(t,["thoughtSignature"],p);const v=g(e,["videoMetadata"]);return v!=null&&b(t,["videoMetadata"],v),t}function yoe(e){const t={},n=g(e,["handle"]);if(n!=null&&b(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function boe(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&b(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&b(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&b(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),b(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],ooe(l));const u=g(e,["googleSearch"]);u!=null&&b(t,["googleSearch"],soe(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&b(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&b(t,["urlContext"],f),t}function xoe(e){const t={},n=g(e,["retrieval"]);n!=null&&b(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&b(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&b(t,["codeExecution"],i);const a=g(e,["enterpriseWebSearch"]);a!=null&&b(t,["enterpriseWebSearch"],a);const l=g(e,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>ioe(v))),b(t,["functionDeclarations"],p)}const u=g(e,["googleMaps"]);u!=null&&b(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&b(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&b(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&b(t,["urlContext"],h),t}function woe(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&b(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&b(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&b(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&b(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&b(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&b(t,["totalTokenCount"],u);const d=g(e,["promptTokensDetails"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(E=>E)),b(t,["promptTokensDetails"],w)}const f=g(e,["cacheTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(E=>E)),b(t,["cacheTokensDetails"],w)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(E=>E)),b(t,["responseTokensDetails"],w)}const p=g(e,["toolUsePromptTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(E=>E)),b(t,["toolUsePromptTokensDetails"],w)}const v=g(e,["trafficType"]);return v!=null&&b(t,["trafficType"],v),t}function _oe(e){const t={},n=g(e,["type"]);return n!=null&&b(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Soe(e,t){const n={},r=g(e,["data"]);if(r!=null&&b(n,["data"],r),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function Eoe(e,t){const n={},r=g(e,["content"]);r!=null&&b(n,["content"],r);const i=g(e,["citationMetadata"]);i!=null&&b(n,["citationMetadata"],Toe(i));const a=g(e,["tokenCount"]);a!=null&&b(n,["tokenCount"],a);const l=g(e,["finishReason"]);l!=null&&b(n,["finishReason"],l);const u=g(e,["avgLogprobs"]);u!=null&&b(n,["avgLogprobs"],u);const d=g(e,["groundingMetadata"]);d!=null&&b(n,["groundingMetadata"],d);const f=g(e,["index"]);f!=null&&b(n,["index"],f);const h=g(e,["logprobsResult"]);h!=null&&b(n,["logprobsResult"],h);const p=g(e,["safetyRatings"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(E=>E)),b(n,["safetyRatings"],w)}const v=g(e,["urlContextMetadata"]);return v!=null&&b(n,["urlContextMetadata"],v),n}function Toe(e,t){const n={},r=g(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),b(n,["citations"],i)}return n}function Aoe(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let l=xr(a);Array.isArray(l)&&(l=l.map(u=>u)),b(r,["contents"],l)}return r}function Coe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(n,["tokensInfo"],a)}return n}function Noe(e,t){const n={},r=g(e,["values"]);r!=null&&b(n,["values"],r);const i=g(e,["statistics"]);return i!=null&&b(n,["statistics"],Ooe(i)),n}function Ooe(e,t){const n={},r=g(e,["truncated"]);r!=null&&b(n,["truncated"],r);const i=g(e,["token_count"]);return i!=null&&b(n,["tokenCount"],i),n}function Fm(e,t){const n={},r=g(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Lse(l))),b(n,["parts"],a)}const i=g(e,["role"]);return i!=null&&b(n,["role"],i),n}function Roe(e,t){const n={},r=g(e,["controlType"]);r!=null&&b(n,["controlType"],r);const i=g(e,["enableControlImageComputation"]);return i!=null&&b(n,["computeControl"],i),n}function koe(e,t){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Poe(e,t,n){const r={},i=g(e,["systemInstruction"]);t!==void 0&&i!=null&&b(t,["systemInstruction"],_n(i));const a=g(e,["tools"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>yz(d))),b(t,["tools"],u)}const l=g(e,["generationConfig"]);return t!==void 0&&l!=null&&b(t,["generationConfig"],Sse(l)),r}function Ioe(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=xr(a);Array.isArray(u)&&(u=u.map(d=>Fm(d))),b(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&koe(l),r}function Moe(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=xr(a);Array.isArray(u)&&(u=u.map(d=>d)),b(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&Poe(l,r),r}function Doe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["totalTokens"]);i!=null&&b(n,["totalTokens"],i);const a=g(e,["cachedContentTokenCount"]);return a!=null&&b(n,["cachedContentTokenCount"],a),n}function joe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["totalTokens"]);return i!=null&&b(n,["totalTokens"],i),n}function zoe(e,t,n){const r={},i=g(t,["model"]);return i!=null&&b(r,["_url","name"],tt(e,i)),r}function Loe(e,t,n){const r={},i=g(t,["model"]);return i!=null&&b(r,["_url","name"],tt(e,i)),r}function Uoe(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function Boe(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function qoe(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&b(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&b(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&b(t,["parameters","sampleCount"],l);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&b(t,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);t!==void 0&&d!=null&&b(t,["parameters","guidanceScale"],d);const f=g(e,["seed"]);t!==void 0&&f!=null&&b(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&b(t,["parameters","safetySetting"],h);const p=g(e,["personGeneration"]);t!==void 0&&p!=null&&b(t,["parameters","personGeneration"],p);const v=g(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&b(t,["parameters","includeSafetyAttributes"],v);const w=g(e,["includeRaiReason"]);t!==void 0&&w!=null&&b(t,["parameters","includeRaiReason"],w);const E=g(e,["language"]);t!==void 0&&E!=null&&b(t,["parameters","language"],E);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&b(t,["parameters","outputOptions","mimeType"],S);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&b(t,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&b(t,["parameters","addWatermark"],C);const R=g(e,["labels"]);t!==void 0&&R!=null&&b(t,["labels"],R);const k=g(e,["editMode"]);t!==void 0&&k!=null&&b(t,["parameters","editMode"],k);const P=g(e,["baseSteps"]);return t!==void 0&&P!=null&&b(t,["parameters","editConfig","baseSteps"],P),r}function $oe(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=g(t,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>Gse(f))),b(r,["instances[0]","referenceImages"],d)}const u=g(t,["config"]);return u!=null&&qoe(u,r),r}function Hoe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Vm(l))),b(n,["generatedImages"],a)}return n}function Goe(e,t,n){const r={},i=g(e,["taskType"]);t!==void 0&&i!=null&&b(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&b(t,["requests[]","title"],a);const l=g(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&b(t,["requests[]","outputDimensionality"],l),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Foe(e,t,n){const r={},i=g(e,["taskType"]);t!==void 0&&i!=null&&b(t,["instances[]","task_type"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&b(t,["instances[]","title"],a);const l=g(e,["outputDimensionality"]);t!==void 0&&l!=null&&b(t,["parameters","outputDimensionality"],l);const u=g(e,["mimeType"]);t!==void 0&&u!=null&&b(t,["instances[]","mimeType"],u);const d=g(e,["autoTruncate"]);return t!==void 0&&d!=null&&b(t,["parameters","autoTruncate"],d),r}function Voe(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let d=Dw(e,a);Array.isArray(d)&&(d=d.map(f=>f)),b(r,["requests[]","content"],d)}const l=g(t,["config"]);l!=null&&Goe(l,r);const u=g(t,["model"]);return u!==void 0&&b(r,["requests[]","model"],tt(e,u)),r}function Koe(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=Dw(e,a);Array.isArray(u)&&(u=u.map(d=>d)),b(r,["instances[]","content"],u)}const l=g(t,["config"]);return l!=null&&Foe(l,r),r}function Woe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),b(n,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&b(n,["metadata"],a),n}function Yoe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Noe(u))),b(n,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&b(n,["metadata"],a),n}function Joe(e,t){const n={},r=g(e,["endpoint"]);r!=null&&b(n,["name"],r);const i=g(e,["deployedModelId"]);return i!=null&&b(n,["deployedModelId"],i),n}function Xoe(e,t){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&b(n,["fileUri"],r);const i=g(e,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function Qoe(e,t){const n={},r=g(e,["id"]);r!=null&&b(n,["id"],r);const i=g(e,["args"]);i!=null&&b(n,["args"],i);const a=g(e,["name"]);if(a!=null&&b(n,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Zoe(e,t){const n={},r=g(e,["allowedFunctionNames"]);r!=null&&b(n,["allowedFunctionNames"],r);const i=g(e,["mode"]);if(i!=null&&b(n,["mode"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function ese(e,t){const n={},r=g(e,["description"]);r!=null&&b(n,["description"],r);const i=g(e,["name"]);i!=null&&b(n,["name"],i);const a=g(e,["parameters"]);a!=null&&b(n,["parameters"],a);const l=g(e,["parametersJsonSchema"]);l!=null&&b(n,["parametersJsonSchema"],l);const u=g(e,["response"]);u!=null&&b(n,["response"],u);const d=g(e,["responseJsonSchema"]);if(d!=null&&b(n,["responseJsonSchema"],d),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function tse(e,t,n,r){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&b(n,["systemInstruction"],Fm(_n(a)));const l=g(t,["temperature"]);l!=null&&b(i,["temperature"],l);const u=g(t,["topP"]);u!=null&&b(i,["topP"],u);const d=g(t,["topK"]);d!=null&&b(i,["topK"],d);const f=g(t,["candidateCount"]);f!=null&&b(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&b(i,["maxOutputTokens"],h);const p=g(t,["stopSequences"]);p!=null&&b(i,["stopSequences"],p);const v=g(t,["responseLogprobs"]);v!=null&&b(i,["responseLogprobs"],v);const w=g(t,["logprobs"]);w!=null&&b(i,["logprobs"],w);const E=g(t,["presencePenalty"]);E!=null&&b(i,["presencePenalty"],E);const S=g(t,["frequencyPenalty"]);S!=null&&b(i,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&b(i,["seed"],T);const C=g(t,["responseMimeType"]);C!=null&&b(i,["responseMimeType"],C);const R=g(t,["responseSchema"]);R!=null&&b(i,["responseSchema"],jw(R));const k=g(t,["responseJsonSchema"]);if(k!=null&&b(i,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let ce=P;Array.isArray(ce)&&(ce=ce.map(ge=>Fse(ge))),b(n,["safetySettings"],ce)}const D=g(t,["tools"]);if(n!==void 0&&D!=null){let ce=El(D);Array.isArray(ce)&&(ce=ce.map(ge=>Qse(Sl(ge)))),b(n,["tools"],ce)}const O=g(t,["toolConfig"]);if(n!==void 0&&O!=null&&b(n,["toolConfig"],Xse(O)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(t,["cachedContent"]);n!==void 0&&M!=null&&b(n,["cachedContent"],ea(e,M));const B=g(t,["responseModalities"]);B!=null&&b(i,["responseModalities"],B);const L=g(t,["mediaResolution"]);L!=null&&b(i,["mediaResolution"],L);const K=g(t,["speechConfig"]);if(K!=null&&b(i,["speechConfig"],zw(K)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=g(t,["thinkingConfig"]);X!=null&&b(i,["thinkingConfig"],X);const H=g(t,["imageConfig"]);H!=null&&b(i,["imageConfig"],Nse(H));const he=g(t,["enableEnhancedCivicAnswers"]);if(he!=null&&b(i,["enableEnhancedCivicAnswers"],he),g(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function nse(e,t,n,r){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&b(n,["systemInstruction"],_n(a));const l=g(t,["temperature"]);l!=null&&b(i,["temperature"],l);const u=g(t,["topP"]);u!=null&&b(i,["topP"],u);const d=g(t,["topK"]);d!=null&&b(i,["topK"],d);const f=g(t,["candidateCount"]);f!=null&&b(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&b(i,["maxOutputTokens"],h);const p=g(t,["stopSequences"]);p!=null&&b(i,["stopSequences"],p);const v=g(t,["responseLogprobs"]);v!=null&&b(i,["responseLogprobs"],v);const w=g(t,["logprobs"]);w!=null&&b(i,["logprobs"],w);const E=g(t,["presencePenalty"]);E!=null&&b(i,["presencePenalty"],E);const S=g(t,["frequencyPenalty"]);S!=null&&b(i,["frequencyPenalty"],S);const T=g(t,["seed"]);T!=null&&b(i,["seed"],T);const C=g(t,["responseMimeType"]);C!=null&&b(i,["responseMimeType"],C);const R=g(t,["responseSchema"]);R!=null&&b(i,["responseSchema"],jw(R));const k=g(t,["responseJsonSchema"]);k!=null&&b(i,["responseJsonSchema"],k);const P=g(t,["routingConfig"]);P!=null&&b(i,["routingConfig"],P);const D=g(t,["modelSelectionConfig"]);D!=null&&b(i,["modelConfig"],D);const O=g(t,["safetySettings"]);if(n!==void 0&&O!=null){let ie=O;Array.isArray(ie)&&(ie=ie.map(ue=>ue)),b(n,["safetySettings"],ie)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let ie=El(M);Array.isArray(ie)&&(ie=ie.map(ue=>yz(Sl(ue)))),b(n,["tools"],ie)}const B=g(t,["toolConfig"]);n!==void 0&&B!=null&&b(n,["toolConfig"],B);const L=g(t,["labels"]);n!==void 0&&L!=null&&b(n,["labels"],L);const K=g(t,["cachedContent"]);n!==void 0&&K!=null&&b(n,["cachedContent"],ea(e,K));const X=g(t,["responseModalities"]);X!=null&&b(i,["responseModalities"],X);const H=g(t,["mediaResolution"]);H!=null&&b(i,["mediaResolution"],H);const he=g(t,["speechConfig"]);he!=null&&b(i,["speechConfig"],zw(he));const ce=g(t,["audioTimestamp"]);ce!=null&&b(i,["audioTimestamp"],ce);const ge=g(t,["thinkingConfig"]);ge!=null&&b(i,["thinkingConfig"],ge);const $=g(t,["imageConfig"]);if($!=null&&b(i,["imageConfig"],Ose($)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const te=g(t,["modelArmorConfig"]);return n!==void 0&&te!=null&&b(n,["modelArmorConfig"],te),i}function Gk(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=xr(a);Array.isArray(u)&&(u=u.map(d=>Fm(d))),b(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&b(r,["generationConfig"],tse(e,l,r)),r}function Fk(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=xr(a);Array.isArray(u)&&(u=u.map(d=>d)),b(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&b(r,["generationConfig"],nse(e,l,r)),r}function Vk(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>Eoe(h))),b(n,["candidates"],f)}const a=g(e,["modelVersion"]);a!=null&&b(n,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&b(n,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&b(n,["responseId"],u);const d=g(e,["usageMetadata"]);return d!=null&&b(n,["usageMetadata"],d),n}function Kk(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),b(n,["candidates"],h)}const a=g(e,["createTime"]);a!=null&&b(n,["createTime"],a);const l=g(e,["modelVersion"]);l!=null&&b(n,["modelVersion"],l);const u=g(e,["promptFeedback"]);u!=null&&b(n,["promptFeedback"],u);const d=g(e,["responseId"]);d!=null&&b(n,["responseId"],d);const f=g(e,["usageMetadata"]);return f!=null&&b(n,["usageMetadata"],f),n}function rse(e,t,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&b(t,["parameters","sampleCount"],i);const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&b(t,["parameters","aspectRatio"],a);const l=g(e,["guidanceScale"]);if(t!==void 0&&l!=null&&b(t,["parameters","guidanceScale"],l),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&b(t,["parameters","safetySetting"],u);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&b(t,["parameters","personGeneration"],d);const f=g(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&b(t,["parameters","includeSafetyAttributes"],f);const h=g(e,["includeRaiReason"]);t!==void 0&&h!=null&&b(t,["parameters","includeRaiReason"],h);const p=g(e,["language"]);t!==void 0&&p!=null&&b(t,["parameters","language"],p);const v=g(e,["outputMimeType"]);t!==void 0&&v!=null&&b(t,["parameters","outputOptions","mimeType"],v);const w=g(e,["outputCompressionQuality"]);if(t!==void 0&&w!=null&&b(t,["parameters","outputOptions","compressionQuality"],w),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=g(e,["imageSize"]);if(t!==void 0&&E!=null&&b(t,["parameters","sampleImageSize"],E),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function ise(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&b(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&b(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&b(t,["parameters","sampleCount"],l);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&b(t,["parameters","aspectRatio"],u);const d=g(e,["guidanceScale"]);t!==void 0&&d!=null&&b(t,["parameters","guidanceScale"],d);const f=g(e,["seed"]);t!==void 0&&f!=null&&b(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&b(t,["parameters","safetySetting"],h);const p=g(e,["personGeneration"]);t!==void 0&&p!=null&&b(t,["parameters","personGeneration"],p);const v=g(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&b(t,["parameters","includeSafetyAttributes"],v);const w=g(e,["includeRaiReason"]);t!==void 0&&w!=null&&b(t,["parameters","includeRaiReason"],w);const E=g(e,["language"]);t!==void 0&&E!=null&&b(t,["parameters","language"],E);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&b(t,["parameters","outputOptions","mimeType"],S);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&b(t,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&b(t,["parameters","addWatermark"],C);const R=g(e,["labels"]);t!==void 0&&R!=null&&b(t,["labels"],R);const k=g(e,["imageSize"]);t!==void 0&&k!=null&&b(t,["parameters","sampleImageSize"],k);const P=g(e,["enhancePrompt"]);return t!==void 0&&P!=null&&b(t,["parameters","enhancePrompt"],P),r}function ase(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&rse(l,r),r}function ose(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&ise(l,r),r}function sse(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>bse(u))),b(n,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&b(n,["positivePromptSafetyAttributes"],gz(a)),n}function lse(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Vm(u))),b(n,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&b(n,["positivePromptSafetyAttributes"],vz(a)),n}function use(e,t,n){const r={},i=g(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&b(t,["parameters","sampleCount"],i),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=g(e,["durationSeconds"]);if(t!==void 0&&a!=null&&b(t,["parameters","durationSeconds"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&b(t,["parameters","aspectRatio"],l);const u=g(e,["resolution"]);t!==void 0&&u!=null&&b(t,["parameters","resolution"],u);const d=g(e,["personGeneration"]);if(t!==void 0&&d!=null&&b(t,["parameters","personGeneration"],d),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(e,["negativePrompt"]);t!==void 0&&f!=null&&b(t,["parameters","negativePrompt"],f);const h=g(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&b(t,["parameters","enhancePrompt"],h),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=g(e,["lastFrame"]);t!==void 0&&p!=null&&b(t,["instances[0]","lastFrame"],Km(p));const v=g(e,["referenceImages"]);if(t!==void 0&&v!=null){let w=v;Array.isArray(w)&&(w=w.map(E=>dle(E))),b(t,["instances[0]","referenceImages"],w)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function cse(e,t,n){const r={},i=g(e,["numberOfVideos"]);t!==void 0&&i!=null&&b(t,["parameters","sampleCount"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&b(t,["parameters","storageUri"],a);const l=g(e,["fps"]);t!==void 0&&l!=null&&b(t,["parameters","fps"],l);const u=g(e,["durationSeconds"]);t!==void 0&&u!=null&&b(t,["parameters","durationSeconds"],u);const d=g(e,["seed"]);t!==void 0&&d!=null&&b(t,["parameters","seed"],d);const f=g(e,["aspectRatio"]);t!==void 0&&f!=null&&b(t,["parameters","aspectRatio"],f);const h=g(e,["resolution"]);t!==void 0&&h!=null&&b(t,["parameters","resolution"],h);const p=g(e,["personGeneration"]);t!==void 0&&p!=null&&b(t,["parameters","personGeneration"],p);const v=g(e,["pubsubTopic"]);t!==void 0&&v!=null&&b(t,["parameters","pubsubTopic"],v);const w=g(e,["negativePrompt"]);t!==void 0&&w!=null&&b(t,["parameters","negativePrompt"],w);const E=g(e,["enhancePrompt"]);t!==void 0&&E!=null&&b(t,["parameters","enhancePrompt"],E);const S=g(e,["generateAudio"]);t!==void 0&&S!=null&&b(t,["parameters","generateAudio"],S);const T=g(e,["lastFrame"]);t!==void 0&&T!=null&&b(t,["instances[0]","lastFrame"],Gr(T));const C=g(e,["referenceImages"]);if(t!==void 0&&C!=null){let P=C;Array.isArray(P)&&(P=P.map(D=>fle(D))),b(t,["instances[0]","referenceImages"],P)}const R=g(e,["mask"]);t!==void 0&&R!=null&&b(t,["instances[0]","mask"],cle(R));const k=g(e,["compressionQuality"]);return t!==void 0&&k!=null&&b(t,["parameters","compressionQuality"],k),r}function dse(e,t){const n={},r=g(e,["name"]);r!=null&&b(n,["name"],r);const i=g(e,["metadata"]);i!=null&&b(n,["metadata"],i);const a=g(e,["done"]);a!=null&&b(n,["done"],a);const l=g(e,["error"]);l!=null&&b(n,["error"],l);const u=g(e,["response","generateVideoResponse"]);return u!=null&&b(n,["response"],pse(u)),n}function fse(e,t){const n={},r=g(e,["name"]);r!=null&&b(n,["name"],r);const i=g(e,["metadata"]);i!=null&&b(n,["metadata"],i);const a=g(e,["done"]);a!=null&&b(n,["done"],a);const l=g(e,["error"]);l!=null&&b(n,["error"],l);const u=g(e,["response"]);return u!=null&&b(n,["response"],gse(u)),n}function hse(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&b(r,["instances[0]","image"],Km(l));const u=g(t,["video"]);u!=null&&b(r,["instances[0]","video"],bz(u));const d=g(t,["source"]);d!=null&&vse(d,r);const f=g(t,["config"]);return f!=null&&use(f,r),r}function mse(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&b(r,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&b(r,["instances[0]","image"],Gr(l));const u=g(t,["video"]);u!=null&&b(r,["instances[0]","video"],xz(u));const d=g(t,["source"]);d!=null&&yse(d,r);const f=g(t,["config"]);return f!=null&&cse(f,r),r}function pse(e,t){const n={},r=g(e,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>wse(u))),b(n,["generatedVideos"],l)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&b(n,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&b(n,["raiMediaFilteredReasons"],a),n}function gse(e,t){const n={},r=g(e,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_se(u))),b(n,["generatedVideos"],l)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&b(n,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&b(n,["raiMediaFilteredReasons"],a),n}function vse(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&b(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&b(t,["instances[0]","image"],Km(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&b(t,["instances[0]","video"],bz(l)),r}function yse(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&b(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&b(t,["instances[0]","image"],Gr(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&b(t,["instances[0]","video"],xz(l)),r}function bse(e,t){const n={},r=g(e,["_self"]);r!=null&&b(n,["image"],Rse(r));const i=g(e,["raiFilteredReason"]);i!=null&&b(n,["raiFilteredReason"],i);const a=g(e,["_self"]);return a!=null&&b(n,["safetyAttributes"],gz(a)),n}function Vm(e,t){const n={},r=g(e,["_self"]);r!=null&&b(n,["image"],pz(r));const i=g(e,["raiFilteredReason"]);i!=null&&b(n,["raiFilteredReason"],i);const a=g(e,["_self"]);a!=null&&b(n,["safetyAttributes"],vz(a));const l=g(e,["prompt"]);return l!=null&&b(n,["enhancedPrompt"],l),n}function xse(e,t){const n={},r=g(e,["_self"]);r!=null&&b(n,["mask"],pz(r));const i=g(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(n,["labels"],a)}return n}function wse(e,t){const n={},r=g(e,["video"]);return r!=null&&b(n,["video"],lle(r)),n}function _se(e,t){const n={},r=g(e,["_self"]);return r!=null&&b(n,["video"],ule(r)),n}function Sse(e,t){const n={},r=g(e,["modelSelectionConfig"]);r!=null&&b(n,["modelConfig"],r);const i=g(e,["responseJsonSchema"]);i!=null&&b(n,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&b(n,["audioTimestamp"],a);const l=g(e,["candidateCount"]);l!=null&&b(n,["candidateCount"],l);const u=g(e,["enableAffectiveDialog"]);u!=null&&b(n,["enableAffectiveDialog"],u);const d=g(e,["frequencyPenalty"]);d!=null&&b(n,["frequencyPenalty"],d);const f=g(e,["logprobs"]);f!=null&&b(n,["logprobs"],f);const h=g(e,["maxOutputTokens"]);h!=null&&b(n,["maxOutputTokens"],h);const p=g(e,["mediaResolution"]);p!=null&&b(n,["mediaResolution"],p);const v=g(e,["presencePenalty"]);v!=null&&b(n,["presencePenalty"],v);const w=g(e,["responseLogprobs"]);w!=null&&b(n,["responseLogprobs"],w);const E=g(e,["responseMimeType"]);E!=null&&b(n,["responseMimeType"],E);const S=g(e,["responseModalities"]);S!=null&&b(n,["responseModalities"],S);const T=g(e,["responseSchema"]);T!=null&&b(n,["responseSchema"],T);const C=g(e,["routingConfig"]);C!=null&&b(n,["routingConfig"],C);const R=g(e,["seed"]);R!=null&&b(n,["seed"],R);const k=g(e,["speechConfig"]);k!=null&&b(n,["speechConfig"],k);const P=g(e,["stopSequences"]);P!=null&&b(n,["stopSequences"],P);const D=g(e,["temperature"]);D!=null&&b(n,["temperature"],D);const O=g(e,["thinkingConfig"]);O!=null&&b(n,["thinkingConfig"],O);const M=g(e,["topK"]);M!=null&&b(n,["topK"],M);const B=g(e,["topP"]);if(B!=null&&b(n,["topP"],B),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Ese(e,t,n){const r={},i=g(t,["model"]);return i!=null&&b(r,["_url","name"],tt(e,i)),r}function Tse(e,t,n){const r={},i=g(t,["model"]);return i!=null&&b(r,["_url","name"],tt(e,i)),r}function Ase(e,t){const n={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=g(e,["enableWidget"]);return r!=null&&b(n,["enableWidget"],r),n}function Cse(e,t){const n={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=g(e,["timeRangeFilter"]);return r!=null&&b(n,["timeRangeFilter"],r),n}function Nse(e,t){const n={},r=g(e,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const i=g(e,["imageSize"]);if(i!=null&&b(n,["imageSize"],i),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Ose(e,t){const n={},r=g(e,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const i=g(e,["imageSize"]);i!=null&&b(n,["imageSize"],i);const a=g(e,["personGeneration"]);a!=null&&b(n,["personGeneration"],a);const l=g(e,["outputMimeType"]);l!=null&&b(n,["imageOutputOptions","mimeType"],l);const u=g(e,["outputCompressionQuality"]);return u!=null&&b(n,["imageOutputOptions","compressionQuality"],u),n}function Rse(e,t){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&b(n,["imageBytes"],qa(r));const i=g(e,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function pz(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const i=g(e,["bytesBase64Encoded"]);i!=null&&b(n,["imageBytes"],qa(i));const a=g(e,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}function Km(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&b(n,["bytesBase64Encoded"],qa(r));const i=g(e,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function Gr(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const i=g(e,["imageBytes"]);i!=null&&b(n,["bytesBase64Encoded"],qa(i));const a=g(e,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}function kse(e,t,n,r){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&b(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&b(n,["_query","pageToken"],l);const u=g(t,["filter"]);n!==void 0&&u!=null&&b(n,["_query","filter"],u);const d=g(t,["queryBase"]);return n!==void 0&&d!=null&&b(n,["_url","models_url"],lz(e,d)),i}function Pse(e,t,n,r){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&b(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&b(n,["_query","pageToken"],l);const u=g(t,["filter"]);n!==void 0&&u!=null&&b(n,["_query","filter"],u);const d=g(t,["queryBase"]);return n!==void 0&&d!=null&&b(n,["_url","models_url"],lz(e,d)),i}function Ise(e,t,n){const r={},i=g(t,["config"]);return i!=null&&kse(e,i,r),r}function Mse(e,t,n){const r={},i=g(t,["config"]);return i!=null&&Pse(e,i,r),r}function Dse(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let l=uz(a);Array.isArray(l)&&(l=l.map(u=>Ib(u))),b(n,["models"],l)}return n}function jse(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let l=uz(a);Array.isArray(l)&&(l=l.map(u=>Mb(u))),b(n,["models"],l)}return n}function zse(e,t){const n={},r=g(e,["maskMode"]);r!=null&&b(n,["maskMode"],r);const i=g(e,["segmentationClasses"]);i!=null&&b(n,["maskClasses"],i);const a=g(e,["maskDilation"]);return a!=null&&b(n,["dilation"],a),n}function Ib(e,t){const n={},r=g(e,["name"]);r!=null&&b(n,["name"],r);const i=g(e,["displayName"]);i!=null&&b(n,["displayName"],i);const a=g(e,["description"]);a!=null&&b(n,["description"],a);const l=g(e,["version"]);l!=null&&b(n,["version"],l);const u=g(e,["_self"]);u!=null&&b(n,["tunedModelInfo"],Zse(u));const d=g(e,["inputTokenLimit"]);d!=null&&b(n,["inputTokenLimit"],d);const f=g(e,["outputTokenLimit"]);f!=null&&b(n,["outputTokenLimit"],f);const h=g(e,["supportedGenerationMethods"]);h!=null&&b(n,["supportedActions"],h);const p=g(e,["temperature"]);p!=null&&b(n,["temperature"],p);const v=g(e,["maxTemperature"]);v!=null&&b(n,["maxTemperature"],v);const w=g(e,["topP"]);w!=null&&b(n,["topP"],w);const E=g(e,["topK"]);E!=null&&b(n,["topK"],E);const S=g(e,["thinking"]);return S!=null&&b(n,["thinking"],S),n}function Mb(e,t){const n={},r=g(e,["name"]);r!=null&&b(n,["name"],r);const i=g(e,["displayName"]);i!=null&&b(n,["displayName"],i);const a=g(e,["description"]);a!=null&&b(n,["description"],a);const l=g(e,["versionId"]);l!=null&&b(n,["version"],l);const u=g(e,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(w=>Joe(w))),b(n,["endpoints"],v)}const d=g(e,["labels"]);d!=null&&b(n,["labels"],d);const f=g(e,["_self"]);f!=null&&b(n,["tunedModelInfo"],ele(f));const h=g(e,["defaultCheckpointId"]);h!=null&&b(n,["defaultCheckpointId"],h);const p=g(e,["checkpoints"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(w=>w)),b(n,["checkpoints"],v)}return n}function Lse(e,t){const n={},r=g(e,["mediaResolution"]);r!=null&&b(n,["mediaResolution"],r);const i=g(e,["codeExecutionResult"]);i!=null&&b(n,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&b(n,["executableCode"],a);const l=g(e,["fileData"]);l!=null&&b(n,["fileData"],Xoe(l));const u=g(e,["functionCall"]);u!=null&&b(n,["functionCall"],Qoe(u));const d=g(e,["functionResponse"]);d!=null&&b(n,["functionResponse"],d);const f=g(e,["inlineData"]);f!=null&&b(n,["inlineData"],Soe(f));const h=g(e,["text"]);h!=null&&b(n,["text"],h);const p=g(e,["thought"]);p!=null&&b(n,["thought"],p);const v=g(e,["thoughtSignature"]);v!=null&&b(n,["thoughtSignature"],v);const w=g(e,["videoMetadata"]);return w!=null&&b(n,["videoMetadata"],w),n}function Use(e,t){const n={},r=g(e,["productImage"]);return r!=null&&b(n,["image"],Gr(r)),n}function Bse(e,t,n){const r={},i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&b(t,["parameters","sampleCount"],i);const a=g(e,["baseSteps"]);t!==void 0&&a!=null&&b(t,["parameters","baseSteps"],a);const l=g(e,["outputGcsUri"]);t!==void 0&&l!=null&&b(t,["parameters","storageUri"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&b(t,["parameters","seed"],u);const d=g(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&b(t,["parameters","safetySetting"],d);const f=g(e,["personGeneration"]);t!==void 0&&f!=null&&b(t,["parameters","personGeneration"],f);const h=g(e,["addWatermark"]);t!==void 0&&h!=null&&b(t,["parameters","addWatermark"],h);const p=g(e,["outputMimeType"]);t!==void 0&&p!=null&&b(t,["parameters","outputOptions","mimeType"],p);const v=g(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&b(t,["parameters","outputOptions","compressionQuality"],v);const w=g(e,["enhancePrompt"]);t!==void 0&&w!=null&&b(t,["parameters","enhancePrompt"],w);const E=g(e,["labels"]);return t!==void 0&&E!=null&&b(t,["labels"],E),r}function qse(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["source"]);a!=null&&Hse(a,r);const l=g(t,["config"]);return l!=null&&Bse(l,r),r}function $se(e,t){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Vm(a))),b(n,["generatedImages"],i)}return n}function Hse(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&b(t,["instances[0]","prompt"],i);const a=g(e,["personImage"]);t!==void 0&&a!=null&&b(t,["instances[0]","personImage","image"],Gr(a));const l=g(e,["productImages"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Use(d))),b(t,["instances[0]","productImages"],u)}return r}function Gse(e,t){const n={},r=g(e,["referenceImage"]);r!=null&&b(n,["referenceImage"],Gr(r));const i=g(e,["referenceId"]);i!=null&&b(n,["referenceId"],i);const a=g(e,["referenceType"]);a!=null&&b(n,["referenceType"],a);const l=g(e,["maskImageConfig"]);l!=null&&b(n,["maskImageConfig"],zse(l));const u=g(e,["controlImageConfig"]);u!=null&&b(n,["controlImageConfig"],Roe(u));const d=g(e,["styleImageConfig"]);d!=null&&b(n,["styleImageConfig"],d);const f=g(e,["subjectImageConfig"]);return f!=null&&b(n,["subjectImageConfig"],f),n}function gz(e,t){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const i=g(e,["safetyAttributes","scores"]);i!=null&&b(n,["scores"],i);const a=g(e,["contentType"]);return a!=null&&b(n,["contentType"],a),n}function vz(e,t){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const i=g(e,["safetyAttributes","scores"]);i!=null&&b(n,["scores"],i);const a=g(e,["contentType"]);return a!=null&&b(n,["contentType"],a),n}function Fse(e,t){const n={},r=g(e,["category"]);if(r!=null&&b(n,["category"],r),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&b(n,["threshold"],i),n}function Vse(e,t){const n={},r=g(e,["image"]);return r!=null&&b(n,["image"],Gr(r)),n}function Kse(e,t,n){const r={},i=g(e,["mode"]);t!==void 0&&i!=null&&b(t,["parameters","mode"],i);const a=g(e,["maxPredictions"]);t!==void 0&&a!=null&&b(t,["parameters","maxPredictions"],a);const l=g(e,["confidenceThreshold"]);t!==void 0&&l!=null&&b(t,["parameters","confidenceThreshold"],l);const u=g(e,["maskDilation"]);t!==void 0&&u!=null&&b(t,["parameters","maskDilation"],u);const d=g(e,["binaryColorThreshold"]);t!==void 0&&d!=null&&b(t,["parameters","binaryColorThreshold"],d);const f=g(e,["labels"]);return t!==void 0&&f!=null&&b(t,["labels"],f),r}function Wse(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["source"]);a!=null&&Jse(a,r);const l=g(t,["config"]);return l!=null&&Kse(l,r),r}function Yse(e,t){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>xse(a))),b(n,["generatedMasks"],i)}return n}function Jse(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&b(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&b(t,["instances[0]","image"],Gr(a));const l=g(e,["scribbleImage"]);return t!==void 0&&l!=null&&b(t,["instances[0]","scribble"],Vse(l)),r}function Xse(e,t){const n={},r=g(e,["retrievalConfig"]);r!=null&&b(n,["retrievalConfig"],r);const i=g(e,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],Zoe(i)),n}function Qse(e,t){const n={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["computerUse"]);r!=null&&b(n,["computerUse"],r);const i=g(e,["fileSearch"]);i!=null&&b(n,["fileSearch"],i);const a=g(e,["codeExecution"]);if(a!=null&&b(n,["codeExecution"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>v)),b(n,["functionDeclarations"],p)}const u=g(e,["googleMaps"]);u!=null&&b(n,["googleMaps"],Ase(u));const d=g(e,["googleSearch"]);d!=null&&b(n,["googleSearch"],Cse(d));const f=g(e,["googleSearchRetrieval"]);f!=null&&b(n,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&b(n,["urlContext"],h),n}function yz(e,t){const n={},r=g(e,["retrieval"]);r!=null&&b(n,["retrieval"],r);const i=g(e,["computerUse"]);if(i!=null&&b(n,["computerUse"],i),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=g(e,["codeExecution"]);a!=null&&b(n,["codeExecution"],a);const l=g(e,["enterpriseWebSearch"]);l!=null&&b(n,["enterpriseWebSearch"],l);const u=g(e,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(w=>ese(w))),b(n,["functionDeclarations"],v)}const d=g(e,["googleMaps"]);d!=null&&b(n,["googleMaps"],d);const f=g(e,["googleSearch"]);f!=null&&b(n,["googleSearch"],f);const h=g(e,["googleSearchRetrieval"]);h!=null&&b(n,["googleSearchRetrieval"],h);const p=g(e,["urlContext"]);return p!=null&&b(n,["urlContext"],p),n}function Zse(e,t){const n={},r=g(e,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=g(e,["createTime"]);i!=null&&b(n,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&b(n,["updateTime"],a),n}function ele(e,t){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&b(n,["baseModel"],r);const i=g(e,["createTime"]);i!=null&&b(n,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&b(n,["updateTime"],a),n}function tle(e,t,n){const r={},i=g(e,["displayName"]);t!==void 0&&i!=null&&b(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&b(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&b(t,["defaultCheckpointId"],l),r}function nle(e,t,n){const r={},i=g(e,["displayName"]);t!==void 0&&i!=null&&b(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&b(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&b(t,["defaultCheckpointId"],l),r}function rle(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","name"],tt(e,i));const a=g(t,["config"]);return a!=null&&tle(a,r),r}function ile(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["config"]);return a!=null&&nle(a,r),r}function ale(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&b(t,["parameters","storageUri"],i);const a=g(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&b(t,["parameters","safetySetting"],a);const l=g(e,["personGeneration"]);t!==void 0&&l!=null&&b(t,["parameters","personGeneration"],l);const u=g(e,["includeRaiReason"]);t!==void 0&&u!=null&&b(t,["parameters","includeRaiReason"],u);const d=g(e,["outputMimeType"]);t!==void 0&&d!=null&&b(t,["parameters","outputOptions","mimeType"],d);const f=g(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&b(t,["parameters","outputOptions","compressionQuality"],f);const h=g(e,["enhanceInputImage"]);t!==void 0&&h!=null&&b(t,["parameters","upscaleConfig","enhanceInputImage"],h);const p=g(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&b(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const v=g(e,["labels"]);t!==void 0&&v!=null&&b(t,["labels"],v);const w=g(e,["numberOfImages"]);t!==void 0&&w!=null&&b(t,["parameters","sampleCount"],w);const E=g(e,["mode"]);return t!==void 0&&E!=null&&b(t,["parameters","mode"],E),r}function ole(e,t,n){const r={},i=g(t,["model"]);i!=null&&b(r,["_url","model"],tt(e,i));const a=g(t,["image"]);a!=null&&b(r,["instances[0]","image"],Gr(a));const l=g(t,["upscaleFactor"]);l!=null&&b(r,["parameters","upscaleConfig","upscaleFactor"],l);const u=g(t,["config"]);return u!=null&&ale(u,r),r}function sle(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Vm(l))),b(n,["generatedImages"],a)}return n}function lle(e,t){const n={},r=g(e,["uri"]);r!=null&&b(n,["uri"],r);const i=g(e,["encodedVideo"]);i!=null&&b(n,["videoBytes"],qa(i));const a=g(e,["encoding"]);return a!=null&&b(n,["mimeType"],a),n}function ule(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&b(n,["uri"],r);const i=g(e,["bytesBase64Encoded"]);i!=null&&b(n,["videoBytes"],qa(i));const a=g(e,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}function cle(e,t){const n={},r=g(e,["image"]);r!=null&&b(n,["_self"],Gr(r));const i=g(e,["maskMode"]);return i!=null&&b(n,["maskMode"],i),n}function dle(e,t){const n={},r=g(e,["image"]);r!=null&&b(n,["image"],Km(r));const i=g(e,["referenceType"]);return i!=null&&b(n,["referenceType"],i),n}function fle(e,t){const n={},r=g(e,["image"]);r!=null&&b(n,["image"],Gr(r));const i=g(e,["referenceType"]);return i!=null&&b(n,["referenceType"],i),n}function bz(e,t){const n={},r=g(e,["uri"]);r!=null&&b(n,["uri"],r);const i=g(e,["videoBytes"]);i!=null&&b(n,["encodedVideo"],qa(i));const a=g(e,["mimeType"]);return a!=null&&b(n,["encoding"],a),n}function xz(e,t){const n={},r=g(e,["uri"]);r!=null&&b(n,["gcsUri"],r);const i=g(e,["videoBytes"]);i!=null&&b(n,["bytesBase64Encoded"],qa(i));const a=g(e,["mimeType"]);return a!=null&&b(n,["mimeType"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hle(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&b(t,["displayName"],r),n}function mle(e){const t={},n=g(e,["config"]);return n!=null&&hle(n,t),t}function ple(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&b(t,["_query","force"],r),n}function gle(e){const t={},n=g(e,["name"]);n!=null&&b(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&ple(r,t),t}function vle(e){const t={},n=g(e,["name"]);return n!=null&&b(t,["_url","name"],n),t}function yle(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&b(t,["chunkingConfig"],i),n}function ble(e){const t={},n=g(e,["name"]);n!=null&&b(t,["name"],n);const r=g(e,["metadata"]);r!=null&&b(t,["metadata"],r);const i=g(e,["done"]);i!=null&&b(t,["done"],i);const a=g(e,["error"]);a!=null&&b(t,["error"],a);const l=g(e,["response"]);return l!=null&&b(t,["response"],wle(l)),t}function xle(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&b(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&b(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&yle(i,t),t}function wle(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&b(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&b(t,["documentName"],i),t}function _le(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&b(t,["_query","pageToken"],i),n}function Sle(e){const t={},n=g(e,["config"]);return n!=null&&_le(n,t),t}function Ele(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["fileSearchStores"],a)}return t}function wz(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&b(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&b(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),b(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&b(t,["chunkingConfig"],l),n}function Tle(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&b(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&wz(r,t),t}function Ale(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&b(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cle="Content-Type",Nle="X-Server-Timeout",Ole="User-Agent",Db="x-goog-api-client",Rle="1.41.0",kle=`google-genai-sdk/${Rle}`,Ple="v1beta1",Ile="v1beta",Mle=5,Dle=[408,429,500,502,503,504];class jle{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ple}else{if(!this.clientOptions.apiKey)throw new gc({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ile,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ob.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&zle(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Wk(i),new Rb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Wk(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Lr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield ze(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const E=JSON.parse(p);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),T=S.status,C=S.code,R=`got status: ${T}. ${JSON.stringify(E)}`;if(C>=400&&C<600)throw new gc({message:R,status:C})}}catch(E){if(E.name==="ApiError")throw E}l+=p;let v=-1,w=0;for(;;){v=-1,w=0;for(const T of d){const C=l.indexOf(T);C!==-1&&(v===-1||C<v)&&(v=C,w=T.length)}if(v===-1)break;const E=l.substring(0,v);l=l.substring(v+w);const S=E.trim();if(S.startsWith(u)){const T=S.substring(u.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ze(new Rb(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return Are(async()=>{const l=await fetch(t,n);if(l.ok)return l;throw Dle.includes(l.status)?new Error(`Retryable HTTP Error: ${l.statusText}`):new Zj(`Non-retryable exception ${l.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:Mle)-1})}getDefaultHeaders(){const t={},n=kle+" "+this.clientOptions.userAgentExtra;return t[Ole]=n,t[Db]=n,t[Cle]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(Nle,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),h=me("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&wz(r,p);const v=await this.fetchUploadUrl(f,u,d,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Wk(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new gc({message:i,status:n}):new Error(i)}}function zle(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lle="mcp_used/unknown";let Ule=!1;function _z(e){for(const t of e)if(Ble(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Ule}function Sz(e){var t;const n=(t=e[Db])!==null&&t!==void 0?t:"";e[Db]=(n+` ${Lle}`).trimStart()}function Ble(e){return e!==null&&typeof e=="object"&&e instanceof Uw}function qle(e){return Lr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const l=yield ze(n.listTools({cursor:i}));for(const u of l.tools)yield yield ze(u),a++;if(!l.nextCursor)break;i=l.nextCursor}})}class Uw{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Uw(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,Ur(qle(h))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const p=i;l.push(p);const v=p.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(p){n={error:p}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),mie(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $le(e,t,n){const r=new oie;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class Hle{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=Vle(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(k=>{f=k}),p=t.callbacks,v=function(){f({})},w=this.apiClient,E={onopen:v,onmessage:k=>{$le(w,p.onmessage,k)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(k){}},S=this.webSocketFactory.create(d,Fle(l),E);S.connect(),await h;const R={setup:{model:tt(this.apiClient,t.model)}};return S.send(JSON.stringify(R)),new Gle(S,this.apiClient)}}class Gle{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=hoe(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=foe(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ks.PLAY)}pause(){this.sendPlaybackControl(Ks.PAUSE)}stop(){this.sendPlaybackControl(Ks.STOP)}resetContext(){this.sendPlaybackControl(Ks.RESET_CONTEXT)}close(){this.conn.close()}}function Fle(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Vle(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kle="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Wle(e,t,n){const r=new aie;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=goe(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class Yle{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new Hle(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&_z(t.config.tools)&&Sz(p);const v=Zle(p);if(this.apiClient.isVertexAI()){const L=this.apiClient.getProject(),K=this.apiClient.getLocation(),X=this.apiClient.getApiKey(),H=!!L&&!!K||!!X;this.apiClient.getCustomBaseUrl()&&!H?h=d:(h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const L=this.apiClient.getApiKey();let K="BidiGenerateContent",X="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",X="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${K}?${X}=${L}`}let w=()=>{};const E=new Promise(L=>{w=L}),S=t.callbacks,T=function(){var L;(L=S==null?void 0:S.onopen)===null||L===void 0||L.call(S),w({})},C=this.apiClient,R={onopen:T,onmessage:L=>{Wle(C,S.onmessage,L)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(L){}},k=this.webSocketFactory.create(h,Qle(v),R);k.connect(),await E;let P=tt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const L=this.apiClient.getProject(),K=this.apiClient.getLocation();L&&K&&(P=`projects/${L}/locations/${K}/`+P)}let D={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Uh.AUDIO]}:t.config.responseModalities=[Uh.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],M=[];for(const L of O)if(this.isCallableTool(L)){const K=L;M.push(await K.tool())}else M.push(L);M.length>0&&(t.config.tools=M);const B={model:P,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?D=doe(this.apiClient,B):D=coe(this.apiClient,B),delete D.config,k.send(JSON.stringify(D)),new Xle(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Jle={turnComplete:!0};class Xle{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xr(n.turns),t.isVertexAI()||(r=r.map(i=>Fm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(Kle)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},Jle),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:poe(t)}:n={realtimeInput:moe(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Qle(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Zle(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yk=10;function Jk(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(tl(l)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function tl(e){return"callTool"in e&&typeof e.callTool=="function"}function eue(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>tl(i)))!==null&&r!==void 0?r:!1}function Xk(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(tl(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function Qk(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tue extends Zi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!eue(n)||Jk(n.config))return await this.generateContentInternal(d);const f=Xk(n);if(f.length>0){const S=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const v=xr(d.contents),w=(a=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:Yk;let E=0;for(;E<w&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,T=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(tl(C)){const k=await C.callTool(h.functionCalls);T.push(...k)}E++,p={role:"user",parts:T},d.contents=xr(d.contents),d.contents.push(S),d.contents.push(p),Qk(d.config)&&(v.push(S),v.push(p))}return Qk(d.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),Jk(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const d=Xk(n);if(d.length>0){const p=d.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:l.push(d);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new $o(Hi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async d=>tl(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&_z(t.config.tools)){const d=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Sz(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(tl(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Yk;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(f,h,p){return Lr(this,arguments,function*(){for(var v,w,E,S,T,C;u<a;){l&&(u++,l=!1);const D=yield ze(f.processParamsMaybeAddMcpUsage(p)),O=yield ze(f.generateContentStreamInternal(D)),M=[],B=[];try{for(var R=!0,k=(w=void 0,Ur(O)),P;P=yield ze(k.next()),v=P.done,!v;R=!0){S=P.value,R=!1;const L=S;if(yield yield ze(L),L.candidates&&(!((T=L.candidates[0])===null||T===void 0)&&T.content)){B.push(L.candidates[0].content);for(const K of(C=L.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(K.functionCall.name)){const X=yield ze(h.get(K.functionCall.name).callTool([K.functionCall]));M.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(L){w={error:L}}finally{try{!R&&!v&&(E=k.return)&&(yield ze(E.call(k)))}finally{if(w)throw w.error}}if(M.length>0){l=!0;const L=new Iu;L.candidates=[{content:{role:"user",parts:M}}],yield yield ze(L);const K=[];K.push(...B),K.push({role:"user",parts:M});const X=xr(p.contents).concat(K);p.contents=X}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Fk(this.apiClient,t);return u=me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Kk(h),v=new Iu;return Object.assign(v,p),v})}else{const f=Gk(this.apiClient,t);return u=me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Vk(h),v=new Iu;return Object.assign(v,p),v})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Fk(this.apiClient,t);return u=me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return Lr(this,arguments,function*(){var v,w,E,S;try{for(var T=!0,C=Ur(p),R;R=yield ze(C.next()),v=R.done,!v;T=!0){S=R.value,T=!1;const k=S,P=Kk(yield ze(k.json()),t);P.sdkHttpResponse={headers:k.headers};const D=new Iu;Object.assign(D,P),yield yield ze(D)}}catch(k){w={error:k}}finally{try{!T&&!v&&(E=C.return)&&(yield ze(E.call(C)))}finally{if(w)throw w.error}}})})}else{const f=Gk(this.apiClient,t);return u=me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(p){return Lr(this,arguments,function*(){var v,w,E,S;try{for(var T=!0,C=Ur(p),R;R=yield ze(C.next()),v=R.done,!v;T=!0){S=R.value,T=!1;const k=S,P=Vk(yield ze(k.json()),t);P.sdkHttpResponse={headers:k.headers};const D=new Iu;Object.assign(D,P),yield yield ze(D)}}catch(k){w={error:k}}finally{try{!T&&!v&&(E=C.return)&&(yield ze(E.call(C)))}finally{if(w)throw w.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Koe(this.apiClient,t);return u=me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Yoe(h),v=new Ck;return Object.assign(v,p),v})}else{const f=Voe(this.apiClient,t);return u=me("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Woe(h),v=new Ck;return Object.assign(v,p),v})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=ose(this.apiClient,t);return u=me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=lse(h),v=new Nk;return Object.assign(v,p),v})}else{const f=ase(this.apiClient,t);return u=me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=sse(h),v=new Nk;return Object.assign(v,p),v})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=$oe(this.apiClient,t);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Hoe(d),h=new Kre;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=ole(this.apiClient,t);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=sle(d),h=new Wre;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=qse(this.apiClient,t);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=$se(d),h=new Yre;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Wse(this.apiClient,t);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Yse(d),h=new Jre;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Tse(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Mb(h))}else{const f=Ese(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Ib(h))}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Mse(this.apiClient,t);return u=me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=jse(h),v=new Ok;return Object.assign(v,p),v})}else{const f=Ise(this.apiClient,t);return u=me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Dse(h),v=new Ok;return Object.assign(v,p),v})}}async update(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=ile(this.apiClient,t);return u=me("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Mb(h))}else{const f=rle(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Ib(h))}}async delete(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Loe(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Boe(h),v=new Rk;return Object.assign(v,p),v})}else{const f=zoe(this.apiClient,t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Uoe(h),v=new Rk;return Object.assign(v,p),v})}}async countTokens(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Moe(this.apiClient,t);return u=me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=joe(h),v=new kk;return Object.assign(v,p),v})}else{const f=Ioe(this.apiClient,t);return u=me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Doe(h),v=new kk;return Object.assign(v,p),v})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Aoe(this.apiClient,t);return a=me("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Coe(d),h=new Xre;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mse(this.apiClient,t);return u=me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const p=fse(h),v=new Bh;return Object.assign(v,p),v})}else{const f=hse(this.apiClient,t);return u=me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const p=dse(h),v=new Bh;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nue extends Zi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qre(t);return u=me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=Bre(t);return u=me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Ire(t);return a=me("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rue(e){const t={},n=g(e,["data"]);if(n!=null&&b(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function iue(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>hue(a))),b(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&b(t,["role"],r),t}function aue(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&b(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&b(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&b(n,["bidiGenerateContentSetup"],fue(e,u));const d=g(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&b(n,["fieldMask"],d),r}function oue(e,t){const n={},r=g(t,["config"]);return r!=null&&b(n,["config"],aue(e,r,n)),n}function sue(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&b(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&b(t,["mimeType"],r),t}function lue(e){const t={},n=g(e,["id"]);n!=null&&b(t,["id"],n);const r=g(e,["args"]);r!=null&&b(t,["args"],r);const i=g(e,["name"]);if(i!=null&&b(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uue(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&b(t,["enableWidget"],n),t}function cue(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&b(t,["timeRangeFilter"],n),t}function due(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&b(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&b(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&b(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&b(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&b(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&b(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&b(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&b(t,["setup","generationConfig","seed"],h);const p=g(e,["speechConfig"]);t!==void 0&&p!=null&&b(t,["setup","generationConfig","speechConfig"],Lw(p));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&b(t,["setup","generationConfig","thinkingConfig"],v);const w=g(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&b(t,["setup","generationConfig","enableAffectiveDialog"],w);const E=g(e,["systemInstruction"]);t!==void 0&&E!=null&&b(t,["setup","systemInstruction"],iue(_n(E)));const S=g(e,["tools"]);if(t!==void 0&&S!=null){let O=El(S);Array.isArray(O)&&(O=O.map(M=>pue(Sl(M)))),b(t,["setup","tools"],O)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&b(t,["setup","sessionResumption"],mue(T));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&b(t,["setup","inputAudioTranscription"],C);const R=g(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&b(t,["setup","outputAudioTranscription"],R);const k=g(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&b(t,["setup","realtimeInputConfig"],k);const P=g(e,["contextWindowCompression"]);t!==void 0&&P!=null&&b(t,["setup","contextWindowCompression"],P);const D=g(e,["proactivity"]);if(t!==void 0&&D!=null&&b(t,["setup","proactivity"],D),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fue(e,t){const n={},r=g(t,["model"]);r!=null&&b(n,["setup","model"],tt(e,r));const i=g(t,["config"]);return i!=null&&b(n,["config"],due(i,n)),n}function hue(e){const t={},n=g(e,["mediaResolution"]);n!=null&&b(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&b(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&b(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&b(t,["fileData"],sue(a));const l=g(e,["functionCall"]);l!=null&&b(t,["functionCall"],lue(l));const u=g(e,["functionResponse"]);u!=null&&b(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&b(t,["inlineData"],rue(d));const f=g(e,["text"]);f!=null&&b(t,["text"],f);const h=g(e,["thought"]);h!=null&&b(t,["thought"],h);const p=g(e,["thoughtSignature"]);p!=null&&b(t,["thoughtSignature"],p);const v=g(e,["videoMetadata"]);return v!=null&&b(t,["videoMetadata"],v),t}function mue(e){const t={},n=g(e,["handle"]);if(n!=null&&b(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function pue(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&b(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&b(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&b(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>p)),b(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&b(t,["googleMaps"],uue(l));const u=g(e,["googleSearch"]);u!=null&&b(t,["googleSearch"],cue(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&b(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&b(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gue(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function vue(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=gue(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class yue extends Zi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=oue(this.apiClient,t);a=me("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=vue(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bue(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&b(t,["_query","force"],r),n}function xue(e){const t={},n=g(e,["name"]);n!=null&&b(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&bue(r,t),t}function wue(e){const t={},n=g(e,["name"]);return n!=null&&b(t,["_url","name"],n),t}function _ue(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&b(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&b(t,["_query","pageToken"],i),n}function Sue(e){const t={},n=g(e,["parent"]);n!=null&&b(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&_ue(r,t),t}function Eue(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&b(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&b(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),b(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tue extends Zi{constructor(t){super(),this.apiClient=t,this.list=async n=>new $o(Hi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wue(t);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xue(t);i=me("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sue(t);return a=me("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Eue(d),h=new Qre;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aue extends Zi{constructor(t,n=new Tue(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new $o(Hi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mle(t);return a=me("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vle(t);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gle(t);i=me("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sle(t);return a=me("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Ele(d),h=new Zre;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tle(t);return a=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Ale(d),h=new eie;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xle(t);return a=me("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=ble(d),h=new Iw;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ez=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Ez=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Cue=()=>Ez();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const zb=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Er extends Error{}class kn extends Er{constructor(t,n,r,i){super(`${kn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Wm({message:r,cause:zb(n)});const a=n;return t===400?new Az(t,a,r,i):t===401?new Cz(t,a,r,i):t===403?new Nz(t,a,r,i):t===404?new Oz(t,a,r,i):t===409?new Rz(t,a,r,i):t===422?new kz(t,a,r,i):t===429?new Pz(t,a,r,i):t>=500?new Iz(t,a,r,i):new kn(t,a,r,i)}}class Lb extends kn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Wm extends kn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Tz extends Wm{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Az extends kn{}class Cz extends kn{}class Nz extends kn{}class Oz extends kn{}class Rz extends kn{}class kz extends kn{}class Pz extends kn{}class Iz extends kn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nue=/^[a-z][a-z0-9+.-]*:/i,Oue=e=>Nue.test(e);let Ub=e=>(Ub=Array.isArray,Ub(e));const Rue=Ub;let kue=Rue;const Zk=kue;function Pue(e){if(!e)return!0;for(const t in e)return!1;return!0}function Iue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Mue=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Er(`${e} must be an integer`);if(t<0)throw new Er(`${e} must be a positive integer`);return t},Due=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jue=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zue(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Lue=()=>{var e,t,n,r,i;const a=zue();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hs,"X-Stainless-OS":tP(Deno.build.os),"X-Stainless-Arch":eP(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hs,"X-Stainless-OS":tP((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":eP((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=Uue();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Uue(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${a}.${l}`}}}return null}const eP=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",tP=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Tf;const Bue=()=>Tf??(Tf=Lue());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function que(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Mz(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function $ue(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Mz({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Dz(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Hue(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gue=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jz=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function cy(e,t,n){return jz(),new File(e,t??"unknown_file",n)}function Fue(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Vue=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zz=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Kue=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&zz(e),Wue=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Yue(e,t,n){if(jz(),e=await e,Kue(e))return e instanceof File?e:cy([await e.arrayBuffer()],e.name);if(Wue(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),cy(await Bb(i),t,n)}const r=await Bb(e);if(t||(t=Fue(e)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return cy(r,t,n)}async function Bb(e){var t,n,r,i,a;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(zz(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(Vue(e))try{for(var u=!0,d=Ur(e),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;l.push(...await Bb(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const h=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${Jue(e)}`)}return l}function Jue(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lz{constructor(t){this._client=t}}Lz._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uz(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const nP=Object.freeze(Object.create(null)),Xue=(e=Uz)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],l=n.reduce((h,p,v)=>{var w,E,S;/[?#]/.test(p)&&(i=!0);const T=r[v];let C=(i?encodeURIComponent:e)(""+T);return v!==r.length&&(T==null||typeof T=="object"&&T.toString===((S=Object.getPrototypeOf((E=Object.getPrototypeOf((w=T.hasOwnProperty)!==null&&w!==void 0?w:nP))!==null&&E!==void 0?E:nP))===null||S===void 0?void 0:S.toString))&&(C=T+"",a.push({start:h.length+p.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+p+(v===r.length?"":C)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((v,w)=>{const E=" ".repeat(w.start-h),S="^".repeat(w.length);return h=w.start+w.length,v+E+S},"");throw new Er(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${l}
${p}`)}return l}),Af=Xue(Uz);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bz extends Lz{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,a=$h(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Er("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Er("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Af`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Af`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Af`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const a=n??{},{api_version:l=this._client.apiVersion}=a,u=$h(a,["api_version"]);return this._client.get(Af`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Bz._key=Object.freeze(["interactions"]);class qz extends Bz{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Que(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Cf;function Bw(e){let t;return(Cf??(t=new globalThis.TextEncoder,Cf=t.encode.bind(t)))(e)}let Nf;function rP(e){let t;return(Nf??(t=new globalThis.TextDecoder,Nf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ym{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Bw(t):t;this.buffer=Que([this.buffer,n]);const r=[];let i;for(;(i=Zue(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(rP(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=rP(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Ym.NEWLINE_CHARS=new Set([`
`,"\r"]);Ym.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Zue(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ece(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hh={off:0,error:200,warn:300,info:400,debug:500},iP=(e,t,n)=>{if(e){if(Iue(Hh,e))return e;Tn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Hh))}`)}};function Uu(){}function Of(e,t,n){return!t||Hh[e]>Hh[n]?Uu:t[e].bind(t)}const tce={error:Uu,warn:Uu,info:Uu,debug:Uu};let aP=new WeakMap;function Tn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return tce;const i=aP.get(n);if(i&&i[0]===r)return i[1];const a={error:Of("error",n,r),warn:Of("warn",n,r),info:Of("info",n,r),debug:Of("debug",n,r)};return aP.set(n,[r,a]),a}const po=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ws{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const a=r?Tn(r):console;function l(){return Lr(this,arguments,function*(){var d,f,h,p;if(i)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var w=!0,E=Ur(nce(t,n)),S;S=yield ze(E.next()),d=S.done,!d;w=!0){p=S.value,w=!1;const T=p;if(!v)if(T.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield ze(JSON.parse(T.data))}catch(C){throw a.error("Could not parse message into JSON:",T.data),a.error("From chunk:",T.raw),C}}}catch(T){f={error:T}}finally{try{!w&&!d&&(h=E.return)&&(yield ze(h.call(E)))}finally{if(f)throw f.error}}v=!0}catch(T){if(jb(T))return yield ze(void 0);throw T}finally{v||n.abort()}})}return new Ws(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return Lr(this,arguments,function*(){var d,f,h,p;const v=new Ym,w=Dz(t);try{for(var E=!0,S=Ur(w),T;T=yield ze(S.next()),d=T.done,!d;E=!0){p=T.value,E=!1;const C=p;for(const R of v.decode(C))yield yield ze(R)}}catch(C){f={error:C}}finally{try{!E&&!d&&(h=S.return)&&(yield ze(h.call(S)))}finally{if(f)throw f.error}}for(const C of v.flush())yield yield ze(C)})}function l(){return Lr(this,arguments,function*(){var d,f,h,p;if(i)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var w=!0,E=Ur(a()),S;S=yield ze(E.next()),d=S.done,!d;w=!0){p=S.value,w=!1;const T=p;v||T&&(yield yield ze(JSON.parse(T)))}}catch(T){f={error:T}}finally{try{!w&&!d&&(h=E.return)&&(yield ze(h.call(E)))}finally{if(f)throw f.error}}v=!0}catch(T){if(jb(T))return yield ze(void 0);throw T}finally{v||n.abort()}})}return new Ws(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();t.push(l),n.push(l)}return a.shift()}});return[new Ws(()=>i(t),this.controller,this.client),new Ws(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Mz({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const l=Bw(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function nce(e,t){return Lr(this,arguments,function*(){var r,i,a,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Er("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Er("Attempted to iterate over a response with no body");const u=new ice,d=new Ym,f=Dz(e.body);try{for(var h=!0,p=Ur(rce(f)),v;v=yield ze(p.next()),r=v.done,!r;h=!0){l=v.value,h=!1;const w=l;for(const E of d.decode(w)){const S=u.decode(E);S&&(yield yield ze(S))}}}catch(w){i={error:w}}finally{try{!h&&!r&&(a=p.return)&&(yield ze(a.call(p)))}finally{if(i)throw i.error}}for(const w of d.flush()){const E=u.decode(w);E&&(yield yield ze(E))}})}function rce(e){return Lr(this,arguments,function*(){var n,r,i,a;let l=new Uint8Array;try{for(var u=!0,d=Ur(e),f;f=yield ze(d.next()),n=f.done,!n;u=!0){a=f.value,u=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Bw(h):h;let v=new Uint8Array(l.length+p.length);v.set(l),v.set(p,l.length),l=v;let w;for(;(w=ece(l))!==-1;)yield yield ze(l.slice(0,w)),l=l.slice(w)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=d.return)&&(yield ze(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield ze(l))})}class ice{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=ace(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function ace(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oce(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,l=await(async()=>{var u;if(t.options.stream)return Tn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Ws.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Tn(e).debug(`[${r}] response parsed`,po({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qw extends Promise{constructor(t,n,r=oce){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new qw(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $z=Symbol("brand.privateNullableHeaders");function*sce(e){if(!e)return;if($z in e){const{values:r,nulls:i}=e;yield*r.entries();for(const a of i)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Zk(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=Zk(r[1])?r[1]:[r[1]];let l=!1;for(const u of a)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Mu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[a,l]of sce(r)){const u=a.toLowerCase();i.has(u)||(t.delete(a),i.add(u)),l===null?(t.delete(a),n.add(u)):(t.append(a,l),n.delete(u))}}return{[$z]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dy=e=>{var t,n,r,i,a,l;if(typeof globalThis.process<"u")return(r=(n=(t=Cre)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hz;class Jm{constructor(t){var n,r,i,a,l,u,d,{baseURL:f=dy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=dy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,v=$h(t,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:h,apiVersion:p},v),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(r=w.timeout)!==null&&r!==void 0?r:Jm.DEFAULT_TIMEOUT,this.logger=(i=w.logger)!==null&&i!==void 0?i:console;const E="warn";this.logLevel=E,this.logLevel=(l=(a=iP(w.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:iP(dy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=w.fetchOptions,this.maxRetries=(u=w.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=w.fetch)!==null&&d!==void 0?d:que(),this.encoder=Gue,this._options=w,this.apiKey=h,this.apiVersion=p,this.clientAdapter=w.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Mu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Mu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Mu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Er(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Hs}`}defaultIdempotencyKey(){return`stainless-node-retry-${Cue()}`}makeStatusError(t,n,r,i){return kn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=Oue(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Pue(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new qw(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,a,l;const u=await t,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:h,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(Tn(this).debug(`[${v}] sending request`,po({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Lb;const S=new AbortController,T=await this.fetchWithTimeout(h,f,p,S).catch(zb),C=Date.now();if(T instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Lb;const P=jb(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Tn(this).info(`[${v}] connection ${P?"timed out":"failed"} - ${k}`),Tn(this).debug(`[${v}] connection ${P?"timed out":"failed"} (${k})`,po({retryOfRequestLogID:r,url:h,durationMs:C-E,message:T.message})),this.retryRequest(u,n,r??v);throw Tn(this).info(`[${v}] connection ${P?"timed out":"failed"} - error; no more retries left`),Tn(this).debug(`[${v}] connection ${P?"timed out":"failed"} (error; no more retries left)`,po({retryOfRequestLogID:r,url:h,durationMs:C-E,message:T.message})),P?new Tz:new Wm({cause:T})}const R=`[${v}${w}] ${f.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-E}ms`;if(!T.ok){const k=await this.shouldRetry(T);if(n&&k){const L=`retrying, ${n} attempts remaining`;return await Hue(T.body),Tn(this).info(`${R} - ${L}`),Tn(this).debug(`[${v}] response error (${L})`,po({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-E})),this.retryRequest(u,n,r??v,T.headers)}const P=k?"error; no more retries left":"error; not retryable";Tn(this).info(`${R} - ${P}`);const D=await T.text().catch(L=>zb(L).message),O=Due(D),M=O?void 0:D;throw Tn(this).debug(`[${v}] response error (${P})`,po({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:M,durationMs:Date.now()-E})),this.makeStatusError(T.status,O,M,T.headers)}return Tn(this).info(R),Tn(this).debug(`[${v}] response start`,po({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-E})),{response:T,options:u,controller:S,requestLogID:v,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(t,n,r,i){const a=n||{},{signal:l,method:u}=a,d=$h(a,["signal","method"]),f=this._makeAbort(i);l&&l.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,v)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var a;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await jue(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,l=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,a;const l=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:h}=l,p=this.buildURL(d,f,h);"timeout"in l&&Mue("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:w}=this.buildBody({options:l}),E=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=Mu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Bue()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Mu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:$ue(t)}:this.encoder({body:t,headers:r})}}Jm.DEFAULT_TIMEOUT=6e4;class sn extends Jm{constructor(){super(...arguments),this.interactions=new qz(this)}}Hz=sn;sn.GeminiNextGenAPIClient=Hz;sn.GeminiNextGenAPIClientError=Er;sn.APIError=kn;sn.APIConnectionError=Wm;sn.APIConnectionTimeoutError=Tz;sn.APIUserAbortError=Lb;sn.NotFoundError=Oz;sn.ConflictError=Rz;sn.RateLimitError=Pz;sn.BadRequestError=Az;sn.AuthenticationError=Cz;sn.InternalServerError=Iz;sn.PermissionDeniedError=Nz;sn.UnprocessableEntityError=kz;sn.toFile=Yue;sn.Interactions=qz;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lce(e,t){const n={},r=g(e,["name"]);return r!=null&&b(n,["_url","name"],r),n}function uce(e,t){const n={},r=g(e,["name"]);return r!=null&&b(n,["_url","name"],r),n}function cce(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function dce(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function fce(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&b(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&b(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(g(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(g(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&b(t,["tuningTask","hyperparameters","batchSize"],u);const d=g(e,["learningRate"]);if(t!==void 0&&d!=null&&b(t,["tuningTask","hyperparameters","learningRate"],d),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(g(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(g(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(g(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(g(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(g(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function hce(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const O=g(e,["validationDataset"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec"],fy(O))}else if(i==="PREFERENCE_TUNING"){const O=g(e,["validationDataset"]);t!==void 0&&O!=null&&b(t,["preferenceOptimizationSpec"],fy(O))}else if(i==="DISTILLATION"){const O=g(e,["validationDataset"]);t!==void 0&&O!=null&&b(t,["distillationSpec"],fy(O))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&b(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&b(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const O=g(e,["epochCount"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","hyperParameters","epochCount"],O)}else if(u==="PREFERENCE_TUNING"){const O=g(e,["epochCount"]);t!==void 0&&O!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],O)}else if(u==="DISTILLATION"){const O=g(e,["epochCount"]);t!==void 0&&O!=null&&b(t,["distillationSpec","hyperParameters","epochCount"],O)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const O=g(e,["learningRateMultiplier"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],O)}else if(d==="PREFERENCE_TUNING"){const O=g(e,["learningRateMultiplier"]);t!==void 0&&O!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],O)}else if(d==="DISTILLATION"){const O=g(e,["learningRateMultiplier"]);t!==void 0&&O!=null&&b(t,["distillationSpec","hyperParameters","learningRateMultiplier"],O)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const O=g(e,["exportLastCheckpointOnly"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","exportLastCheckpointOnly"],O)}else if(f==="PREFERENCE_TUNING"){const O=g(e,["exportLastCheckpointOnly"]);t!==void 0&&O!=null&&b(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],O)}else if(f==="DISTILLATION"){const O=g(e,["exportLastCheckpointOnly"]);t!==void 0&&O!=null&&b(t,["distillationSpec","exportLastCheckpointOnly"],O)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const O=g(e,["adapterSize"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","hyperParameters","adapterSize"],O)}else if(h==="PREFERENCE_TUNING"){const O=g(e,["adapterSize"]);t!==void 0&&O!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],O)}else if(h==="DISTILLATION"){const O=g(e,["adapterSize"]);t!==void 0&&O!=null&&b(t,["distillationSpec","hyperParameters","adapterSize"],O)}let p=g(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const O=g(e,["tuningMode"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","tuningMode"],O)}const v=g(e,["customBaseModel"]);t!==void 0&&v!=null&&b(t,["customBaseModel"],v);let w=g(n,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const O=g(e,["batchSize"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","hyperParameters","batchSize"],O)}let E=g(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const O=g(e,["learningRate"]);t!==void 0&&O!=null&&b(t,["supervisedTuningSpec","hyperParameters","learningRate"],O)}const S=g(e,["labels"]);t!==void 0&&S!=null&&b(t,["labels"],S);const T=g(e,["beta"]);t!==void 0&&T!=null&&b(t,["preferenceOptimizationSpec","hyperParameters","beta"],T);const C=g(e,["baseTeacherModel"]);t!==void 0&&C!=null&&b(t,["distillationSpec","baseTeacherModel"],C);const R=g(e,["tunedTeacherModelSource"]);t!==void 0&&R!=null&&b(t,["distillationSpec","tunedTeacherModelSource"],R);const k=g(e,["sftLossWeightMultiplier"]);t!==void 0&&k!=null&&b(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const P=g(e,["outputUri"]);t!==void 0&&P!=null&&b(t,["outputUri"],P);const D=g(e,["encryptionSpec"]);return t!==void 0&&D!=null&&b(t,["encryptionSpec"],D),r}function mce(e,t){const n={},r=g(e,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&Tce(a);const l=g(e,["config"]);return l!=null&&fce(l,n),n}function pce(e,t){const n={},r=g(e,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&Ace(a,n,t);const l=g(e,["config"]);return l!=null&&hce(l,n,t),n}function gce(e,t){const n={},r=g(e,["name"]);return r!=null&&b(n,["_url","name"],r),n}function vce(e,t){const n={},r=g(e,["name"]);return r!=null&&b(n,["_url","name"],r),n}function yce(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&b(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&b(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&b(t,["_query","filter"],l),r}function bce(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&b(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&b(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&b(t,["_query","filter"],l),r}function xce(e,t){const n={},r=g(e,["config"]);return r!=null&&yce(r,n),n}function wce(e,t){const n={},r=g(e,["config"]);return r!=null&&bce(r,n),n}function _ce(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Gz(u))),b(n,["tuningJobs"],l)}return n}function Sce(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>qb(u))),b(n,["tuningJobs"],l)}return n}function Ece(e,t){const n={},r=g(e,["name"]);r!=null&&b(n,["model"],r);const i=g(e,["name"]);return i!=null&&b(n,["endpoint"],i),n}function Tce(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),b(n,["examples","examples"],i)}return n}function Ace(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&b(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&b(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&b(t,["distillationSpec","promptDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&b(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&b(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(a==="DISTILLATION"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&b(t,["distillationSpec","promptDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Gz(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&b(n,["name"],i);const a=g(e,["state"]);a!=null&&b(n,["state"],oz(a));const l=g(e,["createTime"]);l!=null&&b(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&b(n,["startTime"],u);const d=g(e,["tuningTask","completeTime"]);d!=null&&b(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=g(e,["description"]);h!=null&&b(n,["description"],h);const p=g(e,["baseModel"]);p!=null&&b(n,["baseModel"],p);const v=g(e,["_self"]);return v!=null&&b(n,["tunedModel"],Ece(v)),n}function qb(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&b(n,["name"],i);const a=g(e,["state"]);a!=null&&b(n,["state"],oz(a));const l=g(e,["createTime"]);l!=null&&b(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&b(n,["startTime"],u);const d=g(e,["endTime"]);d!=null&&b(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=g(e,["error"]);h!=null&&b(n,["error"],h);const p=g(e,["description"]);p!=null&&b(n,["description"],p);const v=g(e,["baseModel"]);v!=null&&b(n,["baseModel"],v);const w=g(e,["tunedModel"]);w!=null&&b(n,["tunedModel"],w);const E=g(e,["preTunedModel"]);E!=null&&b(n,["preTunedModel"],E);const S=g(e,["supervisedTuningSpec"]);S!=null&&b(n,["supervisedTuningSpec"],S);const T=g(e,["preferenceOptimizationSpec"]);T!=null&&b(n,["preferenceOptimizationSpec"],T);const C=g(e,["distillationSpec"]);C!=null&&b(n,["distillationSpec"],C);const R=g(e,["tuningDataStats"]);R!=null&&b(n,["tuningDataStats"],R);const k=g(e,["encryptionSpec"]);k!=null&&b(n,["encryptionSpec"],k);const P=g(e,["partnerModelTuningSpec"]);P!=null&&b(n,["partnerModelTuningSpec"],P);const D=g(e,["customBaseModel"]);D!=null&&b(n,["customBaseModel"],D);const O=g(e,["experiment"]);O!=null&&b(n,["experiment"],O);const M=g(e,["labels"]);M!=null&&b(n,["labels"],M);const B=g(e,["outputUri"]);B!=null&&b(n,["outputUri"],B);const L=g(e,["pipelineJob"]);L!=null&&b(n,["pipelineJob"],L);const K=g(e,["serviceAccount"]);K!=null&&b(n,["serviceAccount"],K);const X=g(e,["tunedModelDisplayName"]);X!=null&&b(n,["tunedModelDisplayName"],X);const H=g(e,["veoTuningSpec"]);return H!=null&&b(n,["veoTuningSpec"],H),n}function Cce(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&b(n,["name"],i);const a=g(e,["metadata"]);a!=null&&b(n,["metadata"],a);const l=g(e,["done"]);l!=null&&b(n,["done"],l);const u=g(e,["error"]);return u!=null&&b(n,["error"],u),n}function fy(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nce extends Zi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new $o(Hi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Nb.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=vce(t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>qb(h))}else{const f=gce(t);return u=me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>Gz(h))}}async listInternal(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=wce(t);return u=me("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=Sce(h),v=new Pk;return Object.assign(v,p),v})}else{const f=xce(t);return u=me("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=_ce(h),v=new Pk;return Object.assign(v,p),v})}}async cancel(t){var n,r,i,a;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=uce(t);return u=me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=dce(h),v=new Ik;return Object.assign(v,p),v})}else{const f=lce(t);return u=me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const p=cce(h),v=new Ik;return Object.assign(v,p),v})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=pce(t,t);return a=me("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>qb(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mce(t);return a=me("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>Cce(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oce{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Rce=1024*1024*8,kce=3,Pce=1e3,Ice=2,Gh="x-goog-upload-status";async function Mce(e,t,n){var r;const i=await Fz(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Dce(e,t,n){var r;const i=await Fz(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ez(a),u=new Mw;return Object.assign(u,l),u}async function Fz(e,t,n){var r,i;let a=0,l=0,u=new Rb(new Response),d="upload";for(a=e.size;l<a;){const f=Math.min(Rce,a-l),h=e.slice(l,l+f);l+f>=a&&(d+=", finalize");let p=0,v=Pce;for(;p<kce&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Gh]));)p++,await zce(v),v=v*Ice;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Gh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function jce(e){return{size:e.size,type:e.type}}function zce(e){return new Promise(t=>setTimeout(t,e))}class Lce{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Mce(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Dce(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jce(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uce{create(t,n,r){return new Bce(t,n,r)}}class Bce{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oP="x-goog-api-key";class qce{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(oP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(oP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $ce="gl-node/";class Hce{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new sn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=kre(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new qce(this.apiKey);this.apiClient=new jle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:$ce+"web",uploader:new Lce,downloader:new Oce}),this.models=new tue(this.apiClient),this.live=new Yle(this.apiClient,i,new Uce),this.batches=new sae(this.apiClient),this.chats=new $ae(this.models,this.apiClient),this.caches=new Uae(this.apiClient),this.files=new eoe(this.apiClient),this.operations=new nue(this.apiClient),this.authTokens=new yue(this.apiClient),this.tunings=new Nce(this.apiClient),this.fileSearchStores=new Aue(this.apiClient)}}const Gce="AIzaSyDfYroh2knPmY4M8hdFCBEUD0fXiIg2ECk";console.log(" API Keys loaded:",{gemini:" Present",openrouter:" Missing",groq:" Missing"});let Rf=null;const Fce=()=>{if(Rf)return Rf;try{return Rf=new Hce({apiKey:Gce}),console.log(" Gemini client initialized successfully"),Rf}catch(e){return console.warn(" Gemini client initialization failed:",e.message),null}},Vce=async(e,t)=>{var i;let n="No AI provider succeeded";const r=Fce();if(r)try{if(console.log("Attempting Gemini Analysis (Strict Mode)..."),!e||e.length<100)throw new Error("Invalid image data. Please try uploading again.");const a=await r.models.generateContent({model:"gemini-2.5-flash-lite-preview-09-2025",contents:[{role:"user",parts:[{text:Wce()},{inlineData:{mimeType:t,data:e}}]}],config:{temperature:0,topP:.1,candidateCount:1}}),l=Kce(a);if(l)return Yce(l,"Gemini Flash")}catch(a){(i=a.message)!=null&&i.includes("429")||a.status===429?n=" Quota Exceeded. Please wait 1 minute before trying again.":n=`Gemini failed: ${a.message}`,console.warn(n)}throw console.log("All AI providers failed."),new Error(`AI Analysis Failed. Please check your internet connection or API Key. (${n})`)},Kce=e=>{var n,r,i,a,l;if(!e)return"";if(typeof e.text=="string")return e.text;if(typeof e.text=="function")try{return e.text()}catch{}const t=e.candidates||((n=e.response)==null?void 0:n.candidates);return(l=(a=(i=(r=t==null?void 0:t[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:a[0])!=null&&l.text?t[0].content.parts[0].text:JSON.stringify(e)},Wce=()=>`
  You are an expert nutritionist analyzing a meal photo. Your PRIMARY job is to identify EXACTLY and ONLY what foods are ACTUALLY VISIBLE in the image, then calculate REALISTIC nutritional values with PRECISE RANGES.

   CRITICAL RULES - FOLLOW STRICTLY:
  
  1. VISUAL ACCURACY - IDENTIFY ONLY WHAT YOU SEE:
      DO NOT invent ingredients that are not visible
      DO NOT use generic terms like "simple ingredients", "various items", "mixed foods"
      DO NOT assume ingredients (e.g., don't say "broccoli" if you see berries)
      ONLY list foods you can CLEARLY SEE in the image
      Be SPECIFIC: "Fried Eggs" not "eggs", "Sliced Avocado" not "vegetables"
      Count items: "2 Fried Eggs", "2 Slices of Toast", "Handful of Raspberries"
  
  2. INGREDIENT NAMING - BE PRECISE WITH RANGES:
     - Providing a single number is often inaccurate. Use RANGES for weight where appropriate.
     - Format: "Ingredient Name (Weight Range)"
     - Examples:
       * "Sliced Avocado (45-50g)" instead of just "Avocado"
       * "Grilled Chicken Breast (120-130g)"
       * "White Rice (140-150g)"
       * "Fresh Raspberries (50-60g)"
  
  3. PORTION ESTIMATION (Visual Reference):
     - 1 Large Egg = ~50g (6g protein, 5g fat, 70 kcal)
     - 1 Slice of Toast = ~30g (15g carbs, 2.5g protein, 75 kcal)
     - Palm-sized protein = ~100-120g
     - Fist-sized carb = ~150g
     - Thumb-sized fat = ~30g
     - Handful of berries = ~50-80g
  
  4. NUTRITIONAL DATABASE (USDA Standards):
     
      EGGS & DAIRY:
     - Fried Egg (1 large ~50g): 6g protein, 5g fat, 0.6g carbs, 90 kcal
     - Scrambled Eggs (per 100g): 10g protein, 11g fat, 1.5g carbs, 149 kcal
     - Boiled Egg (1 large): 6g protein, 5g fat, 0.6g carbs, 78 kcal
     
      BREAD & GRAINS:
     - White Toast (1 slice ~30g): 15g carbs, 2.5g protein, 1g fat, 79 kcal
     - Whole Wheat Toast (1 slice ~30g): 12g carbs, 3.5g protein, 1.5g fat, 81 kcal
     - White Rice (per 100g cooked): 28g carbs, 2.7g protein, 0.3g fat, 130 kcal
     - Brown Rice (per 100g cooked): 23g carbs, 2.6g protein, 0.9g fat, 112 kcal
     - Oats (40g dry): 27g carbs, 5g protein, 3g fat, 150 kcal
     
      HEALTHY FATS:
     - Avocado (per 100g): 9g carbs, 2g protein, 15g fat, 160 kcal, 7g fiber
     - Sliced Avocado (~50g): 4.5g carbs, 1g protein, 7.5g fat, 80 kcal
     - Olive Oil (1 tbsp ~15ml): 0g carbs, 0g protein, 14g fat, 120 kcal
     - Almonds (per 100g): 22g carbs, 21g protein, 49g fat, 579 kcal
     
      FRUITS & BERRIES:
     - Raspberries (per 100g): 12g carbs, 1.2g protein, 0.7g fat, 52 kcal, 6.5g fiber, 4.4g sugar
     - Blueberries (per 100g): 14g carbs, 0.7g protein, 0.3g fat, 57 kcal, 2.4g fiber, 10g sugar
     - Strawberries (per 100g): 8g carbs, 0.7g protein, 0.3g fat, 32 kcal, 2g fiber, 4.9g sugar
     - Banana (1 medium ~120g): 27g carbs, 1.3g protein, 0.4g fat, 105 kcal, 3g fiber, 14g sugar
     
      VEGETABLES:
     - Broccoli (per 100g): 7g carbs, 2.8g protein, 0.4g fat, 34 kcal, 2.6g fiber
     - Spinach (per 100g): 3.6g carbs, 2.9g protein, 0.4g fat, 23 kcal, 2.2g fiber
     - Bell Peppers (per 100g): 6g carbs, 1g protein, 0.3g fat, 26 kcal, 2g fiber
     - Cherry Tomatoes (per 100g): 3.9g carbs, 0.9g protein, 0.2g fat, 18 kcal
     
      PROTEINS:
     - Chicken Breast (per 100g cooked): 31g protein, 3.6g fat, 0g carbs, 165 kcal
     - Salmon (per 100g cooked): 25g protein, 12g fat, 0g carbs, 206 kcal
     - Tuna (per 100g): 30g protein, 1g fat, 0g carbs, 132 kcal
  
  5. CALCULATION STEPS:
     Step 1: List ONLY visible ingredients with estimated weights
     Step 2: Calculate nutrition for EACH ingredient separately
     Step 3: Sum up totals: weight, calories, protein, carbs, fats, fiber, sugar
     Step 4: Calculate healthScore (0-100):
        - High protein (20g+) = +30 points
        - Vegetables/Fruits present = +25 points
        - Healthy fats (avocado, nuts) = +20 points
        - Low processed foods = +15 points
        - Balanced macros = +10 points
  
  6. ADVICE GUIDELINES:
     - Be specific and encouraging
     - Mention what's good about the meal
     - Suggest ONE improvement if needed
     - Keep it under 2 sentences
  
  7. OUTPUT FORMAT (JSON ONLY):
     {
       "foodName": "Descriptive name based on visible items",
       "ingredients": ["Item 1 (Weight-Range)", "Item 2 (Weight-Range)", "Item 3 (Weight-Range)"],
       "portionSize": "Small/Medium/Large",
       "weight": total_grams,
       "calories": total_kcal,
       "protein": total_grams,
       "carbs": total_grams,
       "fats": total_grams,
       "fiber": total_grams,
       "sugar": total_grams,
       "healthScore": 0-100,
       "advice": "Your specific advice here"
     }
  
   EXAMPLE (Breakfast with eggs, toast, avocado, berries):
  {
    "foodName": "Breakfast Plate with Eggs, Toast, Avocado and Berries",
    "ingredients": ["2 Fried Eggs (90-100g)", "2 Slices White Toast (60g)", "Sliced Avocado (45-50g)", "Fresh Raspberries (50-60g)", "Blueberries (30-40g)"],
    "portionSize": "Medium",
    "weight": 330,
    "calories": 565,
    "protein": 18,
    "carbs": 48,
    "fats": 30,
    "fiber": 12,
    "sugar": 9,
    "healthScore": 82,
    "advice": "Great balanced breakfast! High in protein and healthy fats. The berries add excellent antioxidants and fiber."
  }
  
   NOW: Analyze the image carefully. Identify ONLY what you actually see. Return ONLY the JSON object.
`,Yce=(e,t)=>{try{console.log(`[AI SUCCESS] Raw response from ${t}:`,e);const n=e.indexOf("{"),r=e.lastIndexOf("}");if(n===-1||r===-1)throw new Error("No JSON found in response");let i=e.substring(n,r+1);i=i.replace(/,\s*}/g,"}").replace(/,\s*]/g,"]");const a=JSON.parse(i);return{foodName:(a.foodName||a.food_name||"Unknown Meal")+` [via ${t}]`,ingredients:Array.isArray(a.ingredients)?a.ingredients:[],portionSize:a.portionSize||a.portion_size||"Estimate",weight:Number(a.weight)||0,calories:Number(a.calories)||Number(a.kcal)||Number(a.energy)||0,protein:Number(a.protein)||0,carbs:Number(a.carbs)||0,fats:Number(a.fats)||0,fiber:Number(a.fiber)||0,sugar:Number(a.sugar)||0,healthScore:Number(a.healthScore)||Number(a.score)||50,advice:a.advice||"Enjoy your meal!",timestamp:new Date}}catch(n){throw console.error(`[AI PARSE ERROR] from ${t}:`,n.message,`
Text received:`,e),new Error(`Analysis from ${t} was unclear. (${n.message})`)}},Jce=()=>{var D;const[e,t]=A.useState(!0),[n,r]=A.useState(!1),[i,a]=A.useState(null),[l,u]=A.useState(null),[d,f]=A.useState(null),h=A.useRef(null),p=A.useRef(null),v=A.useRef(null),[w,E]=A.useState(null);A.useEffect(()=>(e&&S(),()=>{T()}),[e]);const S=async()=>{E(null);try{const O=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});f(O),h.current&&(h.current.srcObject=O)}catch(O){console.error("Error accessing camera:",O),E("Camera access failed. Please use 'Upload Image' instead. (Browsers block camera on HTTP/IP addresses)")}},T=()=>{d&&(d.getTracks().forEach(O=>O.stop()),f(null))},C=()=>{if(h.current&&p.current){if(h.current.videoWidth===0||h.current.videoHeight===0){alert("Camera not ready. Please wait or use Upload.");return}const O=p.current.getContext("2d");if(O){p.current.width=h.current.videoWidth,p.current.height=h.current.videoHeight,O.drawImage(h.current,0,0);const M=p.current.toDataURL("image/jpeg");u(M),t(!1),T(),k(M)}}},R=O=>{var B;const M=(B=O.target.files)==null?void 0:B[0];if(M){const L=new FileReader;L.onload=K=>{var H;const X=(H=K.target)==null?void 0:H.result;u(X),t(!1),T(),k(X)},L.readAsDataURL(M)}},k=async O=>{r(!0);try{const M=O.split(",")[1],B=await Vce(M,"image/jpeg");a(B)}catch(M){console.error("Analysis failed:",M),alert(`AI Error: ${M.message||"Check console for details"}`)}finally{r(!1)}},P=async()=>{if(!(!i||!l))try{const{data:{session:O}}=await de.auth.getSession();if(!O)return;r(!0);const M=await fetch(l).then(he=>he.blob()),L=`meals/${`${O.user.id}/meals/${Date.now()}.jpg`}`,{error:K}=await de.storage.from("gym_uploads").upload(L,M);if(K)throw K.message.includes("bucket not found")?new Error("Storage bucket 'gym_uploads' not found. Please run the setup SQL script."):K;const{data:{publicUrl:X}}=de.storage.from("gym_uploads").getPublicUrl(L),{error:H}=await de.from("meal_logs").insert([{user_id:O.user.id,food_name:i.foodName,calories:i.calories,protein:i.protein,carbs:i.carbs,fats:i.fats,fiber:i.fiber,sugar:i.sugar,weight:i.weight,score:i.healthScore,image_url:X}]);if(H)throw H;alert("Meal saved to log successfully!"),t(!0),a(null),u(null)}catch(O){console.error("Error saving meal:",O),alert(`Failed: ${O.message}`)}finally{r(!1)}};return y.jsxs("div",{className:"pb-24 animate-fade-in h-[calc(100vh-100px)] flex flex-col",children:[y.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"AI Meal Scan"}),e?y.jsxs("div",{className:"flex-1 bg-black rounded-3xl relative overflow-hidden flex flex-col items-center justify-center border border-zinc-800",children:[w?y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-6 text-center bg-zinc-900",children:[y.jsx("div",{className:"bg-red-500/10 p-4 rounded-full mb-4",children:y.jsx(Ir,{className:"text-red-500",size:32})}),y.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Camera Unavailable"}),y.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:w}),y.jsxs("button",{onClick:()=>{var O;return(O=v.current)==null?void 0:O.click()},className:"bg-lime-400 text-black px-6 py-3 rounded-xl font-bold flex items-center",children:[y.jsx(ZT,{size:20,className:"mr-2"}),"Upload Photo Instead"]})]}):y.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),y.jsx("canvas",{ref:p,className:"hidden"}),y.jsx("div",{className:"absolute inset-0 border-2 border-lime-400/50 rounded-3xl z-10 m-4 pointer-events-none"}),y.jsxs("div",{className:"absolute bottom-8 left-0 right-0 z-20 flex items-center justify-center space-x-6",children:[y.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:v,onChange:R}),y.jsx("button",{onClick:()=>{var O;return(O=v.current)==null?void 0:O.click()},className:"w-14 h-14 bg-zinc-900/80 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10 text-white hover:bg-zinc-800",children:y.jsx(ZT,{size:24})}),y.jsx("button",{onClick:C,className:"w-20 h-20 bg-lime-400 rounded-full border-4 border-black/50 shadow-xl flex items-center justify-center hover:scale-105 transition-transform",children:y.jsx(Hb,{size:32,className:"text-black"})}),y.jsx("div",{className:"w-14 h-14"})," "]})]}):y.jsxs("div",{className:"flex-1 flex flex-col space-y-6",children:[y.jsxs("div",{className:"h-64 rounded-3xl overflow-hidden relative border border-zinc-800",children:[y.jsx("img",{src:l,alt:"Meal",className:"w-full h-full object-cover"}),n&&y.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center backdrop-blur-sm",children:[y.jsx(hP,{size:48,className:"text-lime-400 animate-spin mb-4"}),y.jsx("span",{className:"text-lime-400 font-bold animate-pulse",children:"Analyzing Macros..."})]})]}),!n&&i&&y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 border border-zinc-800 animate-slide-up flex-1 overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:i.foodName}),y.jsxs("p",{className:"text-zinc-500 text-sm",children:[i.portionSize,"  ",i.weight,"g"]})]}),y.jsx("button",{onClick:()=>t(!0),className:"bg-zinc-800 p-2 rounded-full text-zinc-400 hover:text-white",children:y.jsx(pP,{size:20})})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-6",children:[y.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl text-center",children:[y.jsx("span",{className:"block text-xl font-bold text-white",children:i.calories}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Kcal"})]}),y.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl text-center",children:[y.jsxs("span",{className:"block text-xl font-bold text-blue-400",children:[i.protein,"g"]}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Prot"})]}),y.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl text-center",children:[y.jsxs("span",{className:"block text-xl font-bold text-yellow-400",children:[i.carbs,"g"]}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Carb"})]}),y.jsxs("div",{className:"bg-black/40 p-3 rounded-2xl text-center",children:[y.jsxs("span",{className:"block text-xl font-bold text-red-400",children:[i.fats,"g"]}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Fat"})]})]}),y.jsx("div",{className:"bg-black/20 rounded-2xl p-4 mb-6 border border-white/5",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-zinc-400",children:"Fiber"}),y.jsxs("span",{className:"text-white font-medium",children:[i.fiber,"g"]})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-zinc-400",children:"Sugar"}),y.jsxs("span",{className:"text-white font-medium",children:[i.sugar,"g"]})]}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsx("span",{className:"text-zinc-400",children:"Health Score"}),y.jsxs("span",{className:`font-bold ${i.healthScore>80?"text-lime-400":"text-yellow-400"}`,children:[i.healthScore,"/100"]})]})]})}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-2",children:"Ingredients"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:(D=i.ingredients)==null?void 0:D.map((O,M)=>y.jsx("span",{className:"px-3 py-1 bg-zinc-800 rounded-full text-xs text-zinc-300",children:O},M))})]}),y.jsxs("div",{className:"bg-lime-400/5 p-4 rounded-2xl mb-6 border border-lime-400/10",children:[y.jsxs("h4",{className:"text-sm font-bold text-lime-400 mb-2 flex items-center",children:[y.jsx(W3,{size:14,className:"mr-2"}),"AI Analysis Insight"]}),y.jsxs("p",{className:"text-sm text-zinc-400 leading-relaxed italic",children:['"',i.advice,'"']})]}),y.jsxs("div",{className:"flex space-x-3",children:[y.jsxs("button",{onClick:P,className:"flex-1 bg-lime-400 py-4 rounded-2xl text-black font-bold flex items-center justify-center space-x-2 hover:opacity-90 transition-opacity",children:[y.jsx(Kb,{size:20}),y.jsx("span",{children:"Save to Log"})]}),y.jsx("button",{onClick:()=>t(!0),className:"px-6 bg-zinc-800 py-4 rounded-2xl text-white font-bold flex items-center justify-center hover:bg-zinc-700 transition-colors",children:y.jsx(Ir,{size:20})})]})]})]})]})},Xce=({messageId:e,isSender:t,onEdit:n,onDelete:r})=>{const[i,a]=A.useState(!1),[l,u]=A.useState(!1),d=A.useRef(null);if(A.useEffect(()=>{const v=w=>{d.current&&!d.current.contains(w.target)&&a(!1)};return i&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[i]),!t)return null;const f=()=>{a(!1),n()},h=()=>{a(!1),u(!0)},p=v=>{u(!1),r(v)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"relative",ref:d,children:[y.jsx("button",{onClick:()=>a(!i),className:"p-1 hover:bg-black/20 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:"Message options",children:y.jsx(a3,{size:16})}),i&&y.jsxs("div",{className:"absolute right-0 top-8 bg-zinc-800 border border-zinc-700 rounded-xl shadow-xl overflow-hidden z-50 min-w-[180px] animate-slide-up",children:[y.jsxs("button",{onClick:f,className:"w-full px-4 py-3 text-left text-sm text-white hover:bg-zinc-700 transition-colors flex items-center space-x-3",children:[y.jsx(w3,{size:16,className:"text-lime-400"}),y.jsx("span",{children:"Edit Message"})]}),y.jsxs("button",{onClick:h,className:"w-full px-4 py-3 text-left text-sm text-white hover:bg-zinc-700 transition-colors flex items-center space-x-3 border-t border-zinc-700",children:[y.jsx(Ma,{size:16,className:"text-red-400"}),y.jsx("span",{children:"Delete Message"})]})]})]}),l&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 max-w-sm w-full mx-4 border border-zinc-800 shadow-2xl animate-slide-up",children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Message"}),y.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Choose how you want to delete this message:"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("button",{onClick:()=>p(!1),className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-3 px-4 rounded-xl transition-all text-left",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:"Delete for me"}),y.jsx("div",{className:"text-xs text-zinc-400",children:"Only you won't see this message"})]}),y.jsx(Ma,{size:18,className:"text-zinc-400"})]})}),y.jsx("button",{onClick:()=>p(!0),className:"w-full bg-red-500/10 hover:bg-red-500/20 text-red-400 font-bold py-3 px-4 rounded-xl transition-all border border-red-500/20 text-left",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:"Delete for everyone"}),y.jsx("div",{className:"text-xs text-red-400/70",children:"This message will be removed for both sides"})]}),y.jsx(Ma,{size:18,className:"text-red-400"})]})})]}),y.jsx("button",{onClick:()=>u(!1),className:"w-full mt-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-3 px-4 rounded-xl transition-all",children:"Cancel"})]})})]})},sP=({currentUserId:e,coachName:t,selectedCoachId:n,isCoachView:r,onMessagesRead:i})=>{const[a,l]=A.useState(t),[u,d]=A.useState(()=>{if(!n)return[];try{const ae=`chat_cache_${n}`,pe=localStorage.getItem(ae);if(!pe)return[];const ye=JSON.parse(pe);return Array.isArray(ye)?ye.map(Ae=>({...Ae,timestamp:new Date(Ae.timestamp)})):[]}catch{return[]}}),[f,h]=A.useState(()=>{if(!n)return!1;const ae=`chat_cache_${n}`;return!localStorage.getItem(ae)}),[p,v]=A.useState(""),[w,E]=A.useState(!1),[S,T]=A.useState(null),[C,R]=A.useState(e||null),[k,P]=A.useState(!1),[D,O]=A.useState(0),[M,B]=A.useState(null),[L,K]=A.useState(null),[X,H]=A.useState(!1),[he,ce]=A.useState(null),[ge,$]=A.useState(""),te=A.useRef(null),ie=A.useRef(null),ue=A.useRef(null),ve=A.useRef([]),z=A.useRef(null),Y=A.useRef(null),le=()=>{var ae;(ae=te.current)==null||ae.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{le()},[u]);const fe=async(ae,pe)=>{if(!(!ae||!pe))try{const{error:ye}=await de.from("messages").update({is_read:!0}).eq("receiver_id",ae).eq("sender_id",pe).eq("is_read",!1);ye&&console.error("Error marking messages as read:",ye),i&&i()}catch(ye){console.error("Critical error in markMessagesAsRead:",ye)}};A.useEffect(()=>{let ae,pe=!0;return(async()=>{var Ae;try{const Ke=`chat_cache_${n}`;if(!localStorage.getItem(Ke)&&pe&&(h(!0),d([])),pe){const Fr=e;if(Fr)R(Fr);else{const{data:{session:yn}}=await de.auth.getSession();if(yn&&pe)R(yn.user.id);else if(pe){h(!1);return}}}const Xe=e||((Ae=(await de.auth.getSession()).data.session)==null?void 0:Ae.user.id);if(!Xe){pe&&h(!1);return}if(n?(Promise.all([Ee(Xe,pe),je()]),fe(Xe,n)):pe&&h(!1),!pe)return;ae=de.channel(`realtime:messages:${Xe}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${Xe}`},Fr=>{if(!pe)return;const yn=Fr.new;yn.sender_id===n&&(d(Ho=>[...Ho,{id:yn.id,senderId:yn.sender_id,receiverId:yn.receiver_id,text:yn.text,imageUrl:yn.image_url,audioUrl:yn.audio_url,timestamp:new Date(yn.created_at),isAi:!1}]),fe(Xe,n))}).subscribe()}catch(Ke){console.error("Error in setupChat:",Ke),pe&&h(!1)}})(),()=>{pe=!1,ae&&de.removeChannel(ae)}},[n]);const Ee=async(ae,pe=!0)=>{if(n)try{const{data:ye,error:Ae}=await de.from("messages").select("*").or(`sender_id.eq.${ae},receiver_id.eq.${ae}`).order("created_at",{ascending:!1}).limit(100);if(Ae)throw Ae;if(ye&&pe){const ut=ye.filter(Xe=>Xe.sender_id===ae&&Xe.receiver_id===n||Xe.sender_id===n&&Xe.receiver_id===ae).map(Xe=>({id:Xe.id,senderId:Xe.sender_id,receiverId:Xe.receiver_id,text:Xe.text,imageUrl:Xe.image_url,audioUrl:Xe.audio_url,timestamp:new Date(Xe.created_at),isAi:!1,editedAt:Xe.edited_at?new Date(Xe.edited_at):void 0,editedText:Xe.edited_text,isDeleted:Xe.is_deleted,deletedForSender:Xe.deleted_for_sender,deletedForReceiver:Xe.deleted_for_receiver,deletedAt:Xe.deleted_at?new Date(Xe.deleted_at):void 0})).reverse();d(ut),localStorage.setItem(`chat_cache_${n}`,JSON.stringify(ut))}}catch(ye){console.error("Error fetching messages:",ye)}finally{pe&&h(!1)}},je=async()=>{if(!n)return;const{data:ae,error:pe}=await de.from("profiles").select("name").eq("id",n).single();ae&&l(ae.name)},_e=async()=>{if(!(!C||!n)&&window.confirm("        ."))try{h(!0),await Promise.all([de.from("messages").delete().match({sender_id:C,receiver_id:n}),de.from("messages").delete().match({sender_id:n,receiver_id:C})]),d([]),localStorage.removeItem(`chat_cache_${n}`)}catch(ae){console.error("Error clearing chat:",ae)}finally{h(!1)}},lt=ae=>{if(ae.target.files&&ae.target.files[0]){const pe=new FileReader;pe.onload=ye=>{var Ae;T((Ae=ye.target)==null?void 0:Ae.result)},pe.readAsDataURL(ae.target.files[0])}},Z=async()=>{try{const ae=await navigator.mediaDevices.getUserMedia({audio:!0}),pe=new MediaRecorder(ae);ue.current=pe,ve.current=[],pe.ondataavailable=ye=>{ye.data.size>0&&ve.current.push(ye.data)},pe.onstop=()=>{const ye=new Blob(ve.current,{type:"audio/webm"}),Ae=URL.createObjectURL(ye);K(ye),B(Ae)},pe.start(),P(!0),O(0),z.current=setInterval(()=>{O(ye=>ye+1)},1e3)}catch(ae){console.error("Error starting recording:",ae),alert("Could not access microphone.")}},Ie=()=>{ue.current&&k&&(ue.current.stop(),ue.current.stream.getTracks().forEach(ae=>ae.stop()),P(!1),z.current&&clearInterval(z.current))},Le=()=>{Y.current&&(Y.current.pause(),Y.current.currentTime=0),B(null),K(null),O(0),H(!1)},se=()=>{Y.current&&(X?Y.current.pause():Y.current.play(),H(!X))},_t=ae=>{const pe=Math.floor(ae/60),ye=ae%60;return`${pe}:${ye.toString().padStart(2,"0")}`},Be=async()=>{if(!p.trim()&&!S&&!L||!C||!n)return;let ae=null;if(L){const ut=`${C}/${Date.now()}.webm`,{data:Xe,error:Fr}=await de.storage.from("audio-messages").upload(ut,L);if(Fr){console.error("Audio upload error:",Fr);return}const{data:{publicUrl:yn}}=de.storage.from("audio-messages").getPublicUrl(ut);ae=yn}const pe={sender_id:C,receiver_id:n,text:p,image_url:S||null,audio_url:ae},ye=Date.now().toString();d(ut=>[...ut,{id:ye,senderId:C,receiverId:n,text:p,imageUrl:S||void 0,audioUrl:M||void 0,timestamp:new Date,isAi:!1}]),v(""),T(null),B(null),K(null);const{data:Ae,error:Ke}=await de.from("messages").insert([pe]).select().single();Ke&&(console.error("Error sending message:",Ke),d(ut=>ut.filter(Xe=>Xe.id!==ye)),alert(`Failed to send message: ${Ke.message}`))},St=(ae,pe)=>{ce(ae),$(pe)},oe=async ae=>{if(ge.trim())try{const{error:pe}=await de.rpc("edit_message",{message_id:ae,new_text:ge.trim()});if(pe)throw pe;d(ye=>ye.map(Ae=>Ae.id===ae?{...Ae,editedText:Ae.editedText||Ae.text,text:ge.trim(),editedAt:new Date}:Ae)),ce(null),$("")}catch(pe){console.error("Error editing message:",pe),alert("Failed to edit message")}},Q=()=>{ce(null),$("")},Me=async(ae,pe)=>{try{if(pe){const{error:ye}=await de.rpc("delete_message_for_everyone",{message_id:ae});if(ye)throw ye;d(Ae=>Ae.map(Ke=>Ke.id===ae?{...Ke,isDeleted:!0,deletedAt:new Date}:Ke))}else{const{error:ye}=await de.rpc("delete_message_for_me",{message_id:ae});if(ye)throw ye;d(Ae=>Ae.filter(Ke=>Ke.id!==ae))}}catch(ye){console.error("Error deleting message:",ye),alert("Failed to delete message")}};return y.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-4 pb-4 border-b border-zinc-800",children:[y.jsx("div",{className:"w-10 h-10 bg-lime-400/20 rounded-full flex items-center justify-center text-lime-400",children:r?y.jsx(Bu,{size:20}):y.jsx(L4,{size:20})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h2",{className:"text-white font-bold",children:a||(r?"Athlete":"Gym Smart AI")}),y.jsx("div",{className:"flex items-center space-x-2",children:y.jsxs("p",{className:"text-xs text-lime-400 flex items-center",children:[y.jsx("span",{className:"w-1.5 h-1.5 bg-lime-400 rounded-full mr-1.5 animate-pulse"}),"Online"]})})]}),y.jsx("button",{onClick:_e,className:"p-2 text-zinc-500 hover:text-red-400 transition-colors",title:"Clear Conversation",children:y.jsx(Ma,{size:20})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2 scrollbar-hide relative",children:[f&&u.length>0&&y.jsxs("div",{className:"absolute top-0 right-0 bg-zinc-900/80 px-2 py-1 rounded-bl-lg text-[8px] text-lime-400 flex items-center z-10",children:[y.jsx("span",{className:"w-1 h-1 bg-lime-400 rounded-full mr-1 animate-pulse"}),"Updating..."]}),u.length===0&&!w&&!f?y.jsx("div",{className:"text-center py-20 text-zinc-600 text-sm",children:r?"Start a conversation with your athlete.":"No messages yet. Say hi to your coach!"}):null,u.map(ae=>{if(ae.senderId===C?ae.deletedForSender:ae.deletedForReceiver)return null;const ye=ae.senderId===C,Ae=he===ae.id;return y.jsx("div",{className:`flex ${ye?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`group max-w-[80%] p-4 rounded-2xl text-sm space-y-2 relative ${ye?"bg-lime-400 text-black rounded-tr-none font-medium":"bg-zinc-800 text-zinc-200 rounded-tl-none"}`,children:[ye&&!ae.isDeleted&&!Ae&&y.jsx("div",{className:"absolute -top-2 -right-2",children:y.jsx(Xce,{messageId:ae.id,isSender:ye,onEdit:()=>St(ae.id,ae.text),onDelete:Ke=>Me(ae.id,Ke)})}),ae.isDeleted?y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-500 italic",children:[y.jsx(Ma,{size:14}),y.jsx("span",{children:"This message was deleted"})]}):y.jsxs(y.Fragment,{children:[ae.imageUrl&&y.jsx("img",{src:ae.imageUrl,alt:"Uploaded",className:"rounded-lg max-w-full h-auto mb-2"}),ae.audioUrl&&y.jsxs("div",{className:"flex items-center space-x-3 bg-black/20 p-3 rounded-xl border border-white/10 mb-2 min-w-[200px]",children:[y.jsx("button",{onClick:Ke=>{const ut=Ke.currentTarget.nextElementSibling;ut.paused?ut.play():ut.pause()},className:"w-10 h-10 bg-lime-400 rounded-full flex items-center justify-center text-black hover:scale-105 transition-transform",children:y.jsx(Bf,{size:16,fill:"currentColor"})}),y.jsx("audio",{src:ae.audioUrl,className:"hidden"}),y.jsxs("div",{className:"flex-1 space-y-1",children:[y.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:y.jsx("div",{className:"w-1/3 h-full bg-lime-400 animate-pulse"})}),y.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 font-mono",children:[y.jsx("span",{children:"0:00"}),y.jsx("span",{children:"Voice Message"})]})]})]}),ae.text&&y.jsx(y.Fragment,{children:Ae?y.jsxs("div",{className:"space-y-2",children:[y.jsx("textarea",{value:ge,onChange:Ke=>$(Ke.target.value),className:"w-full bg-black/20 text-white p-2 rounded-lg outline-none resize-none",rows:3,autoFocus:!0}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsxs("button",{onClick:()=>oe(ae.id),className:"flex-1 bg-black/30 hover:bg-black/40 text-white font-bold py-2 px-3 rounded-lg transition-all flex items-center justify-center space-x-1",children:[y.jsx($4,{size:14}),y.jsx("span",{children:"Save"})]}),y.jsx("button",{onClick:Q,className:"flex-1 bg-black/20 hover:bg-black/30 text-white font-bold py-2 px-3 rounded-lg transition-all",children:"Cancel"})]})]}):y.jsxs("div",{children:[y.jsx("p",{children:ae.text}),ae.editedAt&&y.jsx("p",{className:"text-[10px] opacity-60 mt-1 italic",children:"Edited"})]})})]})]})},ae.id)}),w&&y.jsx("div",{className:"flex justify-start",children:y.jsxs("div",{className:"bg-zinc-800 px-4 py-3 rounded-2xl rounded-tl-none flex space-x-1",children:[y.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce",style:{animationDelay:"0s"}}),y.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),y.jsx("div",{className:"w-2 h-2 bg-zinc-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})}),y.jsx("div",{ref:te})]}),y.jsx("div",{className:"mt-4",children:!n&&!r?y.jsx("div",{className:"bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800 text-center text-zinc-500 text-sm italic",children:"Please select a coach from the Dashboard to start chatting."}):!n&&r?y.jsx("div",{className:"bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800 text-center text-zinc-500 text-sm italic",children:"Please select an athlete from your dashboard to chat."}):y.jsxs(y.Fragment,{children:[S&&y.jsxs("div",{className:"flex items-center space-x-2 mb-2 bg-zinc-900 p-2 rounded-lg inline-flex",children:[y.jsx("img",{src:S,alt:"Preview",className:"w-12 h-12 rounded object-cover"}),y.jsx("button",{onClick:()=>T(null),className:"p-1 hover:bg-zinc-800 rounded-full",children:y.jsx(Ir,{size:16,className:"text-zinc-500"})})]}),M&&y.jsxs("div",{className:"flex items-center space-x-3 mb-2 bg-zinc-900 p-2 rounded-2xl border border-zinc-800 animate-slide-up",children:[y.jsx("button",{onClick:se,className:"w-8 h-8 bg-lime-400 rounded-full flex items-center justify-center text-black hover:scale-105 transition-transform",children:X?y.jsx(QT,{size:12,fill:"currentColor"}):y.jsx(Bf,{size:16,fill:"currentColor"})}),y.jsx("audio",{ref:Y,src:M,onEnded:()=>H(!1),className:"hidden"}),y.jsx("div",{className:"flex-1 h-1 bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full bg-lime-400 transition-all duration-300 ${X?"w-full":"w-0"}`})}),y.jsx("span",{className:"text-[10px] text-zinc-500 font-mono",children:_t(D)}),y.jsx("button",{onClick:Le,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-500 hover:text-red-400 transition-colors",children:y.jsx(Ma,{size:16})})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:ie,onChange:lt}),y.jsx("button",{onClick:()=>{var ae;return(ae=ie.current)==null?void 0:ae.click()},className:"p-3 bg-zinc-900 rounded-full text-zinc-400 hover:text-white transition-colors hover:bg-zinc-800",children:y.jsx(u3,{size:20})}),k?y.jsxs("div",{className:"flex-1 bg-zinc-900 border border-lime-400/50 text-white rounded-full px-5 py-3 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),y.jsx("span",{className:"text-sm font-medium",children:"Recording..."})]}),y.jsx("span",{className:"text-sm font-mono text-lime-400",children:_t(D)}),y.jsx("button",{onClick:Ie,className:"p-1.5 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",children:y.jsx(QT,{size:16,fill:"currentColor"})})]}):y.jsx("input",{type:"text",value:p,onChange:ae=>v(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&Be(),placeholder:r?"Message athlete...":"Ask your coach...",className:"flex-1 bg-zinc-900 border border-zinc-800 text-white rounded-full px-5 py-3 outline-none focus:border-lime-400 transition-colors placeholder:text-zinc-600"}),!p.trim()&&!S&&!M&&!k?y.jsx("button",{onClick:Z,className:"w-12 h-12 bg-zinc-900 rounded-full flex items-center justify-center text-zinc-400 hover:text-lime-400 hover:bg-zinc-800 transition-all border border-zinc-800",children:y.jsx(v3,{size:20})}):y.jsx("button",{onClick:Be,disabled:!p.trim()&&!S&&!M||w||!n||k,className:"w-12 h-12 bg-lime-400 rounded-full flex items-center justify-center text-black hover:scale-105 disabled:opacity-50 disabled:scale-100 transition-all shadow-lg shadow-lime-400/20",children:y.jsx(R3,{size:20})})]})]})})]})},lP=({onLogin:e})=>{const[t,n]=A.useState(!0),[r,i]=A.useState(""),[a,l]=A.useState(""),[u,d]=A.useState(""),[f,h]=A.useState($t.ATHLETE),[p,v]=A.useState(""),[w,E]=A.useState(!1),[S,T]=A.useState(null),[C,R]=A.useState(null),k=async P=>{var D;P.preventDefault(),E(!0),T(null),R(null);try{if(t){const{data:O,error:M}=await de.auth.signInWithPassword({email:r,password:a});if(M)throw M}else{if(f===$t.ATHLETE){const{data:B,error:L}=await de.from("gym_access_codes").select("*").eq("code",p).eq("is_used",!1).single();if(L||!B)throw new Error("Invalid or already used Gym Access Code. (     )")}const{data:O,error:M}=await de.auth.signUp({email:r,password:a,options:{data:{name:u,role:f,gym_code:p}}});if(M)throw M;if(f===$t.ATHLETE&&O.user){const{error:B}=await de.rpc("claim_gym_access_code",{target_code:p});B&&console.error("Error claiming code:",B)}R("Check your email for the login link!")}}catch(O){O.message==="Failed to fetch"?T("  :      (npm run dev)   . (Connection error: Please restart dev server and check internet)"):(D=O.message)!=null&&D.includes("email rate limit exceeded")?T("    .          Supabase. (Email rate limit exceeded. Please wait or disable email confirmation in Supabase)"):T(O.message)}finally{E(!1)}};return y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-zinc-900 p-8 rounded-3xl w-full max-w-md border border-zinc-800 shadow-2xl animate-fade-in relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-lime-400 to-transparent"}),y.jsx("div",{className:"flex justify-center mb-8",children:y.jsx("div",{className:"w-16 h-16 bg-lime-400 rounded-full flex items-center justify-center shadow-lg shadow-lime-400/20",children:y.jsx("span",{className:"text-black font-bold text-2xl",children:"GS"})})}),y.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-2",children:t?"Welcome Back":"Join the Team"}),y.jsx("p",{className:"text-zinc-400 text-center mb-8",children:t?"Sign in to access your dashboard":"Start your fitness journey today"}),S&&y.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-3 rounded-xl mb-4 text-center text-sm",children:S}),C&&y.jsx("div",{className:"bg-lime-400/10 border border-lime-400/20 text-lime-400 p-3 rounded-xl mb-4 text-center text-sm",children:C}),y.jsxs("form",{onSubmit:k,className:"space-y-4",children:[!t&&y.jsxs("div",{className:"space-y-4 animate-slide-up",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-zinc-400 text-xs font-bold uppercase mb-2",children:"Full Name"}),y.jsx("input",{type:"text",value:u,onChange:P=>d(P.target.value),className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-white focus:border-lime-400 outline-none transition-colors",placeholder:"John Doe",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("button",{type:"button",onClick:()=>h($t.ATHLETE),className:`p-3 rounded-xl border text-center transition-all ${f===$t.ATHLETE?"bg-lime-400 text-black border-lime-400 font-bold":"bg-black text-zinc-500 border-zinc-800 hover:border-zinc-600"}`,children:"Athlete"}),y.jsx("button",{type:"button",onClick:()=>h($t.COACH),className:`p-3 rounded-xl border text-center transition-all ${f===$t.COACH?"bg-lime-400 text-black border-lime-400 font-bold":"bg-black text-zinc-500 border-zinc-800 hover:border-zinc-600"}`,children:"Coach"})]}),f===$t.ATHLETE&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-zinc-400 text-xs font-bold uppercase mb-2",children:"Gym Access Code"}),y.jsx("input",{type:"text",value:p,onChange:P=>v(P.target.value),className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-white focus:border-lime-400 outline-none transition-colors",placeholder:"Enter code provided by your gym",required:!0})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-zinc-400 text-xs font-bold uppercase mb-2",children:"Email Address"}),y.jsx("input",{type:"email",value:r,onChange:P=>i(P.target.value),className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-white focus:border-lime-400 outline-none transition-colors",placeholder:"you@example.com",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-zinc-400 text-xs font-bold uppercase mb-2",children:"Password"}),y.jsx("input",{type:"password",value:a,onChange:P=>l(P.target.value),className:"w-full bg-black border border-zinc-800 rounded-xl p-3 text-white focus:border-lime-400 outline-none transition-colors",placeholder:"",required:!0})]}),y.jsx("button",{type:"submit",disabled:w,className:"w-full bg-lime-400 text-black font-bold py-4 rounded-xl mt-6 hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:hover:scale-100 shadow-lg shadow-lime-400/20",children:w?"Processing...":t?"Sign In":"Create Account"})]}),y.jsx("div",{className:"mt-6 text-center",children:y.jsx("button",{onClick:()=>n(!t),className:"text-zinc-500 hover:text-white text-sm transition-colors",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},Qce=[{athleteId:"1",name:"Alex Sterling",attendanceCount:24,completedWorkoutCount:20,streak:12,totalScore:0,avatarUrl:"https://i.pravatar.cc/150?u=1"},{athleteId:"2",name:"Sarah Connor",attendanceCount:22,completedWorkoutCount:18,streak:8,totalScore:0,avatarUrl:"https://i.pravatar.cc/150?u=2"},{athleteId:"3",name:"John Doe",attendanceCount:20,completedWorkoutCount:15,streak:5,totalScore:0,avatarUrl:"https://i.pravatar.cc/150?u=3"},{athleteId:"4",name:"Jane Smith",attendanceCount:18,completedWorkoutCount:12,streak:3,totalScore:0,avatarUrl:"https://i.pravatar.cc/150?u=4"},{athleteId:"5",name:"Mike Ross",attendanceCount:15,completedWorkoutCount:10,streak:15,totalScore:0,avatarUrl:"https://i.pravatar.cc/150?u=5"}],hy={ATTENDANCE:10,WORKOUT:50,STREAK:5},my=()=>{const e=A.useMemo(()=>Qce.map(t=>({...t,totalScore:t.attendanceCount*hy.ATTENDANCE+t.completedWorkoutCount*hy.WORKOUT+t.streak*hy.STREAK})).sort((t,n)=>n.totalScore-t.totalScore),[]);return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:"Leaderboard"}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"bg-lime-400/10 text-lime-400 px-3 py-1 rounded-full text-xs font-bold border border-lime-400/20 inline-block",children:"Global Rank #14"}),y.jsx("p",{className:"text-[10px] text-zinc-500 mt-1",children:"Updates Daily"})]})]}),y.jsxs("div",{className:"flex justify-center items-end space-x-4 mb-8",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:e[1].avatarUrl,alt:e[1].name,className:"w-16 h-16 rounded-full border-2 border-zinc-500"}),y.jsx("div",{className:"absolute -bottom-2 -right-1 bg-zinc-700 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border border-zinc-900",children:"2"})]}),y.jsx("p",{className:"text-xs font-bold text-white mt-2",children:e[1].name}),y.jsxs("p",{className:"text-[10px] text-lime-400 font-bold",children:[e[1].totalScore," pts"]}),y.jsx("div",{className:"w-16 h-24 bg-zinc-800 rounded-t-lg mt-2 relative overflow-hidden",children:y.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-zinc-600"})})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx(e3,{size:24,className:"text-yellow-400 mb-1 animate-bounce"}),y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:e[0].avatarUrl,alt:e[0].name,className:"w-20 h-20 rounded-full border-2 border-yellow-400 shadow-xl shadow-yellow-400/20"}),y.jsx("div",{className:"absolute -bottom-2 -right-1 bg-yellow-400 text-black w-7 h-7 rounded-full flex items-center justify-center text-sm font-bold border border-zinc-900",children:"1"})]}),y.jsx("p",{className:"text-sm font-bold text-white mt-2",children:e[0].name}),y.jsxs("p",{className:"text-xs text-yellow-400 font-bold",children:[e[0].totalScore," pts"]}),y.jsx("div",{className:"w-20 h-32 bg-zinc-800 rounded-t-lg mt-2 relative overflow-hidden bg-gradient-to-b from-zinc-700 to-zinc-800",children:y.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-yellow-400"})})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:e[2].avatarUrl,alt:e[2].name,className:"w-16 h-16 rounded-full border-2 border-orange-700"}),y.jsx("div",{className:"absolute -bottom-2 -right-1 bg-orange-700 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold border border-zinc-900",children:"3"})]}),y.jsx("p",{className:"text-xs font-bold text-white mt-2",children:e[2].name}),y.jsxs("p",{className:"text-[10px] text-lime-400 font-bold",children:[e[2].totalScore," pts"]}),y.jsx("div",{className:"w-16 h-16 bg-zinc-800 rounded-t-lg mt-2 relative overflow-hidden",children:y.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-orange-700"})})]})]}),y.jsx("div",{className:"space-y-3",children:e.slice(3).map((t,n)=>y.jsxs("div",{className:"flex items-center justify-between bg-zinc-900 p-4 rounded-2xl border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("span",{className:"font-bold text-zinc-500 w-4 text-center",children:n+4}),y.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-10 h-10 rounded-full"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white",children:t.name}),y.jsxs("div",{className:"flex space-x-2 text-xs text-zinc-500",children:[y.jsxs("span",{children:[" ",t.streak]}),y.jsxs("span",{children:[" ",t.completedWorkoutCount]})]})]})]}),y.jsx("span",{className:"font-bold text-lime-400",children:t.totalScore})]},t.athleteId))})]})},Zce=[{id:"c1",title:"Summer Shred",description:"Complete 20 workouts in 30 days",startDate:new Date,endDate:new Date(Date.now()+720*60*60*1e3),type:"WORKOUT_COUNT",targetValue:20},{id:"c2",title:"Consistency King",description:"Maintain a 7-day streak",startDate:new Date,endDate:new Date(Date.now()+336*60*60*1e3),type:"STREAK",targetValue:7}],ede=()=>y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:"Active Challenges"}),Zce.map(e=>y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 border border-zinc-800 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-lime-400/5 rounded-full blur-3xl -mr-10 -mt-10"}),y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"bg-zinc-800 p-3 rounded-xl",children:y.jsx(L3,{size:24,className:"text-lime-400"})}),y.jsx("div",{className:"bg-lime-400/10 text-lime-400 px-3 py-1 rounded-full text-xs font-bold",children:"Active"})]}),y.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:e.title}),y.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:e.description}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[y.jsx("span",{className:"text-white",children:"Progress"}),y.jsxs("span",{className:"text-lime-400",children:["12 / ",e.targetValue]})]}),y.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:y.jsx("div",{className:"bg-lime-400 h-2 rounded-full w-[60%] shadow-[0_0_10px_rgba(163,230,53,0.5)]"})})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-800 flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-500 text-xs",children:[y.jsx(Mi,{size:14}),y.jsx("span",{children:"Ends in 12 days"})]}),y.jsx("button",{className:"text-sm font-bold text-white hover:text-lime-400 transition-colors",children:"View Details"})]})]},e.id))]}),tde=({coachId:e,onChatAthlete:t,onAssignWorkout:n,onViewWorkoutHistory:r})=>{const[i,a]=A.useState([]),[l,u]=A.useState(!0),[d,f]=A.useState("");A.useEffect(()=>{h();const v=de.channel(`athletes_updates:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`receiver_id=eq.${e}`},()=>h()).subscribe();return()=>{de.removeChannel(v)}},[e]);const h=async()=>{const{data:v,error:w}=await de.from("profiles").select("*").eq("selected_coach_id",e);if(v){const S=(await Promise.all(v.map(async T=>{const{count:C}=await de.from("messages").select("*",{count:"exact",head:!0}).eq("sender_id",T.id).eq("receiver_id",e).eq("is_read",!1);return{...T,unread_count:C||0,streak:T.streak||0}}))).sort((T,C)=>C.unread_count!==T.unread_count?C.unread_count-T.unread_count:T.name.localeCompare(C.name));a(S)}u(!1)},p=i.filter(v=>v.name.toLowerCase().includes(d.toLowerCase()));return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center",children:[y.jsx(Di,{className:"mr-3 text-lime-400"}),"My Athletes"]}),y.jsxs("span",{className:"text-[10px] bg-zinc-800 text-zinc-400 px-2 py-1 rounded-lg font-bold",children:[i.length," Total"]})]}),y.jsxs("div",{className:"relative",children:[y.jsx(Js,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500",size:18}),y.jsx("input",{type:"text",placeholder:"Search by name...",value:d,onChange:v=>f(v.target.value),className:"w-full bg-zinc-900 border border-zinc-800 text-white rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-lime-400 transition-colors"})]}),y.jsx("div",{className:"space-y-4",children:l?y.jsx("div",{className:"text-center py-20 text-zinc-500 animate-pulse font-bold",children:"Loading your roster..."}):p.length===0?y.jsxs("div",{className:"text-center py-20 bg-zinc-900/40 rounded-3xl border border-dashed border-zinc-800",children:[y.jsx(Di,{size:48,className:"mx-auto text-zinc-800 mb-4"}),y.jsx("p",{className:"text-zinc-500 font-medium",children:"No athletes found."})]}):p.map(v=>y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800 flex items-center justify-between hover:border-lime-400/50 transition-colors group",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:v.avatar_url||`https://i.pravatar.cc/150?u=${v.id}`,className:"w-14 h-14 rounded-2xl object-cover",alt:v.name}),v.unread_count>0&&y.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-zinc-900 animate-pulse"})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold group-hover:text-lime-400 transition-colors",children:v.name}),y.jsxs("div",{className:"flex items-center text-[10px] text-zinc-500 font-bold uppercase tracking-wider mt-1",children:[y.jsx(Vh,{size:12,className:"mr-1 text-lime-400"}),v.streak," Day Streak"]}),y.jsxs("div",{className:"flex items-center text-[10px] text-zinc-500 mt-1",children:[y.jsx(Fu,{size:12,className:"mr-1 text-blue-400"}),"Mock: ",Math.floor(Math.random()*10)," Sessions"]})]})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("button",{onClick:()=>n(v.id),className:"bg-zinc-800 p-3 rounded-2xl text-lime-400 hover:bg-zinc-700 transition-colors shadow-lg",title:"Create Workout",children:y.jsx(fl,{size:20})}),y.jsx("button",{onClick:()=>r&&r(),className:"bg-zinc-800 p-3 rounded-2xl text-lime-400 hover:bg-zinc-700 transition-colors shadow-lg",title:"See Plans",children:y.jsx(Fu,{size:20})}),y.jsx("button",{onClick:()=>t(v.id),className:"bg-lime-400 p-3 rounded-2xl text-black hover:scale-105 transition-transform shadow-lg shadow-lime-400/20",title:"Chat",children:y.jsx(mP,{size:20,fill:"black"})})]})]},v.id))})]})},nde=({user:e})=>{const t=`GYM_USER_${e.id}_${e.gymCode}`;return y.jsxs("div",{className:"bg-white p-6 rounded-3xl flex flex-col items-center shadow-lg",children:[y.jsx("h3",{className:"text-black font-bold text-lg mb-4",children:"Gym Access Pass"}),y.jsxs("div",{className:"relative mb-6 group",children:[y.jsx("div",{className:"absolute inset-0 bg-lime-400 blur-xl opacity-20 group-hover:opacity-40 transition-opacity"}),y.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(t)}&color=000000&bgcolor=ffffff`,alt:"Access QR Code",className:"w-48 h-48 rounded-xl border-4 border-black relative z-10"}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity z-20",children:y.jsx("div",{className:"bg-black/80 text-white px-3 py-1 rounded-full text-xs font-bold",children:"Refreshes in 59s"})})]}),y.jsxs("div",{className:"flex items-center space-x-2 text-zinc-500 bg-zinc-100 px-4 py-2 rounded-full",children:[y.jsx(dl,{size:16}),y.jsx("span",{className:"text-xs font-medium",children:"Auto-checkin enabled"})]}),y.jsxs("div",{className:"mt-6 w-full pt-6 border-t border-zinc-100 flex justify-between text-black",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-2xl font-bold",children:e.streak}),y.jsx("span",{className:"text-xs text-zinc-500 uppercase tracking-wider font-bold",children:"Day Streak"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"block text-2xl font-bold",children:"142"}),y.jsx("span",{className:"text-xs text-zinc-500 uppercase tracking-wider font-bold",children:"Check-ins"})]})]})]})},rde=({athleteId:e})=>{const[t,n]=A.useState([]),[r,i]=A.useState(!0);A.useEffect(()=>{e&&a()},[e]);const a=async()=>{const{data:l}=await qP(e);l&&n(l),i(!1)};return r?y.jsx("div",{className:"flex justify-center p-8",children:y.jsx("div",{className:"w-6 h-6 border-2 border-lime-400 border-t-transparent rounded-full animate-spin"})}):t.length===0?y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-8 text-center border border-zinc-800 flex flex-col items-center",children:[y.jsx("div",{className:"bg-zinc-800 p-4 rounded-full mb-4",children:y.jsx(fl,{className:"w-8 h-8 text-zinc-600"})}),y.jsx("h3",{className:"text-white font-bold mb-1",children:"No Records Yet"}),y.jsx("p",{className:"text-zinc-500 text-sm",children:"Complete workouts to set your first PR!"})]}):y.jsx("div",{className:"space-y-3",children:t.map(l=>y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex items-center justify-between group hover:border-lime-500/30 transition-colors",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"p-3 bg-yellow-400/10 text-yellow-400 rounded-xl shadow-lg shadow-yellow-400/5 group-hover:scale-110 transition-transform",children:y.jsx(Vu,{size:20})}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold text-lg",children:l.exercise_name}),y.jsxs("p",{className:"text-zinc-500 text-xs flex items-center gap-1 mt-0.5",children:[y.jsx(Mi,{size:10})," ",Ye(new Date(l.date_achieved),"MMM d, yyyy")]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"text-2xl font-black text-white",children:[l.max_weight," ",y.jsx("span",{className:"text-sm font-medium text-zinc-500",children:"kg"})]}),y.jsxs("div",{className:"text-lime-400 text-[10px] font-bold uppercase tracking-wider flex items-center justify-end gap-1 mt-1",children:[y.jsx(Vh,{size:10})," Personal Best"]})]})]},l.id))})},ide=[{date:"Jan",weight:82},{date:"Feb",weight:81},{date:"Mar",weight:80.5},{date:"Apr",weight:79},{date:"May",weight:78.5},{date:"Jun",weight:78}],py=({user:e})=>{const[t,n]=A.useState("overview"),[r,i]=A.useState(!1),a=A.useRef(null);if(!e)return null;const l=()=>{var h;(h=a.current)==null||h.click()},u=async h=>{var v;const p=(v=h.target.files)==null?void 0:v[0];if(p)try{i(!0);const w=await d(p),E=p.name.split(".").pop(),T=`avatars/${`${e.id}/${Date.now()}.${E}`}`,{error:C}=await de.storage.from("gym_uploads").upload(T,w);if(C)throw C.message.includes("bucket not found")?new Error("Storage bucket 'gym_uploads' not found. Please run the setup SQL script provided."):C;const{data:{publicUrl:R}}=de.storage.from("gym_uploads").getPublicUrl(T),{error:k}=await de.from("profiles").update({avatar_url:R}).eq("id",e.id);if(k)throw k;alert("Profile picture updated successfully!"),window.location.reload()}catch(w){console.error("Error updating avatar:",w),alert(`Failed: ${w.message}`)}finally{i(!1)}},d=h=>new Promise(p=>{const v=new FileReader;v.readAsDataURL(h),v.onload=w=>{var S;const E=new Image;E.src=(S=w.target)==null?void 0:S.result,E.onload=()=>{const T=document.createElement("canvas"),C=400,R=400;let k=E.width,P=E.height;k>P?k>C&&(P*=C/k,k=C):P>R&&(k*=R/P,P=R),T.width=k,T.height=P;const D=T.getContext("2d");D==null||D.drawImage(E,0,0,k,P),T.toBlob(O=>{O&&p(O)},"image/jpeg",.7)}}}),f=async()=>{const{error:h}=await de.auth.signOut();h&&console.error("Error signing out:",h.message)};return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:"relative group cursor-pointer",onClick:l,children:[y.jsx("img",{src:e.avatarUrl,alt:e.name,className:`w-20 h-20 rounded-full border-2 border-lime-400 object-cover transition-opacity ${r?"opacity-50":"group-hover:opacity-80"}`}),y.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(Hb,{size:24,className:"text-white"})}),r&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx(hP,{size:24,className:"text-lime-400 animate-spin"})}),y.jsx("input",{type:"file",ref:a,onChange:u,accept:"image/*",className:"hidden"})]}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:e.name}),y.jsxs("div",{className:"flex items-center space-x-2 text-lime-400",children:[y.jsx(Vb,{size:16,fill:"currentColor"}),y.jsxs("span",{className:"font-bold text-sm",children:[e.streak," Day Streak"]})]})]})]}),y.jsx("button",{className:"p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:y.jsx(P3,{size:20,className:"text-zinc-400"})})]}),y.jsxs("div",{className:"flex bg-zinc-900 p-1 rounded-xl",children:[y.jsx("button",{onClick:()=>n("overview"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t==="overview"?"bg-zinc-800 text-white":"text-zinc-500"}`,children:"Overview"}),y.jsx("button",{onClick:()=>n("progress"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t==="progress"?"bg-zinc-800 text-white":"text-zinc-500"}`,children:"Progress"})]}),t==="overview"&&y.jsxs("div",{className:"space-y-6 animate-slide-up",children:[y.jsx(nde,{user:e}),y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 border border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"font-bold text-white flex items-center",children:[y.jsx(Vu,{className:"mr-2 text-yellow-500",size:20}),"Achievements"]}),y.jsxs("span",{className:"text-lime-400 font-bold",children:[e.points," pts"]})]}),y.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2 scrollbar-hide",children:[1,2,3].map(h=>y.jsxs("div",{className:"min-w-[80px] h-24 bg-zinc-800 rounded-xl flex flex-col items-center justify-center p-2 border border-zinc-700",children:[y.jsx("div",{className:"w-10 h-10 bg-zinc-900 rounded-full flex items-center justify-center mb-2 text-xl",children:""}),y.jsx("span",{className:"text-[10px] text-zinc-400 text-center leading-tight",children:"Early Bird"})]},h))})]})]}),t==="progress"&&y.jsxs("div",{className:"space-y-6 animate-slide-up",children:[y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex flex-col items-center",children:[y.jsx(C3,{size:20,className:"text-zinc-500 mb-2"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"78.0"}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"kg Weight"})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex flex-col items-center",children:[y.jsx(Fu,{size:20,className:"text-lime-400 mb-2"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"15.2%"}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Body Fat"})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex flex-col items-center",children:[y.jsx(fl,{size:20,className:"text-blue-400 mb-2"}),y.jsx("span",{className:"text-xl font-bold text-white",children:"42.5%"}),y.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Muscle"})]})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800",children:[y.jsx("h3",{className:"font-bold text-white mb-4 ml-2",children:"Weight Trend"}),y.jsx("div",{className:"h-48 w-full",children:y.jsx(vx,{width:"100%",height:"100%",children:y.jsxs(mre,{data:ide,children:[y.jsx($m,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),y.jsx(Gm,{dataKey:"date",stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1}),y.jsx(Nw,{stroke:"#666",fontSize:12,tickLine:!1,axisLine:!1,domain:["dataMin - 1","dataMax + 1"]}),y.jsx(bw,{contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"12px"},labelStyle:{color:"#a1a1aa"}}),y.jsx(Dj,{type:"monotone",dataKey:"weight",stroke:"#a3e635",strokeWidth:3,dot:{fill:"#a3e635",strokeWidth:2},activeDot:{r:6,fill:"#fff"}})]})})})]}),y.jsx(rde,{athleteId:e.id})]}),y.jsxs("button",{onClick:f,className:"w-full bg-red-500/10 hover:bg-red-500/20 text-red-500 py-4 rounded-2xl font-bold flex items-center justify-center space-x-2 transition-colors",children:[y.jsx(f3,{size:20}),y.jsx("span",{children:"Log Out"})]})]})},uP=()=>{const[e,t]=A.useState("STATS"),[n,r]=A.useState(""),[i,a]=A.useState(""),[l,u]=A.useState(""),[d,f]=A.useState([]),[h,p]=A.useState(!1),[v,w]=A.useState(null),[E,S]=A.useState([]),[T,C]=A.useState(!1),[R,k]=A.useState([]),[P,D]=A.useState([]),[O,M]=A.useState([]),[B,L]=A.useState(0),[K,X]=A.useState([]),[H,he]=A.useState({totalMembers:0,activeToday:0,activeYesterday:0,growth:"0%"}),[ce,ge]=A.useState([]),[$,te]=A.useState(""),[ie,ue]=A.useState(null),[ve,z]=A.useState(!1);A.useEffect(()=>{_e(),Le(),e==="CODES"&&Z(),(e==="STATS"||e==="CHECKIN")&&lt(),e==="REVENUE"&&Y(),e==="ATHLETES"&&fe()},[e]);const Y=async()=>{const{data:oe}=await Q$();oe&&(k(oe),le(oe))},le=oe=>{const Q=oe.reduce((Ae,Ke)=>Ae+Ke.amount,0);L(Q);const Me={};oe.forEach(Ae=>{const Ke=Ye(qu(Ae.created_at),"MMM");Me[Ke]=(Me[Ke]||0)+Ae.amount});const ae=Object.keys(Me).map(Ae=>({name:Ae,revenue:Me[Ae]}));D(ae.length>0?ae:[{name:"Feb",revenue:0}]);const pe={};oe.forEach(Ae=>{pe[Ae.plan_type]=(pe[Ae.plan_type]||0)+1});const ye=Object.keys(pe).map(Ae=>({name:Ae.charAt(0).toUpperCase()+Ae.slice(1),value:pe[Ae]}));M(ye.length>0?ye:[{name:"None",value:1}])},fe=async()=>{const{data:oe}=await Z$();oe&&X(oe)},Ee=oe=>{if(!oe)return"bg-red-500/10 text-red-500 border-red-500/20";const Q=vy(qu(oe),new Date);return Q<0?"bg-red-500/10 text-red-500 border-red-500/20":Q<7?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":"bg-lime-400/10 text-lime-400 border-lime-400/20"},je=oe=>{if(!oe)return"No Sub";const Q=vy(qu(oe),new Date);return Q<0?"Expired":Q<7?`${Q} days left`:"Active"},_e=async()=>{const{count:oe}=await de.from("profiles").select("*",{count:"exact",head:!0}).eq("role","ATHLETE"),Q=nl(new Date).toISOString(),Me=rA(new Date).toISOString(),{count:ae}=await de.from("attendance").select("*",{count:"exact",head:!0}).gte("check_in_time",Q).lte("check_in_time",Me),pe=nl(lA(new Date)).toISOString(),ye=rA(lA(new Date)).toISOString(),{count:Ae}=await de.from("attendance").select("*",{count:"exact",head:!0}).gte("check_in_time",pe).lte("check_in_time",ye);he({totalMembers:oe||0,activeToday:ae||0,activeYesterday:Ae||0,growth:Ae?`${Math.round(((ae||0)-Ae)/Ae*100)}%`:"+100%"})},lt=async()=>{const{data:oe}=await de.from("attendance").select(`
                *,
                profiles (name, avatar_url, gym_code)
            `).order("check_in_time",{ascending:!1}).limit(10);oe&&ge(oe)},Z=async()=>{const{data:oe,error:Q}=await de.from("gym_access_codes").select("*").order("created_at",{ascending:!1});oe&&S(oe)},Ie=async()=>{C(!0);const oe="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let Q="GS-";for(let ae=0;ae<6;ae++)Q+=oe.charAt(Math.floor(Math.random()*oe.length));const{error:Me}=await de.from("gym_access_codes").insert([{code:Q}]);Me||Z(),C(!1)},Le=async()=>{const{data:oe}=await de.from("profiles").select("*").eq("role","COACH");oe&&f(oe.map(Q=>({id:Q.id,name:Q.name,bio:Q.bio||"Professional Coach",specialty:Q.gym_code||"General Fitness",avatarUrl:Q.avatar_url})))},se=async()=>{if(!$)return;p(!0);const{data:oe}=await de.from("profiles").select("*").or(`email.ilike.%${$}%,name.ilike.%${$}%,id.eq.${$}`).limit(1).single();ue(oe),p(!1)},_t=async()=>{if(!ie)return;z(!0);const{error:oe}=await de.rpc("record_attendance",{target_user_id:ie.id});if(!oe)alert("Attendance recorded successfully!"),ue(null),te(""),_e(),lt();else{const{error:Q}=await de.from("attendance").insert([{user_id:ie.id}]);Q?alert(`Error: ${Q.message}`):(await de.from("profiles").update({last_check_in:new Date().toISOString()}).eq("id",ie.id),alert("Attendance recorded successfully!"),ue(null),te(""),_e(),lt())}z(!1)},Be=async()=>{if(!n)return;p(!0);const{data:oe}=await de.from("profiles").select("*").ilike("email",`%${n}%`).limit(1).single();w(oe),p(!1)},St=async()=>{if(!v)return;const{error:oe}=await de.from("profiles").update({role:"COACH",bio:i}).eq("id",v.id);oe||(alert("Coach added successfully!"),w(null),f([]),Le())};return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Admin Panel"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"Managing GymSmart Infrastructure"})]}),y.jsx("div",{className:"bg-lime-400/10 p-2 rounded-2xl",children:y.jsx(vv,{className:"text-lime-400",size:24})})]}),y.jsx("div",{className:"flex bg-zinc-900/50 p-1 rounded-2xl border border-zinc-800 overflow-x-auto no-scrollbar",children:[{id:"STATS",label:"Overview"},{id:"REVENUE",label:"Revenue"},{id:"ATHLETES",label:"Athletes"},{id:"CHECKIN",label:"Check-in"},{id:"COACHES",label:"Coaches"},{id:"CODES",label:"Codes"}].map(oe=>y.jsx("button",{onClick:()=>t(oe.id),className:`flex-1 min-w-[80px] py-3 rounded-xl font-bold text-xs transition-all ${e===oe.id?"bg-zinc-800 text-white shadow-lg":"text-zinc-500"}`,children:oe.label},oe.id))}),e==="STATS"?y.jsxs("div",{className:"space-y-6 animate-slide-up",children:[y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-zinc-900 p-5 rounded-3xl border border-zinc-800 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-lime-400/5 rounded-full blur-xl group-hover:bg-lime-400/10 transition-colors"}),y.jsxs("div",{className:"flex items-center space-x-3 mb-3 text-zinc-500",children:[y.jsx(Di,{size:18}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Total Members"})]}),y.jsxs("div",{className:"flex items-end space-x-2",children:[y.jsx("span",{className:"text-3xl font-bold text-white",children:H.totalMembers}),y.jsx("span",{className:"text-lime-400 text-xs font-bold pb-1",children:H.growth})]})]}),y.jsxs("div",{className:"bg-zinc-900 p-5 rounded-3xl border border-zinc-800 relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-400/5 rounded-full blur-xl group-hover:bg-blue-400/10 transition-colors"}),y.jsxs("div",{className:"flex items-center space-x-3 mb-3 text-zinc-500",children:[y.jsx(Vh,{size:18}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Activity Today"})]}),y.jsxs("div",{className:"flex items-end space-x-2",children:[y.jsx("span",{className:"text-3xl font-bold text-white",children:H.activeToday}),y.jsxs("span",{className:"text-zinc-500 text-[10px] font-bold pb-1",children:["/ ",H.activeYesterday," last"]})]})]})]}),y.jsxs("div",{className:"bg-zinc-900 p-6 rounded-3xl border border-zinc-800",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h3",{className:"text-white font-bold flex items-center",children:[y.jsx(dl,{className:"mr-2 text-lime-400",size:18}),"Peak Hours"]}),y.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Last 24h"})]}),y.jsx("div",{className:"h-32 flex items-end space-x-1 px-2",children:[20,35,60,85,40,30,75,95,55,30,15,10].map((oe,Q)=>y.jsxs("div",{className:"flex-1 bg-zinc-800/50 rounded-t-lg relative group",children:[y.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-lime-400/40 group-hover:bg-lime-400 transition-all rounded-t-lg",style:{height:`${oe}%`}}),y.jsxs("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-[8px] font-bold text-white opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[Q+8,":00"]})]},Q))}),y.jsxs("div",{className:"flex justify-between mt-2 px-1 text-[8px] text-zinc-600 font-bold uppercase",children:[y.jsx("span",{children:"8 AM"}),y.jsx("span",{children:"12 PM"}),y.jsx("span",{children:"4 PM"}),y.jsx("span",{children:"8 PM"})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-white font-bold",children:"Recent Check-ins"}),y.jsx("button",{onClick:()=>t("CHECKIN"),className:"text-lime-400 text-xs font-bold px-3 py-1 bg-lime-400/5 rounded-full border border-lime-400/10",children:"Manual Check-in"})]}),y.jsx("div",{className:"space-y-2",children:ce.length===0?y.jsx("p",{className:"text-zinc-500 text-xs text-center py-8",children:"No recent activity found."}):ce.map((oe,Q)=>{var Me,ae,pe;return y.jsxs("div",{className:"bg-zinc-900/40 p-3 rounded-2xl border border-zinc-800/50 flex items-center space-x-3 animate-fade-in",style:{animationDelay:`${Q*50}ms`},children:[y.jsx("img",{src:(Me=oe.profiles)==null?void 0:Me.avatar_url,className:"w-10 h-10 rounded-full border border-zinc-800"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-white text-sm font-bold",children:(ae=oe.profiles)==null?void 0:ae.name}),y.jsxs("p",{className:"text-zinc-500 text-[10px]",children:[((pe=oe.profiles)==null?void 0:pe.gym_code)||"MEMBER","  ",Ye(new Date(oe.check_in_time),"hh:mm a")]})]}),y.jsx("div",{className:"bg-lime-400/10 p-1.5 rounded-full",children:y.jsx(Fh,{size:14,className:"text-lime-400"})})]},oe.id)})})]})]}):e==="REVENUE"?y.jsxs("div",{className:"space-y-6 animate-slide-up",children:[y.jsxs("div",{className:"bg-gradient-to-br from-zinc-900 to-zinc-950 p-6 rounded-3xl border border-zinc-800 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-lime-400/5 blur-3xl rounded-full"}),y.jsxs("div",{className:"flex items-center space-x-3 mb-4 text-zinc-500",children:[y.jsx(n3,{size:20,className:"text-lime-400"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Total Revenue"})]}),y.jsx("div",{className:"flex items-end space-x-2",children:y.jsxs("span",{className:"text-4xl font-black text-white",children:["$",B.toLocaleString()]})})]}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800",children:[y.jsx("h3",{className:"font-bold text-white mb-4 ml-2",children:"Revenue Trend"}),y.jsx("div",{className:"h-48 w-full",children:y.jsx(vx,{width:"100%",height:"100%",children:y.jsxs(Qj,{data:P,children:[y.jsx($m,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),y.jsx(Gm,{dataKey:"name",stroke:"#666",fontSize:10,tickLine:!1,axisLine:!1}),y.jsx(Nw,{stroke:"#666",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:oe=>`$${oe}`}),y.jsx(bw,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#18181b",border:"1px solid #27272a",borderRadius:"12px"},labelStyle:{color:"#a1a1aa"}}),y.jsx(Cw,{dataKey:"revenue",fill:"#a3e635",radius:[4,4,0,0]})]})})})]})]}):e==="ATHLETES"?y.jsx("div",{className:"space-y-6 animate-slide-up",children:y.jsxs("div",{className:"bg-zinc-900 p-6 rounded-3xl border border-zinc-800",children:[y.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center",children:[y.jsx(Di,{size:18,className:"mr-2 text-lime-400"}),"All Athletes"]}),y.jsx("div",{className:"space-y-3",children:K.length===0?y.jsx("div",{className:"text-center py-8 text-zinc-500 text-sm",children:"Loading athletes..."}):K.map(oe=>y.jsxs("div",{className:"bg-zinc-950/50 p-4 rounded-2xl border border-zinc-800 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:oe.avatarUrl,className:"w-10 h-10 rounded-full bg-zinc-800 object-cover"}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white text-sm",children:oe.name}),y.jsx("p",{className:"text-[10px] text-zinc-500",children:oe.email})]})]}),y.jsx("div",{className:`px-3 py-1.5 rounded-full border text-[10px] font-bold uppercase tracking-wider ${Ee(oe.membershipEnd)}`,children:je(oe.membershipEnd)})]},oe.id))})]})}):e==="CHECKIN"?y.jsx("div",{className:"space-y-6 animate-slide-up",children:y.jsxs("div",{className:"bg-zinc-900 p-6 rounded-3xl border border-zinc-800 relative overflow-hidden",children:[y.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-lime-400/5 blur-3xl rounded-full"}),y.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center text-lg",children:[y.jsx(Js,{size:20,className:"mr-2 text-lime-400"}),"Receptionist Check-in"]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search by name, email or ID...",value:$,onChange:oe=>te(oe.target.value),onKeyPress:oe=>oe.key==="Enter"&&se(),className:"flex-1 bg-black p-4 rounded-2xl text-white text-sm outline-none border border-zinc-800 focus:border-lime-400 transition-colors"}),y.jsx("button",{onClick:se,disabled:h,className:"bg-zinc-800 p-4 rounded-2xl text-white hover:bg-zinc-700 transition-colors disabled:opacity-50",children:y.jsx(Js,{size:20})})]}),ie&&y.jsxs("div",{className:"mt-6 bg-black/50 p-6 rounded-2xl border border-lime-400/20 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[y.jsx("img",{src:ie.avatarUrl,className:"w-16 h-16 rounded-full ring-4 ring-lime-400/10"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-white text-lg font-bold",children:ie.name}),y.jsx("p",{className:"text-zinc-500 text-xs font-bold uppercase tracking-widest",children:ie.gymCode||"Member"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[y.jsxs("div",{className:"bg-zinc-900/80 p-3 rounded-xl border border-zinc-800",children:[y.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase mb-1",children:"Last Check-in"}),y.jsx("p",{className:"text-white text-sm font-bold",children:ie.lastCheckIn?Ye(new Date(ie.lastCheckIn),"MMM d, hh:mm a"):"Never"})]}),y.jsxs("div",{className:"bg-zinc-900/80 p-3 rounded-xl border border-zinc-800",children:[y.jsx("p",{className:"text-zinc-500 text-[10px] font-bold uppercase mb-1",children:"Streak"}),y.jsxs("p",{className:"text-white text-sm font-bold flex items-center",children:[y.jsx(Vb,{size:14,className:"mr-1 text-orange-500"}),ie.streak," Days"]})]})]}),y.jsx("button",{onClick:_t,disabled:ve,className:"w-full bg-lime-400 text-black py-4 rounded-2xl font-black uppercase tracking-widest hover:brightness-110 active:scale-95 transition-all shadow-lg shadow-lime-400/20 disabled:opacity-50",children:ve?"Processing...":"Record Check-in"})]}),!ie&&!h&&$&&y.jsx("div",{className:"mt-6 text-center py-8 bg-black/20 rounded-2xl border border-dashed border-zinc-800",children:y.jsxs("p",{className:"text-zinc-500 text-sm",children:['No user found matching "',$,'"']})})]})}):e==="COACHES"?y.jsxs("div",{className:"space-y-6 animate-slide-up",children:[y.jsxs("div",{className:"bg-zinc-900 p-6 rounded-3xl border border-zinc-800",children:[y.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center",children:[y.jsx(G3,{size:18,className:"mr-2 text-lime-400"}),"Add New Coach"]}),y.jsxs("form",{onSubmit:oe=>{oe.preventDefault(),Be()},className:"space-y-3",children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",placeholder:"Enter user email to promote...",value:n,onChange:oe=>r(oe.target.value),className:"w-full bg-black p-3 rounded-xl text-white text-sm outline-none border border-zinc-800 focus:border-lime-400 transition-colors pr-10"}),y.jsx("button",{type:"button",onClick:Be,className:"absolute right-3 top-3 text-zinc-500 hover:text-white",children:y.jsx(Js,{size:18})})]}),v&&y.jsxs("div",{className:"bg-black/50 p-4 rounded-xl border border-zinc-800 animate-fade-in",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("img",{src:v.avatar_url,className:"w-10 h-10 rounded-full"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-white text-sm font-bold",children:v.name}),y.jsx("p",{className:"text-zinc-500 text-[10px]",children:v.id})]})]}),y.jsx("button",{type:"button",onClick:St,className:"bg-lime-400 text-black text-xs font-bold px-4 py-2 rounded-lg hover:brightness-110 transition-all",children:"Add Coach"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"block text-zinc-500 text-[10px] uppercase font-bold mb-1",children:"Coach Bio (Short description)"}),y.jsx("input",{type:"text",placeholder:"e.g., Expert in strength & conditioning",value:i,onChange:oe=>a(oe.target.value),className:"w-full bg-zinc-900 p-3 rounded-xl text-white text-sm outline-none border border-zinc-800 focus:border-lime-400 transition-colors"})]})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-white font-bold ml-1",children:"Current Coaches"}),y.jsx("div",{className:"space-y-3",children:d.length===0?y.jsx("p",{className:"text-zinc-500 text-sm text-center py-8 bg-zinc-900/40 rounded-3xl",children:"No coaches added yet."}):d.map(oe=>y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-3xl border border-zinc-800 flex items-center space-x-4",children:[y.jsx("img",{src:oe.avatarUrl,alt:oe.name,className:"w-12 h-12 rounded-full ring-2 ring-zinc-800"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:"font-bold text-white",children:oe.name}),y.jsx("p",{className:"text-xs text-zinc-400 line-clamp-1",children:oe.bio})]})]},oe.id))})]})]}):e==="CODES"?y.jsx("div",{className:"space-y-6 animate-slide-up",children:y.jsxs("div",{className:"bg-zinc-900 p-6 rounded-3xl border border-zinc-800 shadow-xl overflow-hidden relative",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-lime-400/5 blur-3xl rounded-full -mr-16 -mt-16"}),y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[y.jsx(vv,{size:20,className:"mr-2 text-lime-400"}),"One-Time Access Codes"]}),y.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:"Generate unique codes for new gym members"})]}),y.jsx("button",{onClick:Ie,disabled:T,className:"bg-lime-400 text-black px-6 py-2.5 rounded-xl font-bold flex items-center justify-center space-x-2 active:scale-95 transition-all disabled:opacity-50 shadow-lg shadow-lime-400/10",children:T?"Generating...":"New Code"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(oe=>y.jsxs("div",{className:`p-4 rounded-2xl border transition-all duration-300 flex items-center justify-between group ${oe.is_used?"bg-zinc-900/30 border-zinc-800/50 grayscale opacity-60":"bg-black/40 border-zinc-800 hover:border-lime-400/30"}`,children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[y.jsx("p",{className:`font-mono font-bold text-lg tracking-wider truncate ${oe.is_used?"text-zinc-500":"text-lime-400"}`,children:oe.code}),oe.is_used&&y.jsx("span",{className:"text-[9px] text-red-500 font-bold uppercase",children:"Used"})]}),y.jsxs("p",{className:"text-zinc-500 text-[10px]",children:["Created: ",Ye(new Date(oe.created_at),"MMM d, yyyy")]})]}),!oe.is_used&&y.jsx("button",{onClick:()=>{navigator.clipboard.writeText(oe.code),alert("Copied!")},className:"w-10 h-10 bg-zinc-800 rounded-xl flex items-center justify-center text-zinc-400 hover:bg-lime-400 hover:text-black transition-all",children:y.jsx(D4,{size:18})})]},oe.code))})]})}):y.jsx("div",{className:"space-y-6 animate-slide-up",children:y.jsxs("div",{className:"bg-zinc-900 p-6 rounded-3xl border border-zinc-800",children:[y.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center",children:[y.jsx(vv,{size:18,className:"mr-2 text-lime-400"}),"Admin Management"]}),y.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Only super admins can manage other administrators."})]})})]})};async function ade(e,t){try{let n=de.from("workout_plans").select(`
        *,
        plan_exercises (*)
      `).eq("coach_id",e).order("date",{ascending:!1});t&&(n=n.eq("athlete_id",t));const{data:r,error:i}=await n;if(i)throw i;return{data:r.map(l=>({id:l.id,coachId:l.coach_id,athleteId:l.athlete_id,date:l.date,weekRange:l.week_range,notes:l.notes,exercises:(l.plan_exercises||[]).map(u=>({id:u.id,planId:u.plan_id,exerciseName:u.exercise_name,sets:u.sets,reps:u.reps,weight:u.weight,restTime:u.rest_time,notes:u.notes,orderIndex:u.order_index,completed:u.completed,completedAt:u.completed_at?new Date(u.completed_at):void 0})).sort((u,d)=>u.orderIndex-d.orderIndex),createdAt:new Date(l.created_at),updatedAt:new Date(l.updated_at)})),error:null}}catch(n){return console.error("Error fetching coach workout plans:",n),{data:null,error:n}}}async function ode(e,t,n,r,i,a){try{const{data:l,error:u}=await de.from("workout_plans").insert({coach_id:e,athlete_id:t,date:n,week_range:a,notes:i}).select().single();if(u)throw u;const d=r.map((v,w)=>({plan_id:l.id,exercise_name:v.exerciseName,sets:v.sets,reps:v.reps,weight:v.weight||0,rest_time:v.restTime,notes:v.notes,order_index:w})),{data:f,error:h}=await de.from("plan_exercises").insert(d).select();if(h)throw h;return{data:{id:l.id,coachId:l.coach_id,athleteId:l.athlete_id,date:l.date,weekRange:l.week_range,notes:l.notes,exercises:f.map(v=>({id:v.id,planId:v.plan_id,exerciseName:v.exercise_name,sets:v.sets,reps:v.reps,weight:v.weight,restTime:v.rest_time,notes:v.notes,orderIndex:v.order_index,completed:v.completed,completedAt:v.completed_at?new Date(v.completed_at):void 0})),createdAt:new Date(l.created_at),updatedAt:new Date(l.updated_at)},error:null}}catch(l){return console.error("Error creating workout plan:",l),{data:null,error:l}}}async function sde(e,t,n){try{const{data:r,error:i}=await de.from("workout_plans").select(`
        *,
        plan_exercises (*)
      `).eq("athlete_id",e).gte("date",t).lte("date",n).order("date",{ascending:!0});if(i)throw i;return{data:r.map(l=>({id:l.id,coachId:l.coach_id,athleteId:l.athlete_id,date:l.date,weekRange:l.week_range,notes:l.notes,exercises:(l.plan_exercises||[]).map(u=>({id:u.id,planId:u.plan_id,exerciseName:u.exercise_name,sets:u.sets,reps:u.reps,weight:u.weight,restTime:u.rest_time,notes:u.notes,orderIndex:u.order_index,completed:u.completed,completedAt:u.completed_at?new Date(u.completed_at):void 0})).sort((u,d)=>u.orderIndex-d.orderIndex),createdAt:new Date(l.created_at),updatedAt:new Date(l.updated_at)})),error:null}}catch(r){return console.error("Error fetching workout plans:",r),{data:null,error:r}}}async function lde(e,t){const{error:n}=await de.rpc("mark_exercise_complete",{exercise_id:e,is_completed:t});return{error:n}}const ude=[{id:"1",name:"Barbell Squat",defaultSets:4,defaultReps:8,defaultWeight:60},{id:"2",name:"Bench Press",defaultSets:3,defaultReps:10,defaultWeight:50},{id:"3",name:"Deadlift",defaultSets:3,defaultReps:5,defaultWeight:80},{id:"4",name:"Pull Ups",defaultSets:3,defaultReps:12,defaultWeight:0},{id:"5",name:"Dumbbell Lunge",defaultSets:3,defaultReps:12,defaultWeight:20},{id:"6",name:"Plank",defaultSets:3,defaultReps:60,defaultWeight:0},{id:"7",name:"Push Ups",defaultSets:3,defaultReps:15,defaultWeight:0},{id:"8",name:"Lat Pulldown",defaultSets:3,defaultReps:12,defaultWeight:40},{id:"9",name:"Leg Press",defaultSets:4,defaultReps:12,defaultWeight:100},{id:"10",name:"Shoulder Press",defaultSets:3,defaultReps:10,defaultWeight:30},{id:"11",name:"Bicep Curls",defaultSets:3,defaultReps:12,defaultWeight:15},{id:"12",name:"Tricep Dips",defaultSets:3,defaultReps:12,defaultWeight:0},{id:"13",name:"Leg Curls",defaultSets:3,defaultReps:12,defaultWeight:30},{id:"14",name:"Calf Raises",defaultSets:4,defaultReps:15,defaultWeight:40},{id:"15",name:"Cable Rows",defaultSets:3,defaultReps:12,defaultWeight:35}],cde=({coachId:e,athleteId:t,athleteName:n,onClose:r,onSuccess:i})=>{const[a,l]=A.useState(new Date().toISOString().split("T")[0]),[u,d]=A.useState(""),[f,h]=A.useState([]),[p,v]=A.useState(!1),[w,E]=A.useState(""),[S,T]=A.useState(!1),C=ude.filter(O=>O.name.toLowerCase().includes(w.toLowerCase())),R=O=>{const M={exerciseName:O.name,sets:O.defaultSets,reps:O.defaultReps,weight:O.defaultWeight,restTime:60,notes:"",orderIndex:f.length};h([...f,M]),v(!1),E("")},k=O=>{h(f.filter((M,B)=>B!==O))},P=(O,M,B)=>{const L=[...f];L[O]={...L[O],[M]:B},h(L)},D=async()=>{if(f.length===0){alert("Please add at least one exercise");return}T(!0);try{const{data:O,error:M}=await ode(e,t,a,f,u);if(M)throw M;alert("Workout plan created successfully!"),i(),r()}catch(O){console.error("Error creating workout plan:",O),alert("Failed to create workout plan")}finally{T(!1)}};return y.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:[y.jsxs("div",{className:"bg-zinc-900 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-hidden border border-zinc-800 shadow-2xl flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b border-zinc-800 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Workout Plan"}),y.jsxs("p",{className:"text-zinc-400 text-sm mt-1",children:["For ",n]})]}),y.jsx("button",{onClick:r,className:"p-2 hover:bg-zinc-800 rounded-full transition-colors text-zinc-400",children:y.jsx(Ir,{size:24})})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-white font-bold mb-2",children:"Target Date"}),y.jsx("input",{type:"date",value:a,onChange:O=>l(O.target.value),className:"w-full bg-zinc-800 border border-zinc-700 text-white rounded-xl px-4 py-3 outline-none focus:border-lime-400 transition-colors"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-white font-bold mb-2",children:"Coach Notes (Optional)"}),y.jsx("textarea",{value:u,onChange:O=>d(O.target.value),placeholder:"Add any special instructions or notes...",className:"w-full bg-zinc-800 border border-zinc-700 text-white rounded-xl px-4 py-3 outline-none focus:border-lime-400 transition-colors resize-none",rows:3})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("label",{className:"text-white font-bold",children:["Exercises (",f.length,")"]}),y.jsxs("button",{onClick:()=>v(!0),className:"bg-lime-400 text-black font-bold px-4 py-2 rounded-xl hover:brightness-110 transition-all flex items-center space-x-2",children:[y.jsx(Ys,{size:18}),y.jsx("span",{children:"Add Exercise"})]})]}),f.length===0?y.jsx("div",{className:"bg-zinc-800/50 border border-dashed border-zinc-700 rounded-2xl p-8 text-center",children:y.jsx("p",{className:"text-zinc-500",children:'No exercises added yet. Click "Add Exercise" to start building the plan.'})}):y.jsx("div",{className:"space-y-3",children:f.map((O,M)=>y.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded-2xl p-4 space-y-3",children:[y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsx("h4",{className:"text-white font-bold text-lg",children:O.exerciseName}),y.jsx("button",{onClick:()=>k(M),className:"text-red-400 hover:text-red-300 p-1",children:y.jsx(Ma,{size:18})})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-zinc-400 text-xs font-bold block mb-1",children:"Sets"}),y.jsx("input",{type:"number",value:O.sets,onChange:B=>P(M,"sets",parseInt(B.target.value)||0),className:"w-full bg-zinc-900 border border-zinc-700 text-white rounded-lg px-3 py-2 text-center outline-none focus:border-lime-400",min:"1"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-zinc-400 text-xs font-bold block mb-1",children:"Reps"}),y.jsx("input",{type:"number",value:O.reps,onChange:B=>P(M,"reps",parseInt(B.target.value)||0),className:"w-full bg-zinc-900 border border-zinc-700 text-white rounded-lg px-3 py-2 text-center outline-none focus:border-lime-400",min:"1"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-zinc-400 text-xs font-bold block mb-1",children:"Weight (kg)"}),y.jsx("input",{type:"number",value:O.weight||0,onChange:B=>P(M,"weight",parseFloat(B.target.value)||0),className:"w-full bg-zinc-900 border border-zinc-700 text-white rounded-lg px-3 py-2 text-center outline-none focus:border-lime-400",min:"0",step:"2.5"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-zinc-400 text-xs font-bold block mb-1",children:"Rest (sec)"}),y.jsx("input",{type:"number",value:O.restTime,onChange:B=>P(M,"restTime",parseInt(B.target.value)||60),className:"w-full bg-zinc-900 border border-zinc-700 text-white rounded-lg px-3 py-2 text-center outline-none focus:border-lime-400",min:"0",step:"15"})]})]}),y.jsx("input",{type:"text",value:O.notes||"",onChange:B=>P(M,"notes",B.target.value),placeholder:"Exercise notes (optional)...",className:"w-full bg-zinc-900 border border-zinc-700 text-white rounded-lg px-3 py-2 text-sm outline-none focus:border-lime-400"})]},M))})]})]}),y.jsxs("div",{className:"p-6 border-t border-zinc-800 flex space-x-3",children:[y.jsx("button",{onClick:r,className:"flex-1 bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-3 rounded-xl transition-all",children:"Cancel"}),y.jsxs("button",{onClick:D,disabled:S||f.length===0,className:"flex-1 bg-lime-400 hover:brightness-110 text-black font-bold py-3 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[y.jsx(Kb,{size:18}),y.jsx("span",{children:S?"Saving...":"Save Plan"})]})]})]}),p&&y.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center p-4 z-10",children:y.jsxs("div",{className:"bg-zinc-900 rounded-3xl max-w-md w-full max-h-[80vh] overflow-hidden border border-zinc-800 shadow-2xl flex flex-col",children:[y.jsx("div",{className:"p-4 border-b border-zinc-800",children:y.jsxs("div",{className:"flex items-center space-x-2 bg-zinc-800 rounded-xl px-4 py-3",children:[y.jsx(Js,{size:18,className:"text-zinc-500"}),y.jsx("input",{type:"text",value:w,onChange:O=>E(O.target.value),placeholder:"Search exercises...",className:"flex-1 bg-transparent text-white outline-none placeholder:text-zinc-500",autoFocus:!0})]})}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:C.map(O=>y.jsxs("button",{onClick:()=>R(O),className:"w-full bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-xl p-4 text-left transition-all group",children:[y.jsx("h4",{className:"text-white font-bold group-hover:text-lime-400 transition-colors",children:O.name}),y.jsxs("p",{className:"text-zinc-500 text-xs mt-1",children:[O.defaultSets," sets  ",O.defaultReps," reps",O.defaultWeight>0&&`  ${O.defaultWeight}kg`]})]},O.id))}),y.jsx("div",{className:"p-4 border-t border-zinc-800",children:y.jsx("button",{onClick:()=>{v(!1),E("")},className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-bold py-3 rounded-xl transition-all",children:"Close"})})]})})]})},dde=({athleteId:e,onBack:t})=>{const[n,r]=A.useState(new Date),[i,a]=A.useState([]),[l,u]=A.useState(!0),[d,f]=A.useState(Co(new Date,{weekStartsOn:1})),h=Array.from({length:7}).map((S,T)=>yo(d,T));A.useEffect(()=>{p()},[e,d]);const p=async()=>{u(!0);const S=Ye(d,"yyyy-MM-dd"),T=Ye(yo(d,6),"yyyy-MM-dd"),{data:C,error:R}=await sde(e,S,T);C&&a(C),u(!1)},v=i.find(S=>S.date===Ye(n,"yyyy-MM-dd")),w=async(S,T)=>{const{error:C}=await lde(S,!T);C||a(R=>R.map(k=>({...k,exercises:k.exercises.map(P=>P.id===S?{...P,completed:!T,completedAt:T?void 0:new Date}:P)})))},E=S=>{if(S<60)return`${S}s`;const T=Math.floor(S/60),C=S%60;return C>0?`${T}m ${C}s`:`${T}m`};return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[t&&y.jsx("button",{onClick:t,className:"p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:y.jsx(Gb,{size:20,className:"text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:"Coach Assigned Workouts"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:Ye(n,"EEEE, MMMM d, yyyy")})]})]}),y.jsx("div",{className:"bg-zinc-900 rounded-3xl p-4 border border-zinc-800",children:y.jsx("div",{className:"grid grid-cols-7 gap-2",children:h.map(S=>{const T=Ye(S,"yyyy-MM-dd")===Ye(n,"yyyy-MM-dd"),C=i.some(R=>R.date===Ye(S,"yyyy-MM-dd"));return y.jsxs("button",{onClick:()=>r(S),className:`flex flex-col items-center justify-center p-3 rounded-xl transition-all ${T?"bg-lime-400 text-black shadow-lg shadow-lime-400/20":"text-zinc-500 hover:bg-zinc-800"}`,children:[y.jsx("span",{className:"text-[10px] font-bold uppercase",children:Ye(S,"EEE")}),y.jsx("span",{className:`text-lg font-bold ${T?"text-black":"text-zinc-400"}`,children:Ye(S,"d")}),C&&!T&&y.jsx("div",{className:"w-1 h-1 bg-lime-400 rounded-full mt-1"})]},S.toString())})})}),l?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[y.jsx("div",{className:"w-10 h-10 border-4 border-lime-400/20 border-t-lime-400 rounded-full animate-spin"}),y.jsx("p",{className:"text-zinc-500 font-bold text-xs uppercase tracking-widest",children:"Loading workouts..."})]}):v?y.jsxs("div",{className:"space-y-4",children:[v.notes&&y.jsxs("div",{className:"bg-lime-400/10 border border-lime-400/20 rounded-2xl p-4",children:[y.jsx("h3",{className:"text-lime-400 font-bold text-sm mb-1",children:"Coach Notes"}),y.jsx("p",{className:"text-white text-sm",children:v.notes})]}),y.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 border border-zinc-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-zinc-400 text-sm font-bold",children:"Progress"}),y.jsxs("span",{className:"text-lime-400 text-sm font-bold",children:[v.exercises.filter(S=>S.completed).length," / ",v.exercises.length," Completed"]})]}),y.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-lime-400 transition-all duration-500",style:{width:`${v.exercises.filter(S=>S.completed).length/v.exercises.length*100}%`}})})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("h3",{className:"text-white font-bold flex items-center",children:[y.jsx(fl,{size:18,className:"mr-2 text-lime-400"}),"Today's Exercises"]}),v.exercises.map(S=>y.jsx("div",{className:`bg-zinc-900 border rounded-3xl p-4 transition-all ${S.completed?"border-lime-500/30 bg-lime-900/10":"border-zinc-800"}`,children:y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h4",{className:`font-bold text-lg ${S.completed?"text-lime-400":"text-white"}`,children:S.exerciseName}),y.jsxs("div",{className:"flex items-center space-x-3 mt-2 text-zinc-500 text-sm",children:[y.jsxs("span",{children:[S.sets," Sets  ",S.reps," Reps"]}),S.weight&&S.weight>0&&y.jsxs("span",{children:[" ",S.weight,"kg"]}),y.jsxs("span",{className:"flex items-center",children:[y.jsx(dl,{size:12,className:"mr-1"}),E(S.restTime)," rest"]})]}),S.notes&&y.jsx("p",{className:"text-zinc-400 text-xs mt-2 italic",children:S.notes})]}),y.jsx("button",{onClick:()=>w(S.id,S.completed),className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all ${S.completed?"bg-lime-400 border-lime-400 text-black":"border-zinc-600 text-transparent hover:border-lime-400"}`,children:S.completed?y.jsx(Fh,{size:20}):y.jsx(fP,{size:20})})]})},S.id))]})]}):y.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-6 text-center p-6 py-20",children:[y.jsx("div",{className:"w-24 h-24 bg-zinc-900 rounded-full flex items-center justify-center mb-2",children:y.jsx(Mi,{size:40,className:"text-zinc-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"No Workout Planned"}),y.jsxs("p",{className:"text-zinc-400",children:["Your coach hasn't assigned a workout for ",Ye(n,"EEEE"),"."]}),y.jsx("p",{className:"text-zinc-500 text-sm mt-2",children:"Take a rest day or create your own plan!"})]})]})]})},fde=({coachId:e,athleteId:t,onBack:n})=>{const[r,i]=A.useState([]),[a,l]=A.useState([]),[u,d]=A.useState(t),[f,h]=A.useState(!0);A.useEffect(()=>{p()},[e]),A.useEffect(()=>{u&&v()},[u]);const p=async()=>{const{data:S}=await de.from("profiles").select("id, name, avatar_url").eq("selected_coach_id",e);S&&(l(S),!u&&S.length>0&&d(S[0].id))},v=async()=>{if(!u)return;h(!0);const{data:S}=await ade(e,u);S&&i(S),h(!1)},w=a.find(S=>S.id===u),E=S=>{if(S.exercises.length===0)return 0;const T=S.exercises.filter(C=>C.completed).length;return Math.round(T/S.exercises.length*100)};return y.jsxs("div",{className:"pb-24 animate-fade-in space-y-6",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[n&&y.jsx("button",{onClick:n,className:"p-2 bg-zinc-900 rounded-full hover:bg-zinc-800 transition-colors",children:y.jsx(Gb,{size:20,className:"text-white"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h1",{className:"text-2xl font-bold text-white",children:"Workout Plans History"}),y.jsx("p",{className:"text-zinc-400 text-sm",children:"View assigned workout plans"})]})]}),y.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-4 border border-zinc-800",children:[y.jsxs("h3",{className:"text-white font-bold mb-3 flex items-center",children:[y.jsx(Bu,{size:18,className:"mr-2 text-lime-400"}),"Select Athlete"]}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.map(S=>y.jsx("button",{onClick:()=>d(S.id),className:`p-3 rounded-xl transition-all text-left ${u===S.id?"bg-lime-400 text-black":"bg-zinc-800 text-white hover:bg-zinc-700"}`,children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("img",{src:S.avatar_url||`https://i.pravatar.cc/150?u=${S.id}`,alt:S.name,className:"w-8 h-8 rounded-full"}),y.jsx("span",{className:"font-bold text-sm truncate",children:S.name})]})},S.id))})]}),f?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[y.jsx("div",{className:"w-10 h-10 border-4 border-lime-400/20 border-t-lime-400 rounded-full animate-spin"}),y.jsx("p",{className:"text-zinc-500 font-bold text-xs uppercase tracking-widest",children:"Loading plans..."})]}):r.length===0?y.jsxs("div",{className:"bg-zinc-900/50 border border-dashed border-zinc-800 rounded-3xl p-12 text-center",children:[y.jsx(Mi,{size:48,className:"text-zinc-700 mx-auto mb-4"}),y.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"No Workout Plans"}),y.jsx("p",{className:"text-zinc-500 text-sm",children:w?`No workout plans assigned to ${w.name} yet.`:"Select an athlete to view their workout plans."})]}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-white font-bold flex items-center",children:[y.jsx(fl,{size:18,className:"mr-2 text-lime-400"}),w==null?void 0:w.name,"'s Workout Plans (",r.length,")"]}),r.map(S=>{const T=E(S),C=T===100;return y.jsxs("div",{className:`bg-zinc-900 border rounded-3xl p-5 transition-all ${C?"border-lime-500/30 bg-lime-900/10":"border-zinc-800"}`,children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[y.jsx(Mi,{size:16,className:"text-lime-400"}),y.jsx("h4",{className:"text-white font-bold",children:Ye(new Date(S.date),"EEEE, MMMM d, yyyy")})]}),S.notes&&y.jsx("p",{className:"text-zinc-400 text-sm mt-2",children:S.notes})]}),C&&y.jsx("div",{className:"bg-lime-400/10 text-lime-400 px-3 py-1 rounded-full text-xs font-bold",children:" Completed"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("span",{className:"text-zinc-400 text-xs font-bold",children:"Progress"}),y.jsxs("span",{className:"text-lime-400 text-xs font-bold",children:[S.exercises.filter(R=>R.completed).length," / ",S.exercises.length," Exercises"]})]}),y.jsx("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-lime-400 transition-all duration-500",style:{width:`${T}%`}})})]}),y.jsx("div",{className:"space-y-2",children:S.exercises.map(R=>y.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${R.completed?"bg-lime-500/10 border border-lime-500/20":"bg-zinc-800/50"}`,children:[y.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[R.completed?y.jsx(Fh,{size:18,className:"text-lime-400"}):y.jsx(fP,{size:18,className:"text-zinc-600"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h5",{className:`font-bold text-sm ${R.completed?"text-lime-400":"text-white"}`,children:R.exerciseName}),y.jsxs("p",{className:"text-zinc-500 text-xs",children:[R.sets," sets  ",R.reps," reps",R.weight&&R.weight>0&&`  ${R.weight}kg`]})]})]}),R.completedAt&&y.jsx("span",{className:"text-zinc-500 text-[10px]",children:Ye(new Date(R.completedAt),"HH:mm")})]},R.id))})]},S.id)})]})]})},hde=({onBack:e})=>{const[t,n]=A.useState(0),[r,i]=A.useState(60),[a,l]=A.useState(!1),[u,d]=A.useState("60"),f=A.useRef(null);A.useEffect(()=>{f.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"),f.current.volume=.5;const R=localStorage.getItem("gym_smart_timer_target"),k=localStorage.getItem("gym_smart_timer_duration");if(k){const P=parseInt(k);i(P),d(P.toString())}if(R){const P=parseInt(R),D=Date.now();P>D?(n(Math.ceil((P-D)/1e3)),l(!0)):(n(0),l(!1),localStorage.removeItem("gym_smart_timer_target"))}else n(k?parseInt(k):60)},[]),A.useEffect(()=>{let R;return a&&t>0?R=window.setInterval(()=>{const k=localStorage.getItem("gym_smart_timer_target");if(k){const P=parseInt(k),D=Date.now(),O=Math.ceil((P-D)/1e3);O<=0?(n(0),l(!1),localStorage.removeItem("gym_smart_timer_target"),h(),navigator.vibrate&&navigator.vibrate([200,100,200])):n(O)}else l(!1)},100):t===0&&a&&(l(!1),localStorage.removeItem("gym_smart_timer_target")),()=>clearInterval(R)},[a,t]);const h=()=>{f.current&&f.current.play().catch(R=>console.log("Audio play failed",R))},p=()=>{const R=Date.now()+t*1e3;localStorage.setItem("gym_smart_timer_target",R.toString()),localStorage.setItem("gym_smart_timer_duration",r.toString()),l(!0)},v=()=>{l(!1),localStorage.removeItem("gym_smart_timer_target")},w=()=>{l(!1),localStorage.removeItem("gym_smart_timer_target"),n(r)},E=R=>{d(R.target.value)},S=()=>{const R=parseInt(u);!isNaN(R)&&R>0&&(i(R),n(R),localStorage.setItem("gym_smart_timer_duration",R.toString()),a&&v())},T=R=>{const k=Math.floor(R/60),P=R%60;return`${k}:${P.toString().padStart(2,"0")}`},C=[30,60,90,120,180];return y.jsxs("div",{className:"flex flex-col h-full bg-zinc-950 animate-fade-in p-6",children:[y.jsxs("div",{className:"flex items-center mb-8",children:[y.jsx("button",{onClick:e,className:"bg-zinc-900 p-2 rounded-full text-white hover:bg-zinc-800 transition-colors",children:y.jsx(I4,{size:24})}),y.jsxs("h1",{className:"text-2xl font-bold ml-4 flex items-center",children:[y.jsx(dl,{className:"mr-2 text-lime-400"})," Workout Timer"]})]}),y.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[y.jsxs("div",{className:"mb-12 relative w-64 h-64 flex items-center justify-center",children:[y.jsx("div",{className:`absolute inset-0 rounded-full border-8 ${a?"border-lime-400 animate-pulse":"border-zinc-800"} opacity-30`}),y.jsx("div",{className:"text-7xl font-mono font-bold text-white tracking-widest",children:T(t)})]}),y.jsxs("div",{className:"flex items-center gap-6 mb-12",children:[a?y.jsx("button",{onClick:v,className:"w-20 h-20 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg shadow-yellow-400/20 hover:scale-105 transition-transform",children:y.jsx(b3,{size:32,className:"text-black",fill:"black"})}):y.jsx("button",{onClick:p,className:"w-20 h-20 bg-lime-400 rounded-full flex items-center justify-center shadow-lg shadow-lime-400/20 hover:scale-105 transition-transform",children:y.jsx(Bf,{size:32,className:"text-black ml-1",fill:"black"})}),y.jsx("button",{onClick:w,className:"w-14 h-14 bg-zinc-800 rounded-full flex items-center justify-center text-zinc-400 hover:text-white hover:bg-zinc-700 transition-colors",children:y.jsx(pP,{size:24})})]}),y.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[y.jsx("div",{className:"flex justify-between gap-2",children:C.map(R=>y.jsx("button",{onClick:()=>{i(R),d(R.toString()),n(R),localStorage.setItem("gym_smart_timer_duration",R.toString()),a&&v()},className:`py-2 px-3 rounded-xl text-sm font-bold transition-colors flex-1 ${r===R?"bg-zinc-800 text-lime-400 border border-lime-400/50":"bg-zinc-900 text-zinc-400 hover:bg-zinc-800"}`,children:R<60?`${R}s`:`${R/60}m`},R))}),y.jsxs("div",{className:"bg-zinc-900 p-4 rounded-2xl border border-zinc-800 flex items-center gap-4",children:[y.jsx("span",{className:"text-zinc-400 text-sm",children:"Custom (sec):"}),y.jsx("input",{type:"number",value:u,onChange:E,className:"bg-transparent border-b border-zinc-700 text-white font-bold w-20 text-center focus:outline-none focus:border-lime-400"}),y.jsx("button",{onClick:S,className:"ml-auto text-xs bg-zinc-800 px-3 py-1 rounded-lg hover:bg-zinc-700 text-white",children:"Set"})]})]})]})]})},mde=()=>{const[e,t]=A.useState(null),[n,r]=A.useState(Oe.DASHBOARD),[i,a]=A.useState(!1),[l,u]=A.useState(!0),[d,f]=A.useState(null),[h,p]=A.useState(null),[v,w]=A.useState(0),[E,S]=A.useState(null),[T,C]=A.useState(!1),[R,k]=A.useState(null);A.useEffect(()=>{de.auth.getSession().then(({data:{session:K}})=>{K?O(K.user.id,K.user.email):u(!1)}).catch(K=>{console.error("Auth session error:",K),f("Failed to connect to authentication service."),u(!1)});const{data:{subscription:L}}=de.auth.onAuthStateChange((K,X)=>{X?O(X.user.id,X.user.email):(t(null),u(!1))});return()=>L.unsubscribe()},[]),A.useEffect(()=>{e&&(e.role===$t.COACH?P():D())},[e==null?void 0:e.id]),A.useEffect(()=>{n===Oe.CHAT&&w(0)},[n]);const P=async()=>{if(!e)return;const{count:L}=await de.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("is_read",!1);w(L||0)},D=async()=>{if(!(e!=null&&e.selectedCoachId))return;const{count:L}=await de.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("sender_id",e.selectedCoachId).eq("is_read",!1);w(L||0)},O=async(L,K)=>{try{const{data:X,error:H}=await de.from("profiles").select("*").eq("id",L).single();if(H&&H.code!=="PGRST116")throw H;X?t({id:L,email:K,name:X.name||K.split("@")[0],role:X.role,avatarUrl:X.avatar_url||`https://i.pravatar.cc/150?u=${L}`,streak:X.streak||0,points:X.points||0,gymCode:X.gym_code,selectedCoachId:X.selected_coach_id}):(console.log("Profile not found, using default/mock for session"),t({id:L,email:K,name:K.split("@")[0],role:$t.ATHLETE,avatarUrl:`https://i.pravatar.cc/150?u=${L}`,streak:0,points:0}))}catch(X){console.error("Error fetching profile:",X),f("Could not load user profile. Please check your connection.")}finally{u(!1)}},M=async L=>{if(e){t({...e,selectedCoachId:L});const{error:K}=await de.from("profiles").update({selected_coach_id:L}).eq("id",e.id);K&&console.error("Error updating coach selection:",K)}},B=()=>{if(!e)return y.jsx(lP,{onLogin:()=>{}});if(e.role===$t.COACH)switch(n){case Oe.DASHBOARD:return y.jsx(AR,{coachName:e.name,coachId:e.id,unreadCount:v,onChatAthlete:L=>{p(L),r(Oe.CHAT)},onAssignWorkout:async L=>{const{data:K}=await de.from("profiles").select("name").eq("id",L).single();k({id:L,name:(K==null?void 0:K.name)||"Athlete"}),C(!0)},onViewWorkoutHistory:()=>r(Oe.WORKOUT_HISTORY)});case Oe.WORKOUTS:return y.jsx(CR,{athleteId:E||void 0,isCoachView:!0,onBack:()=>{S(null),r(Oe.DASHBOARD)}});case Oe.ATHLETES:return y.jsx(tde,{coachId:e.id,onChatAthlete:L=>{p(L),r(Oe.CHAT)},onAssignWorkout:async L=>{const{data:K}=await de.from("profiles").select("name").eq("id",L).single();k({id:L,name:(K==null?void 0:K.name)||"Athlete"}),C(!0)},onViewWorkoutHistory:()=>r(Oe.WORKOUT_HISTORY)});case Oe.CHAT:return y.jsx(sP,{currentUserId:e.id,selectedCoachId:h||void 0,isCoachView:!0,onMessagesRead:e.role===$t.COACH?P:D},h||"coach_chat");case Oe.ALERTS:return y.jsx("div",{className:"p-6 text-white text-center mt-20",children:"Risk Alerts (Coming Soon)"});case Oe.WORKOUT_HISTORY:return y.jsx(fde,{coachId:e.id,onBack:()=>r(Oe.DASHBOARD)});case Oe.LEADERBOARD:return y.jsx(my,{});case Oe.PROFILE:case Oe.STATS:return y.jsx(py,{user:e});default:return y.jsx(AR,{coachName:e.name})}if(e.role===$t.ADMIN)switch(n){case Oe.DASHBOARD:return y.jsx(uP,{});case Oe.PROFILE:return y.jsx(py,{user:e});case Oe.LEADERBOARD:return y.jsx(my,{});default:return y.jsx(uP,{})}switch(n){case Oe.DASHBOARD:return y.jsx(TR,{user:e,onSelectCoach:M,onChatWithCoach:()=>r(Oe.CHAT),onViewAssignedWorkouts:()=>r(Oe.ASSIGNED_WORKOUTS),onOpenTimer:()=>r(Oe.TIMER)});case Oe.WORKOUTS:return y.jsx(CR,{});case Oe.ASSIGNED_WORKOUTS:return y.jsx(dde,{athleteId:e.id,onBack:()=>r(Oe.DASHBOARD)});case Oe.TIMER:case"timer":return y.jsx(hde,{onBack:()=>r(Oe.DASHBOARD)});case Oe.CHALLENGES:return y.jsx(ede,{});case Oe.MEAL_SCAN:return y.jsx(Jce,{});case Oe.PROFILE:case Oe.STATS:return y.jsx(py,{user:e});case Oe.CHAT:return y.jsx(sP,{currentUserId:e.id,selectedCoachId:e.selectedCoachId,onMessagesRead:e.role===$t.COACH?P:D},e.selectedCoachId||"athlete_chat");case Oe.LEADERBOARD:return y.jsx(my,{});default:return y.jsx(TR,{user:e,onSelectCoach:M,onChatWithCoach:()=>r(Oe.CHAT),onOpenTimer:()=>r(Oe.TIMER)})}};return l?y.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center space-y-4",children:[y.jsx("div",{className:"w-12 h-12 border-4 border-lime-400 border-t-transparent rounded-full animate-spin"}),y.jsx("div",{className:"text-lime-400 font-medium animate-pulse",children:"Loading GymSmart..."})]}):d?y.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6 text-center",children:y.jsxs("div",{className:"bg-zinc-900 p-8 rounded-3xl border border-zinc-800 max-w-sm",children:[y.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Uf,{size:32})}),y.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Connection Issue"}),y.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:d}),y.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white text-black font-bold py-3 rounded-xl hover:bg-zinc-200 transition-colors",children:"Retry Connection"})]})}):e?y.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white font-sans selection:bg-lime-400 selection:text-black",children:[y.jsxs("div",{className:"sticky top-0 z-40 bg-zinc-950/80 backdrop-blur-md px-6 py-4 flex justify-between items-center border-b border-white/5",children:[y.jsx("button",{onClick:()=>a(!i),className:"text-white p-2 -ml-2 hover:bg-zinc-800 rounded-full transition-colors",children:y.jsx(m3,{size:24})}),y.jsxs("div",{className:"flex items-center space-x-1",children:[y.jsx("div",{className:"w-2 h-2 bg-lime-400 rounded-full"}),y.jsxs("span",{className:"font-bold tracking-tight",children:["GYM",y.jsx("span",{className:"text-lime-400",children:"SMART"})]})]}),y.jsxs("button",{className:"relative text-white p-2 -mr-2 hover:bg-zinc-800 rounded-full transition-colors",children:[y.jsx(Uf,{size:24}),v>0&&y.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-zinc-950 animate-pulse"})]})]}),y.jsx("main",{className:"px-6 pt-6 pb-24 max-w-md mx-auto",children:B()}),e.role===$t.ATHLETE&&n!==Oe.CHAT&&y.jsxs("button",{onClick:()=>r(Oe.CHAT),className:"fixed bottom-24 right-6 w-14 h-14 bg-zinc-800 border border-zinc-700 rounded-full flex items-center justify-center text-lime-400 shadow-xl z-30 hover:scale-110 transition-transform",children:[v>0&&y.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-zinc-800 animate-pulse"}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})]}),y.jsx(J3,{currentView:n,onChangeView:r,role:e.role,unreadChatCount:e.role===$t.ATHLETE?v:0,unreadAthletesCount:e.role===$t.COACH?v:0}),T&&R&&y.jsx(cde,{coachId:e.id,athleteId:R.id,athleteName:R.name,onClose:()=>{C(!1),k(null)},onSuccess:()=>{C(!1),k(null)}})]}):y.jsx(lP,{onLogin:()=>{}})};class pde extends $b.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){var t;return this.state.hasError?y.jsxs("div",{style:{color:"red",padding:"20px",backgroundColor:"white"},children:[y.jsx("h1",{children:"Something went wrong."}),y.jsx("pre",{children:(t=this.state.error)==null?void 0:t.toString()})]}):this.props.children}}const Vz=document.getElementById("root");if(!Vz)throw new Error("Could not find root element to mount to");const gde=T4.createRoot(Vz);gde.render(y.jsx($b.StrictMode,{children:y.jsx(pde,{children:y.jsx(mde,{})})}));
